if (self.CavalryLogger) { CavalryLogger.start_js(["GuqyP"]); }

__d("VideoPlayerFormatsMap",[],(function a(b,c,d,e,f,g){f.exports={live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",media_collage:"inline",channel:"channel",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",ads:null,animated_image_share:null,asset:null,broadcast_request_attachment:null,camera_post:null,embedded:null,embedded_page_plugin:null,html5:null,insights:null,live_video_broadcast:null,live_video_preview:null,live_beeper:null,lookback:null,messaging:null,misc:null,mobile:null,offers_detail:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,report_flow:null,review:null,srt_review:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,videohub_playlist:null,videohub_featured:null,videohub_live:null,slideshow:null,live_map_tooltip_from_webgl:null,issues_module:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,gameroom_live_video_hero_banner:null,live_control_panel:null,group_live_video_module:null,video_inline_chaining:null};}),null);
__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){f.exports={orderedValues:["sd","hd","uhd"]};}),null);
__d('ChannelConstants',[],(function a(b,c,d,e,f,g){var h='channel/',i={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2000,MUTE_WARNING_TIME_MSEC:25000,WARNING_COUNTDOWN_THRESHOLD_MSEC:15000,ON_SHUTDOWN:h+'shutdown',ON_INVALID_HISTORY:h+'invalid_history',ON_CONFIG:h+'config',ON_ENTER_STATE:h+'enter_state',ON_EXIT_STATE:h+'exit_state',ATTEMPT_RECONNECT:h+'attempt_reconnect',RTI_SESSION:h+'new_rti_address',GET_RTI_SESSION_REQUEST:h+'rti_session_request',SKYWALKER:h+'skywalker',CHANNEL_ESTABLISHED:h+'established',OK:'ok',ERROR:'error',ERROR_MAX:'error_max',ERROR_MISSING:'error_missing',ERROR_MSG_TYPE:'error_msg_type',ERROR_SHUTDOWN:'error_shutdown',ERROR_STALE:'error_stale',SYS_OWNER:'sys_owner',SYS_NONOWNER:'sys_nonowner',SYS_ONLINE:'sys_online',SYS_OFFLINE:'sys_offline',SYS_TIMETRAVEL:'sys_timetravel',HINT_AUTH:'shutdown auth',HINT_CONN:'shutdown conn',HINT_DISABLED:'shutdown disabled',HINT_INVALID_STATE:'shutdown invalid state',HINT_MAINT:'shutdown maint',HINT_UNSUPPORTED:'shutdown unsupported',reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,FANTAIL_SERVICE:'WebchatClient',SUBSCRIBE:'subscribe',UNSUBSCRIBE:'unsubscribe',FAKE_DFF:'fake_dff',THROTTLED:h+'throttled',JUMPSTART:h+'jumpstart',ENTITY_PRESENCE_ACTIVE_PING:'entity_presence/active_ping',getArbiterType:function j(k){return h+'message:'+k;},getSkywalkerArbiterType:function j(k){return h+'skywalker:'+k;}};f.exports=i;}),18);
__d('CurrentLocale',['LocaleInitialData'],(function a(b,c,d,e,f,g){var h={};h.get=function(){return c('LocaleInitialData').locale;};f.exports=h;}),null);
__d('SystemEvents',['ArbiterMixin','ErrorUtils','SystemEventsInitialData','UserAgent_DEPRECATED','TimeSlice','mixin','setIntervalAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=1000;h=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function k(){i.constructor.call(this);this.USER='SystemEvents/USER';this.ONLINE='SystemEvents/ONLINE';this.TIME_TRAVEL='SystemEvents/TIME_TRAVEL';this.$SystemEvents1=c('SystemEventsInitialData').ORIGINAL_USER_ID;this.$SystemEvents2=this.$SystemEvents1;this.$SystemEvents3=navigator.onLine;this.$SystemEvents4=Date.now();this.$SystemEvents5();}k.prototype.isPageOwner=function(l){return (l||this.$SystemEvents6())==this.$SystemEvents1;};k.prototype.isOnline=function(){return !!(c('UserAgent_DEPRECATED').chrome()||this.$SystemEvents3);};k.prototype.checkTimeTravel=function(){var l=Date.now(),m=l-this.$SystemEvents4;this.$SystemEvents4=l;if(m<0||m>10000)this.inform(this.TIME_TRAVEL,m);};k.prototype.$SystemEvents5=function(){this.$SystemEvents7();this.$SystemEvents8();this.$SystemEvents9();this.$SystemEvents10();};k.prototype.$SystemEvents7=function(){var l=c('TimeSlice').guard(function(){if(!this.$SystemEvents3){this.$SystemEvents3=true;this.inform(this.ONLINE,this.$SystemEvents3);}}.bind(this),'SystemEvents onOnline'),m=c('TimeSlice').guard(function(){if(this.$SystemEvents3){this.$SystemEvents3=false;this.inform(this.ONLINE,this.$SystemEvents3);}}.bind(this),'SystemEvents onOffline');if(c('UserAgent_DEPRECATED').ie()){if(c('UserAgent_DEPRECATED').ie()>=11){window.addEventListener('online',l,false);window.addEventListener('offline',m,false);}else if(c('UserAgent_DEPRECATED').ie()>=8){window.attachEvent('onload',function(){document.body.ononline=l;document.body.onoffline=m;});}else c('setIntervalAcrossTransitions')(function(){(navigator.onLine?l:m)();},j);}else if(window.addEventListener){window.addEventListener('online',l,false);window.addEventListener('offline',m,false);}};k.prototype.$SystemEvents8=function(){c('setIntervalAcrossTransitions')(function(){var l=this.$SystemEvents6();if(this.$SystemEvents2!=l){this.$SystemEvents2=l;this.inform(this.USER,l);}}.bind(this),j);};k.prototype.$SystemEvents9=function(){c('setIntervalAcrossTransitions')(this.checkTimeTravel.bind(this),j);};k.prototype.$SystemEvents10=function(){c('setIntervalAcrossTransitions')(function(){if(window.onerror!=c('ErrorUtils').onerror)window.onerror=c('ErrorUtils').onerror;},j);};k.prototype.$SystemEvents6=function(){return /c_user=(\d+)/.test(document.cookie)&&RegExp.$1||'0';};f.exports=new k();}),19);
__d('UserActivity',['Arbiter','Event'],(function a(b,c,d,e,f,g){var h=5000,i=500,j=-5,k=Date.now(),l=k,m=false,n=Date.now(),o=document.hasFocus?document.hasFocus():true,p=0,q=Date.now(),r=-1,s=-1,t={EVENT_INTERVAL_MS:i,subscribeOnce:function x(y){var z=t.subscribe(function(aa,ba){t.unsubscribe(z);y(ba);});return z;},subscribe:function x(y){return c('Arbiter').subscribe('useractivity/activity',y);},unsubscribe:function x(y){y.unsubscribe();},isActive:function x(y){return new Date()-k<(y||h);},isOnTab:function x(){return o;},hasBeenInactive:function x(){return m;},resetActiveStatus:function x(){o=true;m=false;},getLastInActiveEnds:function x(){return n;},getLastActive:function x(){return k;},setIdleTime:function x(y){p=y;},getLastLeaveTime:function x(){return q;},getLastInformTime:function x(){return l;},reset:function x(){k=Date.now();l=k;m=false;n=Date.now();o=document.hasFocus?document.hasFocus():true;p=0;q=Date.now();r=-1;s=-1;}};function u(event){var x=b.MouseEvent;if(x&&event instanceof x){if(event.pageX==r&&event.pageY==s&&event.type!='click')return;r=event.pageX;s=event.pageY;}k=Date.now();var y=k-l;if(y>i){l=k;if(!o)q=k;if(y>=(p||h)){m=true;n=k;}c('Arbiter').inform('useractivity/activity',{event:event,idleness:y,last_inform:l});}else if(y<j)l=k;}function v(event){o=true;n=Date.now();u(event);}function w(event){o=false;m=true;q=Date.now();}c('Event').listen(window,'scroll',u);c('Event').listen(window,'focus',v);c('Event').listen(window,'blur',w);c('Event').listen(document.documentElement,{DOMMouseScroll:u,mousewheel:u,keydown:u,mouseover:u,mousemove:u,click:u},undefined,undefined,{passive:true});c('Arbiter').subscribe('Event/stop',function(x,y){u(y.event);});f.exports=t;}),null);
__d('RTISubscriptionManager',['invariant','ChannelConstants','CurrentLocale','SystemEvents','setTimeoutAcrossTransitions','Arbiter','ErrorUtils','Run','RTISubscriptionManagerConfig','UserActivity'],(function a(b,c,d,e,f,g,h){'use strict';var i={SUBSCRIBE:'s',UNSUBSCRIBE:'u'},j=300,k=20;function l(){this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=[];this.$RTISubscriptionManager3={};this.$RTISubscriptionManager4=null;this.$RTISubscriptionManager5;this.$RTISubscriptionManager6=false;this.$RTISubscriptionManager7=false;this.$RTISubscriptionManager8=false;this.$RTISubscriptionManager9=true;this.$RTISubscriptionManager10=document.readyState==='complete';c('Run').onAfterLoad(function(){this.$RTISubscriptionManager10=true;this.flush();}.bind(this));this.$RTISubscriptionManager11=null;c('Arbiter').subscribe(c('ChannelConstants').ON_ENTER_STATE,function(o,p){if(!this.$RTISubscriptionManager11)return;var q=/pull/.test(p.state);if(!this.$RTISubscriptionManager4&&q){this.$RTISubscriptionManager5=true;if(!this.$RTISubscriptionManager6){this.$RTISubscriptionManager6=true;c('setTimeoutAcrossTransitions')(function(){this.$RTISubscriptionManager4=this.$RTISubscriptionManager5;this.$RTISubscriptionManager6=false;if(this.$RTISubscriptionManager4)this.flush();}.bind(this),l.PULL_HINT_DELAY_MILLIS);}}else if(!q){this.$RTISubscriptionManager5=false;this.$RTISubscriptionManager4=false;}else if(q){this.$RTISubscriptionManager4=true;this.flush();}}.bind(this));c('SystemEvents').subscribe(c('SystemEvents').ONLINE,function(o,p){if(!p){this.$RTISubscriptionManager4=false;this.$RTISubscriptionManager5=false;}}.bind(this));c('SystemEvents').subscribe(c('SystemEvents').USER,function(o,p){this.$RTISubscriptionManager4=false;this.$RTISubscriptionManager5=false;this.$RTISubscriptionManager1={};this.$RTISubscriptionManager2=[];this.$RTISubscriptionManager3={};}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').RTI_SESSION,function(o,p){if(!this.$RTISubscriptionManager11&&p)this.deleteSubscriptions(function(q){return q.getState()===i.UNSUBSCRIBE;});this.$RTISubscriptionManager11=p;if(this.$RTISubscriptionManager11){this.$RTISubscriptionManager4=true;this.flush();}}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').ON_INVALID_HISTORY,function(){this.$RTISubscriptionManager4=true;this.forEachSubscription(function(o,p){p.setDirty(true);});this.getCurrentSession();}.bind(this));this.getCurrentSession();c('Arbiter').subscribe(c('ChannelConstants').SKYWALKER,function(o,p){var q=p.obj.topic,r={};if(p.obj.payloads===undefined){r.obj=[p.obj.payload];}else r.obj=p.obj.payloads;c('Arbiter').inform(c('ChannelConstants').getSkywalkerArbiterType(q),r);});}l.prototype.subscribe=function(o,p,q,r,s){o||h(0);p||h(0);var t=this.getMaxSubscriptions(),u=Object.keys(this.$RTISubscriptionManager1).length-Object.keys(this.$RTISubscriptionManager3).length;if(u>=t){var v=this.getEvictionBatchSize();if(v===0)return null;this.$RTISubscriptionManager2=this.$RTISubscriptionManager2.filter(function(da){return this.isSubscribed(da)&&this.$RTISubscriptionManager1[da].getState()===i.SUBSCRIBE;}.bind(this));while(u>=t){if(this.$RTISubscriptionManager2.length==0)return null;for(var w=0;w<v;w++){if(w>=this.$RTISubscriptionManager2.length)break;this.unsubscribe(this.$RTISubscriptionManager2[w]);u--;}this.$RTISubscriptionManager2=this.$RTISubscriptionManager2.slice(v);}}q=q||{};q.locale=c('CurrentLocale').get();if(c('RTISubscriptionManagerConfig').autobot&&!q.autobotOverrideTier){q.autobotOverrideTier=c('RTISubscriptionManagerConfig').autobot.tier;q.autobotOverrideHostName=c('RTISubscriptionManagerConfig').autobot.host_name;q.autobotOverrideHostIp=c('RTISubscriptionManagerConfig').autobot.host_ip;}if(c('RTISubscriptionManagerConfig').assimilator){q.tierType=c('RTISubscriptionManagerConfig').assimilator.tierType;q.sandboxIP=c('RTISubscriptionManagerConfig').assimilator.sandboxIP;q.sandboxPort=c('RTISubscriptionManagerConfig').assimilator.sandboxPort;q.sandboxHostname=c('RTISubscriptionManagerConfig').assimilator.sandboxHostname;}var x=new n(o,p,q,r,s);if(this.isSubscribed(o)){var y=this.$RTISubscriptionManager1[o],z=JSON.stringify(x.getContext())===JSON.stringify(y.getContext());if(o in this.$RTISubscriptionManager3){if(z){x.setDirty(false);x.setSent(true);delete this.$RTISubscriptionManager3[o];}else this.flush();}else{if(y&&y.getArbiterToken()){c('Arbiter').unsubscribe(y.getArbiterToken());y.setArbiterToken(null);}x.setDirty(y.isDirty());x.setSent(y.isSent());o.startsWith('gqls/');}}var aa=new m(x);this.$RTISubscriptionManager1[o]=x;this.$RTISubscriptionManager2.push(o);var ba=c('ChannelConstants').getSkywalkerArbiterType(o),ca=c('Arbiter').subscribe(ba,function(da,event){var ea=event.obj.length;for(var fa=0;fa<ea;fa++){var ga={topic:o,payload:event.obj[fa]};c('ErrorUtils').applyWithGuard(p,this,[ga]);}this.$RTISubscriptionManager12();}.bind(this));x.setArbiterToken(ca);this.flush();return aa;};l.prototype.unsubscribe=function(o){o||h(0);if(o in this.$RTISubscriptionManager1){var p=this.$RTISubscriptionManager1[o];p.prepareUnsubscribe();if(p.getArbiterToken()){c('Arbiter').unsubscribe(p.getArbiterToken());p.setArbiterToken(null);}this.$RTISubscriptionManager3[o]=true;}};l.prototype.unsubscribeAll=function(){if(this.isReady()){var o={reset:'t'};this.$RTISubscriptionManager11.issueRequest('/sub',o,{},function(p){});}};l.prototype.activePing=function(){if(this.isReady()){var o={state:'active'};this.$RTISubscriptionManager11.issueRequest('/active_ping',o,{},function(p){});}};l.prototype.flush=function(){var o,p=this;if(this.isReady()&&!this.$RTISubscriptionManager7){var q;(function(){p.$RTISubscriptionManager7=true;p.$RTISubscriptionManager8=false;var r=[],s={},t=false;p.forEachSubscription(function(x,y){if(y.isDirty()){var z='subscriptions',aa=s[z];if(!aa){aa=[];s[z]=aa;}r.push(y);y.setDirty(false);y.setSent(false);var ba={topic:y.getTopic(),state:y.getState(),context:y.getContext()};aa.push(ba);}else t=true;});if(!t&&s.subscriptions&&s.subscriptions.length>0){var u=[];for(q=0;q<s.subscriptions.length;q++)if(s.subscriptions[q].state!==i.UNSUBSCRIBE)u.push(s.subscriptions[q]);s.subscriptions=u;p.$RTISubscriptionManager9=true;}var v=function(x){var y=x.data!=null;if(this.$RTISubscriptionManager9&&y)this.$RTISubscriptionManager9=false;for(var z=0;z<r.length;z++){var aa=r[z];aa.setSent(y);aa.setDirty(!y);if(aa.getState()===i.SUBSCRIBE){var ba=aa.getSubscribeCallback();if(ba!==null)c('ErrorUtils').applyWithGuard(ba,this,[x]);}else if(y)delete this.$RTISubscriptionManager3[aa.getTopic()];}this.deleteSubscriptions(function(ca){return ca.getState()===i.UNSUBSCRIBE&&ca.isSent();});this.$RTISubscriptionManager7=false;if(this.$RTISubscriptionManager8){this.$RTISubscriptionManager8=false;this.flush();}}.bind(p);if(Object.keys(s).length>0){var w={};if(p.$RTISubscriptionManager9)w.reset='t';p.$RTISubscriptionManager11.issueRequest('/sub',w,s,v);}else p.$RTISubscriptionManager7=false;})();}else{this.$RTISubscriptionManager8=true;if(this.$RTISubscriptionManager11===null)this.getCurrentSession();}};l.prototype.deleteSubscriptions=function(o){o||h(0);var p=[];this.forEachSubscription(function(r,s){if(o.apply(this,[s]))p.push(r);});for(var q=0;q<p.length;q++)delete this.$RTISubscriptionManager1[p[q]];};l.prototype.forEachSubscription=function(o){o||h(0);for(var p in this.$RTISubscriptionManager1)if(Object.prototype.hasOwnProperty.call(this.$RTISubscriptionManager1,p))o.apply(this,[p,this.$RTISubscriptionManager1[p]]);};l.prototype.getSubscriptions=function(){var o=[];this.forEachSubscription(function(p,q){o.push(q);});return o;};l.prototype.isUnflushedUnsubscribe=function(o){o||h(0);return o in this.$RTISubscriptionManager3;};l.prototype.isSubscribed=function(o){o||h(0);return o in this.$RTISubscriptionManager1;};l.prototype.isReady=function(){if(this.$RTISubscriptionManager11&&this.$RTISubscriptionManager4!==null&&this.$RTISubscriptionManager4&&this.$RTISubscriptionManager10)return true;return false;};l.prototype.getCurrentSession=function(){c('Arbiter').inform(c('ChannelConstants').GET_RTI_SESSION_REQUEST);};l.prototype.getEvictionBatchSize=function(){if(c('RTISubscriptionManagerConfig').config&&Object.prototype.hasOwnProperty.call(c('RTISubscriptionManagerConfig').config,'eviction_batch_size')){return c('RTISubscriptionManagerConfig').config.eviction_batch_size;}else return k;};l.prototype.getMaxSubscriptions=function(){if(c('RTISubscriptionManagerConfig').config&&Object.prototype.hasOwnProperty.call(c('RTISubscriptionManagerConfig').config,'max_subscriptions')){return c('RTISubscriptionManagerConfig').config.max_subscriptions;}else return j;};l.prototype.$RTISubscriptionManager12=function(){var o=null,p=null;if(c('RTISubscriptionManagerConfig').config){o=c('RTISubscriptionManagerConfig').config.www_idle_unsubscribe_min_time_ms;p=c('RTISubscriptionManagerConfig').config.www_idle_unsubscribe_times_ms;}if(!o||!p)return;if(c('UserActivity').isActive(o))return;this.forEachSubscription(function(q,r){var s=r.getTopic(),t=false;if(s.startsWith('gqls/')){var u=s.split('/',2)[1];if(p!==null&&typeof p==='object'&&p[u]!==undefined){t=!c('UserActivity').isActive(p[u]);}else t=false;}if(t)this.unsubscribe(s);}.bind(this));};function m(o){this.$SubscriptionToken1=o;}m.prototype.getContext=function(){return this.$SubscriptionToken1.getContext();};m.prototype.unsubscribe=function(){var o=this.$SubscriptionToken1.getUnsubscribeHook();if(o)o();l.unsubscribe(this.$SubscriptionToken1.getTopic());};m.prototype.fastUnsubscribe=function(){this.unsubscribe();l.flush();};function n(o,p,q,r,s){this.$SubscriptionData1=o;this.$SubscriptionData2=p;this.$SubscriptionData3=true;this.$SubscriptionData4=false;this.$SubscriptionData5=i.SUBSCRIBE;this.$SubscriptionData6=null;this.$SubscriptionData7=Date.now();if(q){this.$SubscriptionData8=q;}else this.$SubscriptionData8={};this.$SubscriptionData9=r?r:null;this.$SubscriptionData10=s?s:null;}n.prototype.getCreatedTime=function(){return this.$SubscriptionData7;};n.prototype.getTopic=function(){return this.$SubscriptionData1;};n.prototype.getListener=function(){return this.$SubscriptionData2;};n.prototype.getSubscribeCallback=function(){return this.$SubscriptionData9;};n.prototype.getUnsubscribeHook=function(){return this.$SubscriptionData10;};n.prototype.getArbiterToken=function(){return this.$SubscriptionData6;};n.prototype.setArbiterToken=function(o){this.$SubscriptionData6=o;};n.prototype.isDirty=function(){return this.$SubscriptionData3;};n.prototype.setDirty=function(o){this.$SubscriptionData3=o;};n.prototype.getState=function(){return this.$SubscriptionData5;};n.prototype.setState=function(o){this.$SubscriptionData5=o;};n.prototype.getContext=function(){return this.$SubscriptionData8;};n.prototype.isSent=function(){return this.$SubscriptionData4;};n.prototype.setSent=function(o){this.$SubscriptionData4=o;};n.prototype.prepareUnsubscribe=function(){this.setState(i.UNSUBSCRIBE);this.setDirty(true);this.setSent(false);if(c('RTISubscriptionManagerConfig').unsubscribe_release)this.$SubscriptionData2=null;};c('Run').onUnload(function(){l.unsubscribeAll();});l.PULL_HINT_DELAY_MILLIS=10000;Object.keys(l.prototype).forEach(function(o){l[o]=function(){var p=l;return l.prototype[o].apply(p,arguments);};});l.call(l);f.exports=l;}),null);
__d('XUIAmbientNUXBody.react',['cx','React','XUICloseButton.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('joinClasses')("_21es",this.props.className);return c('React').createElement('div',{className:m},c('React').createElement(c('XUICloseButton.react'),{shade:'light',className:"_36gl",onClick:this.props.onCloseButtonClick}),c('React').createElement('div',{className:"__xn"},this.props.children));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={onCloseButtonClick:k.func};f.exports=l;}),null);
__d('XUIAmbientNUXTheme',['cx'],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};f.exports=i;}),null);
__d('XUIAmbientNUX.react',['fbt','React','ReactLayer','ReactAbstractContextualDialog','XUIAmbientNUXTheme','XUIAmbientNUXBody.react','uniqueID'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=300,m=380,n=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'XUIAmbientNUX',theme:c('XUIAmbientNUXTheme')}));i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(){'use strict';j.constructor.call(this);this.$XUIAmbientNUX2=c('uniqueID')();this.$XUIAmbientNUX1=c('uniqueID')();}o.prototype.$XUIAmbientNUX3=function(){'use strict';switch(this.props.width){case 'wide':return m;case 'custom':return this.props.customwidth;case 'auto':return null;default:return l;}};o.prototype.$XUIAmbientNUX4=function(){'use strict';return h._("Learn about this new feature");};o.prototype.render=function(){'use strict';var p=this.props.labelledBy,q=null,r=null;if(!p||!p.length){q=c('React').createElement('div',{'aria-label':this.props.label||this.$XUIAmbientNUX4(),id:this.$XUIAmbientNUX2,key:this.$XUIAmbientNUX2});p=[this.$XUIAmbientNUX2];}var s=h._("Close");r=c('React').createElement('a',{className:'layer_close_elem accessible_elem',href:'#',id:this.$XUIAmbientNUX1,key:this.$XUIAmbientNUX1,'aria-label':s,'aria-labelledby':this.$XUIAmbientNUX1+' '+p.join(' '),role:'button'});return c('React').createElement(n,{alignment:this.props.alignment,autoFocus:false,behaviors:this.props.behaviors,context:this.props.context,contextRef:this.props.contextRef,dialogRole:'region',focusContextOnHide:false,hasActionableContext:this.props.hasActionableContext,insertParent:this.props.insertParent,labelledBy:p,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onBeforeHide:this.props.onBeforeHide,position:this.props.position,shown:this.props.shown,width:this.$XUIAmbientNUX3(this.props)},c('React').createElement(c('XUIAmbientNUXBody.react'),{className:this.props.className,onCloseButtonClick:this.props.onCloseButtonClick},this.props.children,q,r));};o.propTypes={alignment:k.oneOf(['left','center','right']),behaviors:k.object,className:k.string,context:k.object,contextRef:k.func,customwidth:k.number,hasActionableContext:k.bool,insertParent:k.object,label:k.object,labelledBy:k.arrayOf(k.string),offsetX:k.number,offsetY:k.number,onBeforeHide:k.func,onCloseButtonClick:k.func,position:k.oneOf(['above','below','left','right']),shown:k.bool,width:k.oneOf(['wide','normal','auto','custom'])};f.exports=o;}),null);
__d("XPubcontentRelatedVideoInlineController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}});}),null);
__d('EntstreamAttachmentRelatedFBVideo',['csx','cx','Arbiter','AsyncRequest','AttachmentRelatedShareConstants','DOM','DOMQuery','Event','Parent','VideoPlayerReason','XPubcontentRelatedVideoInlineController','ge'],(function a(b,c,d,e,f,g,h,i){var j={addHoverListener:function k(l,m){var n=c('ge')(m),o=c('DOM').scry(n,"^div._3f-c")[0];c('Event').listen(o,'mouseover',this.doHover.bind(this,l));c('Event').listen(o,'mouseout',this.doHoverOut.bind(this,l));},addClickOutListener:function k(l,m){var n=c('ge')(m);c('Event').listen(n,'click',this.doHoverOut.bind(this,l));},doHover:function k(l){l.play(c('VideoPlayerReason').USER);l.mute();},doHoverOut:function k(l,m){l.pause(c('VideoPlayerReason').USER);},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function k(l,m,n,o,p,q,r,s){var t=null;if(typeof m==='string'){t=c('ge')(m);}else t=m;if(!t)return;var u=null;if(typeof l==='string'){u=c('ge')(l);}else u=l;if(!u)return;c('Event').listen(u,'click',function(event){var v=event.srcElement?event.srcElement:event.target;if(v)for(var w in q){var x=c('ge')(q[w]);if(x&&c('DOMQuery').contains(x,v))return;}if(event.isDefaultRequested())return;event.preventDefault();var y=null;if(p){var z=c('DOM').scry(t,"^ul._5h5a")[0];if(!z)return;y=z.previousSibling;}else y=u.children[0];setTimeout(function(){var aa=c('XPubcontentRelatedVideoInlineController').getURIBuilder();aa.setInt('fbvideo_id',n);aa.setString('query_id',r);aa.setString('mf_story_key',s);new (c('AsyncRequest'))().setURI(aa.getURI()).setRelativeTo(y).send();},1000);});},loadRelatedFBVideos:function k(l,m){var n=c('ge')(l);if(!n)return;var o="_4zdu",p=c('Parent').byClass(n,o);if(p)return;var q=c('Event').listen(n,'click',function(){q.remove();c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:n,fbvideo_id:m});});}};f.exports=j;}),null);
__d('FullScreen',['Event','Arbiter','CSS','UserAgent','UserAgent_DEPRECATED','throttle','Keys'],(function a(b,c,d,e,f,g){var h={},i=false,j=function o(p){if(c('Event').getKeyCode(p)===c('Keys').ESC)p.stopPropagation();},k=function o(){if(!i){document.addEventListener('keydown',j,true);i=true;}},l=function o(){if(i){document.removeEventListener('keydown',j,true);i=false;}},m=Object.assign(new (c('Arbiter'))(),{listenForEvent:function o(p){var q=c('throttle')(this.onChange,0,this);if(!h[p.id]){h[p.id]=true;c('Event').listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,MSFullscreenChange:q,fullscreenchange:q});}},enableFullScreen:function o(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(c('UserAgent_DEPRECATED').chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.msRequestFullscreen){k();p.msRequestFullscreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function o(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function o(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement;},toggleFullScreen:function o(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);},onChange:function o(){var p=this.isFullScreen();c('CSS').conditionClass(document.body,'fullScreen',p);this.inform('changed');if(!p)l();},isSupportedWithKeyboardInput:function o(){return this.isSupported()&&!c('UserAgent').isBrowser('Safari');},isSupported:function o(){var p=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return p||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;}}),n=c('throttle')(m.onChange,0,m);c('Event').listen(document,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n});f.exports=m;}),null);
__d('ViewportTrackingHelper',['DOMDimensions','Vector','getElementPosition','getViewportDimensions'],(function a(b,c,d,e,f,g){'use strict';var h={isDescendantOf:function i(j,k){if(j===k)return true;while(j&&j.parentElement){if(j.parentElement===k)return true;j=j.parentElement;}return false;},isVisible:function i(j,k){return h.isVisibleInDimension(c('getViewportDimensions')(),j,k);},isVisibleInDimension:function i(j,k,l){var m=c('getElementPosition')(k),n=c('DOMDimensions').getElementDimensions(k);if(!m.x&&!m.y&&!n.height&&!n.width)return false;var o=Math.max(m.y,0),p=Math.min(m.y+n.height,j.height),q=Math.min(n.height,l);return p-o>=q;},getHeightIfVisible:function i(j,k){var l=this.getHeightInViewport(j),m=c('DOMDimensions').getElementDimensions(j),n=Math.min(m.height,k);return l>=n?l:0;},getHeightInViewport:function i(j){var k=c('getElementPosition')(j),l=c('DOMDimensions').getElementDimensions(j);if(!k.x&&!k.y&&!l.x&&!l.y)return 0;var m=c('getViewportDimensions')().height,n=Math.max(k.y,0),o=Math.min(k.y+l.height,m);return o-n;},getElementsInViewIgnoreHeight:function i(j){var k=false,l=[];for(var m=0;m<j.length;m++){var n=j[m];if(this.isVisible(n,0,null)){l.push(n);k=true;}else if(k)break;}return l;}};f.exports=h;}),null);
__d('dispatchCustomEvent',[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k});}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k);}i.dispatchEvent(l);}f.exports=h;}),null);
__d('dispatchEvent',[],(function a(b,c,d,e,f,g){function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;}),null);
__d("getFullScreenElement",[],(function a(b,c,d,e,f,g){function h(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;}f.exports=h;}),null);
__d('DeferredComponent.react',['React','createCancelableFunction'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l,m){'use strict';i.constructor.call(this,l,m);this.$DeferredComponent1=function(n){this.setState({ComponentClass:n},function(){this.props.onComponentLoad&&this.props.onComponentLoad(n);}.bind(this));}.bind(this);this.state={ComponentClass:null,cancelableModulesLoaded:c('createCancelableFunction')(this.$DeferredComponent1)};}k.prototype.componentWillMount=function(){'use strict';this.props.deferredComponent(this.state.cancelableModulesLoaded);};k.prototype.componentWillUnmount=function(){'use strict';this.state.cancelableModulesLoaded.cancel();};k.prototype.render=function(){'use strict';var l=this.state.ComponentClass;if(!l||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var m=this.props,n=m.deferredPlaceholder,o=m.deferredComponent,p=m.onComponentLoad,q=m.deferredForcePlaceholder,r=babelHelpers.objectWithoutProperties(m,['deferredPlaceholder','deferredComponent','onComponentLoad','deferredForcePlaceholder']);return c('React').createElement(l,r);};k.propTypes={deferredPlaceholder:j.element.isRequired,deferredComponent:j.func.isRequired,onComponentLoad:j.func,deferredForcePlaceholder:j.bool};f.exports=k;}),null);
__d('JSResourceReference',['Promise','Bootloader'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$JSResourceReference1=i;}h.prototype.getModuleId=function(){'use strict';return this.$JSResourceReference1;};h.prototype.load=function(){'use strict';return new (c('Promise'))(function(i){c('Bootloader').loadModules.call(c('Bootloader'),[this.$JSResourceReference1],i,this.$JSResourceReference2||'JSResource: unknown caller');}.bind(this));};h.prototype.equals=function(i){'use strict';return this===i||this.$JSResourceReference1==i.$JSResourceReference1;};h.prototype.__setRef=function(i){'use strict';this.$JSResourceReference2=i;return this;};h.loadAll=function(i,j){'use strict';var k={},l=false;for(var m=i,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p,r=q.$JSResourceReference2;if(r){l=true;k[r]=true;}}c('Bootloader').loadModules.call(c('Bootloader'),i.map(function(s){return s.getModuleId();}),j,l?Object.keys(k).join(':'):'JSResource: unknown caller');};f.exports=h;}),null);
__d('JSResource',['JSResourceReference'],(function a(b,c,d,e,f,g){var h=function i(j){return new (c('JSResourceReference'))(j);};h.Reference=c('JSResourceReference');h.loadAll=c('JSResourceReference').loadAll;f.exports=h;}),null);
__d('PerfHelperUtils',['cx','DeferredComponent.react','JSResource','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var m=this.props,n=m.moduleId,o=m.timeLimitSecs,p=m.timeSpentSecs;return c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('div',null),deferredComponent:function q(r){c('JSResource')('Tooltip.react').__setRef('PerfHelperUtils').load().done(r);},className:"_5_my",tooltip:'This bootloaded component has a red border\n          because '+n+'\n          took over '+o+' seconds ('+p+'s) to load'},this.props.children);};function k(){i.apply(this,arguments);}var l={RedBorderedInnerComponent:k};f.exports=l;}),null);
__d('VideoPermalinkURI',[],(function a(b,c,d,e,f,g){var h={isValid:function i(j){return h.parse(j)!==null;},parse:function i(j){if(this.isValidLegacy(j)){var k=j.getQueryData();if(k.v)return {video_id:k.v,set_token:k.set};return null;}var l=j.getPath();if(l[l.length-1]==='/')l=l.substring(0,l.length-1);var m=l.split('/');if(m.length>=3&&m[2]==='videos')if(m.length===4&&/^\d+$/.exec(m[3])!==null){return {video_id:m[3],set_token:null};}else if(m.length===5&&/^\d+$/.exec(m[4])!==null)return {video_id:m[4],set_token:m[3]};return null;},isValidLegacy:function i(j){var k=j.getPath();if(k[k.length-1]==='/')k=k.substring(0,k.length-1);if(k==='/photo.php'||k==='/force_photo/photo.php'||k==='/photo'||k==='/force_photo/photo/index.php'||k==='/photo/index.php'||k==='/force_photo/photo'||k==='/video.php'||k==='/video/video.php')return true;return false;}};f.exports=h;}),null);
__d('getContextualLayerCursorOffset',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i.getOrientation(),m=l.getPosition(),n=l.getAlignment(),o=i.getContent().getBoundingClientRect(),p=i.getContext().getBoundingClientRect(),q=j-p.left,r=k-p.top;switch(n){case 'left':q-=o.width;break;case 'center':q-=p.width*.5;break;case 'right':q-=p.width-o.width;break;default:throw new Error('invalid alignment');}switch(m){case 'above':r*=-1;break;case 'left':q+=o.width;r-=o.height*.5;break;case 'right':q-=o.width;r-=o.height*.5;break;case 'below':r-=p.height;break;default:throw new Error('invalid position');}return {offsetX:q,offsetY:r};}f.exports=h;}),null);
__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",SUBSCRIBE_SOME:"subscribe_some",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_CHANNEL_PIVOTS:"fetch_channel_pivots_success",APPEND_CHANNEL_PIVOTS:"append_channel_pivots",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"});}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",HAS_NEXT_PAGE:"has_next_page",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"});}),null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager','VideoChannelViewVariables'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots,i=0,j=null,k=null,l=null,m=0,n=null,o={startSession:function p(q,r,s){j=r;l=s;k=q;c('Arbiter').inform('LogEnterChannel',r);c('VideoChannelViewChainLengthManager').registerVideoID(q,q);var t={};t[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;o.log(t);i=Date.now();c('Run').onLeave(o.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,o.endSession);},endSession:function p(){if(j){c('Arbiter').inform('LogExitChannel',j);var q={};q[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;o.log(q);j=null;k=null;l=null;n=null;i=0;}},setOffset:function p(q){m=q;},setPosition:function p(q){n=q;},setChannel:function p(q){j=q;},getPlayerLoggingData:function p(){if(!j)return {};return {video_channel_id:j,position_in_channel:n+m};},log:function p(q){var r=c('VideoChannelViewChainLengthManager').getLoggingData(k);q[c('VideoChannelLoggerFields').SESSION_ID]=r.video_chaining_session_id;if(!h)q[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=j;q[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=l;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in q))q[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=n+m;if(i){var s=Date.now()-i;q[c('VideoChannelLoggerFields').TIME_SINCE_START]=s+.001;}c('BanzaiLogger').log('VideoChannelLoggerConfig',q);}};f.exports=o;}),null);
__d('VideoChannelProgressCircle.react',['cx','React','ReactDOM','Style'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoChannelProgressCircle1=0,this.$VideoChannelProgressCircle2=0,n;}l.prototype.componentDidMount=function(){'use strict';this.drawProgressCircle(this.props);};l.prototype.componentWillUnmount=function(){'use strict';clearInterval(this.$VideoChannelProgressCircle1);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(m.makeProgress!==this.props.makeProgress||m.timeoutSec!==this.props.timeoutSec)this.drawProgressCircle(m);};l.prototype.drawProgressCircle=function(m){'use strict';var n=c('ReactDOM').findDOMNode(this.refs.progressCircle),o=this.$VideoChannelProgressCircle2,p=o/100;c('Style').set(n,'stroke-dashoffset',o+'px');clearInterval(this.$VideoChannelProgressCircle1);if(m.makeProgress)this.$VideoChannelProgressCircle1=setInterval(function(){o-=p;c('Style').set(n,'stroke-dashoffset',o+'px');if(o<=0){clearInterval(this.$VideoChannelProgressCircle1);c('Style').set(n,'stroke-dashoffset','0px');m.onProgressDone&&m.onProgressDone();}}.bind(this),m.timeoutSec*10);};l.prototype.render=function(){'use strict';var m=this.props.watchAndScroll?34:80,n=this.props.watchAndScroll?2:4,o=m/2,p=o-n/2;this.$VideoChannelProgressCircle2=p*2*Math.PI;return c('React').createElement('div',null,c('React').createElement('svg',{className:"_20_8"},c('React').createElement('circle',{cx:o,cy:o,r:p,stroke:'#ffffff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'}),c('React').createElement('circle',{ref:'progressCircle',cx:o,cy:o,r:p,stroke:'#5890ff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'})),this.props.children);};l.propTypes={children:k.element,makeProgress:k.bool.isRequired,onProgressDone:k.func,timeoutSec:k.number.isRequired,watchAndScroll:k.bool};f.exports=l;}),null);
__d('VideoChannelReplayImage.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement(c('Image.react'),{className:"_4nxy"+(this.props.size==='small'?' '+"_4nxz":''),src:'/images/video/channel_view/replay.svg'});};function k(){'use strict';i.apply(this,arguments);}k.defaultProps={size:'normal'};f.exports=k;}),null);
__d("VideoChannelRequestStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"});}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/async\/{id}\/",{id:{type:"String",required:true},original_video_id:{type:"String",required:true},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}});}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/story\/async\/{root_video_id}\/",{root_video_id:{type:"String",required:true},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:false},setup_interactions:{type:"Bool",defaultValue:false},is_first_story:{type:"Bool",defaultValue:false},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:false}});}),null);
__d('VideoChannelStoryFetcher',['AsyncRequest','HTML','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelRequestStatus','VideoChannelViewVariables','XVideoChannelViewAsyncController','XVideoChannelViewStoryAsyncController'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots;function i(j,k,l,m,n,o,p){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher4=l;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};if(n){this.$VideoChannelStoryFetcher5=n.videoIDs;this.$VideoChannelStoryFetcher6=n.feedTrackingData;this.$VideoChannelStoryFetcher2=n.cursorInfo.cursor;this.$VideoChannelStoryFetcher3=n.cursorInfo.hasNextPage;var q=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(q);this.$VideoChannelStoryFetcher9.start=q;this.$VideoChannelStoryFetcher9.end=q+1;}if(o){this.$VideoChannelStoryFetcher5=o;this.$VideoChannelStoryFetcher3=!!p;var r=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(r);this.$VideoChannelStoryFetcher9.start=r;this.$VideoChannelStoryFetcher9.end=r+1;}c('VideoChannelLogger').setPosition(0);this.$VideoChannelStoryFetcher11=m;this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[];}i.prototype.reset=function(j,k){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[];};i.prototype.abandonRequest=function(){'use strict';this.$VideoChannelStoryFetcher1&&this.$VideoChannelStoryFetcher1.abandon();};i.prototype.hasNext=function(){'use strict';var j=this.$VideoChannelStoryFetcher5.length-this.$VideoChannelStoryFetcher9.end>0;return this.$VideoChannelStoryFetcher3||j;};i.prototype.$VideoChannelStoryFetcher14=function(event,j,k){'use strict';var l={};l[c('VideoChannelLoggerFields').EVENT]=event;l[c('VideoChannelLoggerFields').REQUEST_STATUS]=j;l[c('VideoChannelLoggerFields').PERF_TIME_MS]=Date.now()-k;if(h)l[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=this.$VideoChannelStoryFetcher8;c('VideoChannelLogger').log(l);};i.prototype.fetchFirstStory=function(j,k,l){'use strict';if(k===null)if(this.$VideoChannelStoryFetcher5.length!==0){var m=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);k=this.$VideoChannelStoryFetcher6[m];}var n=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',this.$VideoChannelStoryFetcher4).setStringVector('video_ids',[this.$VideoChannelStoryFetcher7]).setString('root_video_id',this.$VideoChannelStoryFetcher7).setBool('is_first_story',true).setBool('use_video_placeholder',j).setBool('setup_interactions',l).setString('channel_id',this.$VideoChannelStoryFetcher8).setString('ad_impression_token',this.$VideoChannelStoryFetcher11);if(k)n.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var o=Date.now(),p=new (c('AsyncRequest'))(n.getURI()).setAllowCrossPageTransition(true).setHandler(function(){var q,r=this;this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').SUCCEEDED,o);this.$VideoChannelStoryFetcher15();if(h)(function(){var s=Date.now(),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',r.$VideoChannelStoryFetcher4).setStringVector('video_ids',[r.$VideoChannelStoryFetcher7]).setString('root_video_id',r.$VideoChannelStoryFetcher7).setString('channel_id',r.$VideoChannelStoryFetcher8).setBool('fetch_channel_pivots',true);if(k)t.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var u=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').SUCCEEDED,s);this.$VideoChannelStoryFetcher15();}.bind(r)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').FAILED,s);this.$VideoChannelStoryFetcher15();}.bind(r)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').ABORTED,s);this.$VideoChannelStoryFetcher15();}.bind(r));r.$VideoChannelStoryFetcher1=u;r.$VideoChannelStoryFetcher10=Date.now();u.send();})();}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').FAILED,o);this.$VideoChannelStoryFetcher15();}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').ABORTED,o);this.$VideoChannelStoryFetcher15();}.bind(this));this.$VideoChannelStoryFetcher1=p;this.$VideoChannelStoryFetcher10=Date.now();p.send();};i.prototype.getPreloadedData=function(){'use strict';return {stories:this.$VideoChannelStoryFetcher12,thumbnails:this.$VideoChannelStoryFetcher13};};i.prototype.$VideoChannelStoryFetcher16=function(j,k){'use strict';if(!this.$VideoChannelStoryFetcher8)return;var l=c('XVideoChannelViewAsyncController').getURIBuilder().setString('id',this.$VideoChannelStoryFetcher8).setEnum('caller',this.$VideoChannelStoryFetcher4).setString('original_video_id',this.$VideoChannelStoryFetcher7).setInt('story_count',j);if(this.$VideoChannelStoryFetcher2)l.setString('cursor',this.$VideoChannelStoryFetcher2.toString());var m=Date.now(),n=l.getURI(),o=new (c('AsyncRequest'))(n).setAllowCrossPageTransition(true).setHandler(function(p){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').SUCCEEDED,m);this.$VideoChannelStoryFetcher2=p.getPayload().cursor;this.$VideoChannelStoryFetcher3=p.getPayload().hasNextPage;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(p,function(q,r){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,q);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,r);return k(q,r);}.bind(this));}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').FAILED,m);this.$VideoChannelStoryFetcher15();}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').ABORTED,m);this.$VideoChannelStoryFetcher15();}.bind(this));this.$VideoChannelStoryFetcher1=o;o.send();};i.prototype.$VideoChannelStoryFetcher18=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.end,p=this.$VideoChannelStoryFetcher5.length-o,q=o+Math.min(p,j);if(p>0){(function(){var r=n.$VideoChannelStoryFetcher5.slice(o,q),s=n.$VideoChannelStoryFetcher6.slice(o,q).map(function(v){return JSON.stringify(v);}),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',r).setStringVector('feed_tracking_data',s),u=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').FAILED,u);this.$VideoChannelStoryFetcher15();}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').ABORTED,u);this.$VideoChannelStoryFetcher15();}.bind(n)).setHandler(function(v){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').SUCCEEDED,u);this.$VideoChannelStoryFetcher9.end=q;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(v,function(w,x){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,w);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,x);return k(w,x);}.bind(this));}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(p);})();}else if(this.$VideoChannelStoryFetcher3){this.$VideoChannelStoryFetcher16(j,k);if(l)l(j);}};i.prototype.$VideoChannelStoryFetcher19=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.start;if(o>0)(function(){var p=Math.max(o-j,0),q=n.$VideoChannelStoryFetcher5.slice(p,o),r=n.$VideoChannelStoryFetcher6.slice(p,o).map(function(u){return JSON.stringify(u);}),s=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',q).setStringVector('feed_tracking_data',r),t=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(s.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').FAILED,t);this.$VideoChannelStoryFetcher15();}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').ABORTED,t);this.$VideoChannelStoryFetcher15();}.bind(n)).setHandler(function(u){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').SUCCEEDED,t);this.$VideoChannelStoryFetcher9.start=p;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(u,k);}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(o-p);})();};i.prototype.fetchStories=function(j,k,l){'use strict';var m=c('VideoChannelViewVariables').defaultStoriesToLoad;if(this.$VideoChannelStoryFetcher1)return;if(j){this.$VideoChannelStoryFetcher18(m,k,l);}else this.$VideoChannelStoryFetcher19(m,k,l);};i.prototype.$VideoChannelStoryFetcher17=function(j,k){'use strict';var l=j.getPayload(),m=c('HTML').replaceJSONWrapper(l.stories).getNodes(),n=l.thumbnails.map(function(o){return c('HTML').replaceJSONWrapper(o).getRootNode();});k(m,n);};i.prototype.$VideoChannelStoryFetcher15=function(){'use strict';this.$VideoChannelStoryFetcher1=null;};f.exports=i;}),null);
__d('StaleVideoMonitor',['performanceNow','EventEmitter','SubscriptionsHandler','debounce','EventListener'],(function a(b,c,d,e,f,g){var h,i,j=1500;h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(l){'use strict';i.constructor.call(this);this.$StaleVideoMonitor1=new (c('SubscriptionsHandler'))();this.$StaleVideoMonitor2=l.currentTime;this.$StaleVideoMonitor3=c('performanceNow')();var m=c('debounce')(function(){if(l.paused||l.playbackRate<=0)return;var o=l.currentTime,p=l.buffered,q=false,r=void 0;for(r=0;r<p.length;++r){var s=p.start(r),t=p.end(r);if(s>o)break;if(s<=o&&t>=o+1){q=true;break;}}if(q){this.$StaleVideoMonitor4();this.emit('stale',c('performanceNow')()-this.$StaleVideoMonitor3,(l.currentTime-this.$StaleVideoMonitor2)*1000);}}.bind(this),j),n=function(){this.$StaleVideoMonitor2=l.currentTime;this.$StaleVideoMonitor3=c('performanceNow')();m();}.bind(this);this.$StaleVideoMonitor1.addSubscriptions(c('EventListener').listen(l,'playing',n),c('EventListener').listen(l,'play',n),c('EventListener').listen(l,'timeupdate',n));}k.prototype.$StaleVideoMonitor4=function(){'use strict';if(this.$StaleVideoMonitor1)this.$StaleVideoMonitor1.release();};k.prototype.destroy=function(){'use strict';this.$StaleVideoMonitor4();};f.exports=k;}),null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],(function a(b,c,d,e,f,g){f.exports=c('VideoQualityClassInternal').orderedValues;}),null);
__d('VideoPlayerLoggerFallbackReasons',[],(function a(b,c,d,e,f,g){f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};}),null);
__d('VideoWithFallbackMode',['Event','SubscriptionsHandler','TimeSlice','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerReason','Visibility'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoWithFallbackMode1=false;this.$VideoWithFallbackMode2=false;this.$VideoWithFallbackMode5=function(){this.$VideoWithFallbackMode1=true;if(c('VideoPlayerExperiments').disableFallbackModeForInactiveTab&&this.$VideoWithFallbackMode2){this.$VideoWithFallbackMode6.play(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode2=false;}}.bind(this);this.$VideoWithFallbackMode8=function(){this.$VideoWithFallbackMode1=false;}.bind(this);this.$VideoWithFallbackMode3=new (c('SubscriptionsHandler'))();if(!j){j=i;i=null;}this.$VideoWithFallbackMode4=j;if(i)this.enable(i);}h.prototype.enable=function(i){'use strict';this.$VideoWithFallbackMode3.engage();this.$VideoWithFallbackMode6=i;if(this.$VideoWithFallbackMode6.isImplementationUnavailable()||this.$VideoWithFallbackMode6.getOption('SphericalVideoPlayer','isUnavailable')){this.$VideoWithFallbackMode7(c('VideoPlayerLoggerFallbackReasons').FLASH_UNAVAILABLE);return;}this.$VideoWithFallbackMode3.addSubscriptions(c('Event').listen(window,'blur',this.$VideoWithFallbackMode8),c('Event').listen(window,'focus',this.$VideoWithFallbackMode5),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoWithFallbackMode8),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoWithFallbackMode5),i.addListener('error',this.$VideoWithFallbackMode9.bind(this)));if(this.$VideoWithFallbackMode4.fallbackTimeoutMs){var j=this.$VideoWithFallbackMode4.fallbackTimeoutMs;this.$VideoWithFallbackMode10=setTimeout(c('TimeSlice').guard(function(){if(this.$VideoWithFallbackMode6.isState('loading')){this.$VideoWithFallbackMode6.pause(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode7(c('VideoPlayerLoggerFallbackReasons').TIMEOUT);this.$VideoWithFallbackMode2=true;}}.bind(this),'VideoWithFallbackMode fallbackTimeout',{isContinuation:false}),j);}};h.prototype.disable=function(){'use strict';this.$VideoWithFallbackMode3.release();clearTimeout(this.$VideoWithFallbackMode10);this.$VideoWithFallbackMode10=null;this.$VideoWithFallbackMode6=null;};h.prototype.$VideoWithFallbackMode9=function(i){'use strict';if(this.$VideoWithFallbackMode6.isState('fallback'))return;if(this.$VideoWithFallbackMode6.isState('playing'))this.$VideoWithFallbackMode6.pause(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode6.abortLoading();if(i){this.$VideoWithFallbackMode7(i);}else{this.$VideoWithFallbackMode7(c('VideoPlayerLoggerFallbackReasons').FLASH_ERROR);this.$VideoWithFallbackMode2=true;}};h.prototype.$VideoWithFallbackMode7=function(i){'use strict';if(c('VideoPlayerExperiments').disableFallbackModeForInactiveTab&&!this.$VideoWithFallbackMode1)return;this.$VideoWithFallbackMode6.setState('fallback');if(i===c('VideoPlayerLoggerFallbackReasons').TIMEOUT)this.$VideoWithFallbackMode6.emit('VideoWithStallRecoveryOverlay/timeout');this.$VideoWithFallbackMode6.logEvent(c('VideoPlayerLoggerEvent').ENTERED_FALLBACK,{debug_reason:i});};f.exports=h;}),null);
__d('AbstractVideoFullscreenControl.react',['cx','AbstractButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={awaitingUpdate:false},this.isFullscreen=function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen;}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();}.bind(this),n;}l.prototype.render=function(){var m=Object.assign({},this.props);delete m.isFullscreen;delete m.onToggleFullscreen;return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},m,{className:c('joinClasses')(this.props.isFullscreen?"uiContextualLayerParent":'',this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}));};l.propTypes={disabled:k.bool,image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func};f.exports=l;}),null);
__d('VideoPlayerApiEvents',[],(function a(b,c,d,e,f,g){var h=['buffered','buffering','beginPlayback','updateStatus','logEvent','pausePlayback','clickVideo','clickForTracking','finishPlayback','unmuteVideo','muteVideo','changeVolume','turnOffAutoplay','updateBuffer','updateMetadata','qualityChange','updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','wheelScroll','error','loadedSubtitles','toggleSubtitles','toggleFullscreen','seekEnd','streamInterrupted','streamResumed','debug/shakaEvent','abortedLoading','restoringAfterAbort','restoredAfterAbort','sphericalOrientationChange'];f.exports=h;}),null);
__d('AbstractVideoPlayerApi',['invariant','EventEmitter','VideoPlayerApiEvents'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);}k.prototype.addListener=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.addListener.apply(this,m);};k.prototype.emit=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.emit.apply(this,m);};k.prototype.setRelativeSphericalOrientation=function(l,m){'use strict';};k.isImplementationUnavailable=function(){'use strict';return true;};f.exports=k;}),null);
__d("VideoConfig",[],(function a(b,c,d,e,f,g){function h(i){Object.assign(this,i);}f.exports=h;}),null);
__d('VideoData',['invariant'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this.$VideoData1=j||{aspect_ratio:0,original_height:0,original_width:0,video_id:''};}i.prototype.hasHD=function(){'use strict';return !!this.$VideoData1.hd_src;};i.prototype.getEncodingTag=function(){'use strict';return this.$VideoData1.encoding_tag;};i.prototype.getVideoID=function(){'use strict';return this.$VideoData1.video_id;};i.prototype.getVideoURL=function(){'use strict';return this.$VideoData1.video_url;};i.prototype.getAspectRatio=function(){'use strict';return this.$VideoData1.aspect_ratio;};i.prototype.getRotation=function(){'use strict';return this.$VideoData1.rotation||0;};i.prototype.hasSubtitles=function(){'use strict';return !!this.$VideoData1.subtitles_src;};i.prototype.hasDashManifest=function(){'use strict';return !!this.$VideoData1.dash_manifest;};i.prototype.getDashManifest=function(){'use strict';return this.$VideoData1.dash_manifest;};i.prototype.getDashPrefetchedRepresentationIDs=function(){'use strict';return this.$VideoData1.dash_prefetched_representation_ids;};i.prototype.getSubtitlesSrc=function(){'use strict';this.$VideoData1.subtitles_src||h(0);return this.$VideoData1.subtitles_src;};i.prototype.getPlayableSrcSD=function(){'use strict';if(this.$VideoData1.sd_src_no_ratelimit)return this.$VideoData1.sd_src_no_ratelimit;return this.getPlayableSrcRateLimitedSD();};i.prototype.getPlayableSrcHD=function(){'use strict';if(this.$VideoData1.hd_src_no_ratelimit)return this.$VideoData1.hd_src_no_ratelimit;return this.getPlayableSrcRateLimitedHD();};i.prototype.getPlayableSrcRateLimitedSD=function(){'use strict';return this.$VideoData1.sd_src;};i.prototype.getPlayableSrcRateLimitedHD=function(){'use strict';return this.$VideoData1.hd_src;};i.prototype.getLiveManifestUrl=function(){'use strict';this.isLiveStream()||h(0);return this.getPlayableSrcRateLimitedSD();};i.prototype.hasRateLimit=function(){'use strict';return !!this.$VideoData1.sd_src_no_ratelimit;};i.prototype.getStreamType=function(){'use strict';this.$VideoData1.stream_type||h(0);return this.$VideoData1.stream_type;};i.prototype.isLiveStream=function(){'use strict';return !!this.$VideoData1.is_live_stream;};i.prototype.isFacecastAudio=function(){'use strict';return !!this.$VideoData1.is_facecast_audio;};i.prototype.liveRoutingToken=function(){'use strict';return this.$VideoData1.live_routing_token;};i.prototype.getHDTag=function(){'use strict';return this.$VideoData1.hd_tag;};i.prototype.getSDTag=function(){'use strict';return this.$VideoData1.sd_tag;};i.prototype.getProjection=function(){'use strict';return this.$VideoData1.projection;};i.prototype.getPlayerVersionOverwrite=function(){'use strict';return this.$VideoData1.player_version_overwrite;};i.prototype.getFalloverData=function(){'use strict';var j=this.$VideoData1.fallover_data;return j?j.map(function(k){return new i(k);}):[];};i.prototype.getSphericalConfig=function(){'use strict';return this.$VideoData1.spherical_config;};i.prototype.isSpherical=function(){'use strict';return !!this.$VideoData1.is_spherical;};i.prototype.getOriginalHeight=function(){'use strict';return this.$VideoData1.original_height;};i.prototype.getOriginalWidth=function(){'use strict';return this.$VideoData1.original_width;};i.prototype.getRawData=function(){'use strict';return this.$VideoData1;};f.exports=i;}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i.dangerouslyOverrideMediaElementEndedProperty=true;return i;}h.isEnded=function(event){return !!(event&&event.detail&&event.detail.dangerouslyOverrideMediaElementEndedProperty);};f.exports=h;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g){function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted;}else return i.hasAttribute('muted')||i.muted;}f.exports=h;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','dangerouslyOverrideMediaElementEndedProperty','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g){var h=-1,i=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function j(l,event){l.time_ms=Date.now();var m=event.timeStamp;if(m&&i){var n=Math.floor(m).toString().length,o=Date.now().toString().length,p=window.performance.now();if(n===o+3){m=Math.floor(m/1000);l.time_ms=m;}else if(n===o){l.time_ms=m;}else if(m<=p){var q=window.performance.timing.navigationStart;l.time_ms=q+Math.floor(m);}}return l;}var k={initLogger:function l(m,n){this._loggedEvents={};this._logFunction=m;this._useEventTime=n;var o=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(o);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=o.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=h;var p=false;if(o.readyState>=o.HAVE_FUTURE_DATA){this._logReadyToPlay();}else p=true;if(this.skipSubscriptions())return;var q=this.getSubscriptions();if(p)q.addSubscriptions(c('EventListener').listen(o,'canplay',this._logReadyToPlay.bind(this)));q.addSubscriptions(c('EventListener').listen(o,'ended',this.onEnded.bind(this)),c('EventListener').listen(o,'pause',this.onPause.bind(this)),c('EventListener').listen(o,'playing',this.onPlaying.bind(this)),c('EventListener').listen(o,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(o,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(o,'play',this.onPlay.bind(this)),c('EventListener').listen(o,'loadedmetadata',this.onLoadedMetadata.bind(this)),c('EventListener').listen(o,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(o,'volumechange',this.onVolumeChange.bind(this)));},skipSubscriptions:function l(){return false;},onCanPlay:function l(m){this._logReadyToPlay(m);},onPlay:function l(m){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},logHeartbeat:function l(){if(c('VideoPlayerHTML5Experiments').heartbeatUpdateWatchTime){this._logEvent(c('VideoPlayerLoggerEvent').HEART_BEAT,this._getWatchTimeClosingLogData({}));var m=this._getVideoCurrentTime();this._lastStartTimePosition=m;this._lastPlayedTime=m;}else this._logEvent(c('VideoPlayerLoggerEvent').HEART_BEAT);},_getWatchTimeClosingLogData:function l(m){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},m));},_logOnce:function l(event,m){if(this._loggedEvents[event])return;this._logEvent(event,m);},_logEvent:function l(event,m){this._loggedEvents[event]=true;var n=m?m:{};n.video_id=this.getVideoID();if(!Object.prototype.hasOwnProperty.call(n,'video_time_position'))n.video_time_position=this._getVideoCurrentTime();if(!n.time_ms)n.time_ms=Date.now();n.time=Math.round(n.time_ms/1000);if(this.getAdClientToken){var o=this.getAdClientToken();if(o)n.ad_client_token=o;}if(this.getPlayerFormat)n.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)n.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)n.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,n);},_logReadyToPlay:function l(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY);},onPause:function l(m){this._logNextPlayingEvent=true;var n=this.getVideoElement();if(this._pendingPlayRequest){var o={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,o);return;}var event=n.ended||c('VideoPlayerExperiments').abortLoadingDecisioningLogic&&c('dangerouslyOverrideMediaElementEndedProperty').isEnded(m)?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED,p=this._getVideoCurrentTime();if(p)this._lastPlayedTime=p;var q=this._lastPlayedTime,r=m.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){q=Math.max(q,n.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)r=r||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q,debug_reason:r},m));this._lastStartTimePosition=h;},onEnded:function l(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},logRepresentationEnded:function l(m){if(m){var n={representation_id:m.representationID,next_representation_id:m.nextRepresentationID,stream_switch_reason:m.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation)n=this._getWatchTimeClosingLogData(n);this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,n);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var o=this._getVideoCurrentTime();this._lastStartTimePosition=o;this._lastPlayedTime=o;}}},addWatchTimeData:function l(m){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){m.video_last_start_time_position=this._lastStartTimePosition;m.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h;}return m;},getLastPlayReason:function l(){return null;},getVideoPlayReason:function l(){return null;},onPlaying:function l(m){if(!this._logNextPlayingEvent)return;if(c('VideoPlayerHTML5Experiments').superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var n=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,o=this._amendEventTime({debug_reason:n,video_play_reason:this.getVideoPlayReason()},m),p=this._getVideoCurrentTime();if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment){var q=this.getVideoElement().currentTime,r=q-p;o.time_ms-=Math.round(r*1000);}this._logEvent(event,o);this._lastStartTimePosition=p;this._lastPlayedTime=p;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function l(){this._allowNextSeek=true;},onSeeked:function l(m){this._seeking=false;var n=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var o={video_seek_source_time_position:n};if(this._lastStartTimePosition!==h){o.video_last_start_time_position=this._lastStartTimePosition;}else o.video_last_start_time_position=n;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(o,m));var p=this.getVideoElement();if(p.paused){this._lastStartTimePosition=h;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function l(m){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function l(m){this._currentTimeAtLoadedMetadataCache=null;var n=this.getVideoElement();if(!n.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function l(m){var n=this.getVideoElement(),o={},event=null;if(c('VideoPlayerHTML5Experiments').useFixedVolumeLogging){var p=n.muted,q=this._muted,r=n.volume,s=this._volume;o.current_volume=Math.round(r*100);this._volume=r;this._muted=p;var t=p||r==0,u=q||s==0;if(u&&t)return;if(u!=t){if(t){event=c('VideoPlayerLoggerEvent').MUTED;}else event=c('VideoPlayerLoggerEvent').UNMUTED;}else{if(s==r)return;if(r<s){event=c('VideoPlayerLoggerEvent').VOLUME_DECREASE;}else event=c('VideoPlayerLoggerEvent').VOLUME_INCREASE;}}else{if(n.muted!==this._muted&&n.volume===this._volume&&n.volume>0){event=n.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED;}else{event=n.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;o.current_volume=Math.round(n.volume*100);}this._muted=n.muted;this._volume=n.volume;}this._logEvent(event,this._amendEventTime(o,m));},_amendEventTime:function l(m,event){var n=this._useEventTime;if(c('VideoPlayerHTML5Experiments').fixEventTimeLogging)n=n&&event;if(n){return j(m,event);}else m.time_ms=Date.now();return m;},_getVideoCurrentTime:function l(){var m=this.getVideoElement().currentTime.toFixed(2);if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)m=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(c('VideoPlayerHTML5Experiments').fixCurrentTimeType)return +m;return m;},onLoadedMetadata:function l(m){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=k;}),null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11();}.bind(this)));}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13();}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15();};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime;};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12();}.bind(this),500);};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null;};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart');};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd');};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7();};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7();}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release();};f.exports=j;}),null);
__d('VideoFrameBuffer',[],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoFrameBuffer2=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer3=k||'contain';}h.prototype.updateFrameBuffer=function(){'use strict';if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer1.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null;}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer1.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null;}var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer2.videoWidth/this.$VideoFrameBuffer2.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer2,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){'use strict';return this.$VideoFrameBuffer1;};h.prototype.updateDimensions=function(i,j){'use strict';this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j;};f.exports=h;}),null);
__d('VideoPlaybackQuality',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.video=i;}h.prototype.getDroppedFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().droppedVideoFrames;var j=i.webkitDroppedFrameCount;if(typeof j==='number')return j;return 0;};h.prototype.getTotalFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().totalVideoFrames;var j=i.webkitDecodedFrameCount;if(typeof j==='number')return j;return 0;};f.exports=h;}),null);
__d("XLiveBroadcastCaptionsURIFetchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/captions\/uri\/",{video_id:{type:"String"}});}),null);
__d('forwardEvent',[],(function a(b,c,d,e,f,g){function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l));});}f.exports=h;}),null);
__d('VideoMimeTypes',[],(function a(b,c,d,e,f,g){function h(o,p,q){return o+'; codecs="'+p+', '+q+'"';}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase();}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase();}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase();}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n;}),null);
__d('canVideoPlayType',['DOM'],(function a(b,c,d,e,f,g){var h=null;function i(j){h=h||c('DOM').create('video');if(!('canPlayType' in h))return '';return h.canPlayType(j);}f.exports=i;}),null);
__d('supportsHTML5Video',['DOM','memoize'],(function a(b,c,d,e,f,g){f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType;});}),null);
__d('isHTML5VideoImplementationUnavailable',['VideoMimeTypes','canVideoPlayType','supportsHTML5Video'],(function a(b,c,d,e,f,g){var h=function i(j){if(j){var k=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);return k!=='probably';}return !c('supportsHTML5Video')();};f.exports=h;}),null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g,h){function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA;}function j(k,l){k instanceof window.HTMLMediaElement||h(0);if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l);}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o);}.bind(this));};f.exports=j;}),null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g){function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA;}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k);}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n);}.bind(this));};f.exports=i;}),null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],(function a(b,c,d,e,f,g){function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j;}catch(m){}if(i.currentTime){var l=c('EventListener').listen(i,'seeked',function(){l.remove();k&&k();});}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k();});});}f.exports=h;}),null);
__d('VideoPlayerHTML5Api',['cx','regeneratorRuntime','Promise','AsyncRequest','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','ErrorUtils','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','StaleVideoMonitor','MediaBufferingDetector','RTISubscriptionManager','Run','SphericalVideoExperiments','SubscriptionsHandler','VideoData','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoPlayerExperiments','VideoQualityClasses','XLiveBroadcastCaptionsURIFetchAsyncController','dispatchCustomEvent','dangerouslyOverrideMediaElementEndedProperty','dispatchEvent','classWithMixins','isHTML5VideoImplementationUnavailable','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','requireWeak','seekHTMLMediaElementTo','setImmediate','VideoPlaybackQuality','Deferred'],(function a(b,c,d,e,f,g,h){var i,j,k=null;c('requireWeak')('TVViewerConfigsManager',function(p){return k=p;});function l(p){switch(p){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null;}function m(p){switch(p){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+p+' is unknown';}}var n=-1;i=babelHelpers.inherits(o,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function o(p,q){'use strict';j.constructor.call(this);this.getDebug=function(){return {VideoPlayerHTML5Shaka:this.$VideoPlayerHTML5Api31};}.bind(this);this.$VideoPlayerHTML5Api30=p;this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api30.id;var r=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api30);this.$VideoPlayerHTML5Api53=new (c('VideoPlaybackQuality'))(this.$VideoPlayerHTML5Api30);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api47=r.width;this.$VideoPlayerHTML5Api11=r.height;if(q){this.$VideoPlayerHTML5Api6=q;}else this.$VideoPlayerHTML5Api6=JSON.parse(this.$VideoPlayerHTML5Api30.getAttribute('data-config'));this.$VideoPlayerHTML5Api5=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api30);this.$VideoPlayerHTML5Api5.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api55();}.bind(this));this.$VideoPlayerHTML5Api5.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api56();}.bind(this));this.$VideoPlayerHTML5Api20=n;this.$VideoPlayerHTML5Api22=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api30);this.$VideoPlayerHTML5Api45=this.$VideoPlayerHTML5Api30.volume;this.$VideoPlayerHTML5Api21=false;this.$VideoPlayerHTML5Api18=null;this.$VideoPlayerHTML5Api26=false;this.$VideoPlayerHTML5Api3=false;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api30.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api29=null;this.$VideoPlayerHTML5Api32=new (c('StaleVideoMonitor'))(this.$VideoPlayerHTML5Api30);this.$VideoPlayerHTML5Api32.addListener('stale',function(t,u){return this.$VideoPlayerHTML5Api57(t,u);}.bind(this));this.$VideoPlayerHTML5Api9=false;this.$VideoPlayerHTML5Api35=false;if(this.$VideoPlayerHTML5Api6.lazyPreload)if(this.$VideoPlayerHTML5Api6.onafterloadRegister){c('Run').onAfterLoad(function(){return this.$VideoPlayerHTML5Api30.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);}.bind(this));}else this.$VideoPlayerHTML5Api30.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);this.$VideoPlayerHTML5Api8=this.$VideoPlayerHTML5Api6.disableNativeControls;this.$VideoPlayerHTML5Api38=this.$VideoPlayerHTML5Api6.subtitlesActive;this.$VideoPlayerHTML5Api58();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api36=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api59();this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api6.useRateLimited;this.$VideoPlayerHTML5Api60(false);var s=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api6.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api6.minQuality)>=s;this.$VideoPlayerHTML5Api23=this.$VideoPlayerHTML5Api6.minQuality;this.$VideoPlayerHTML5Api24=this.$VideoPlayerHTML5Api6.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api6.accessToken;this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api6.startTimestamp;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api6.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api61.bind(this),this.$VideoPlayerHTML5Api6.useEventTime);this.$VideoPlayerHTML5Api62();this.$VideoPlayerHTML5Api27=null;this.$VideoPlayerHTML5Api48=false;this.$VideoPlayerHTML5Api49=false;this.$VideoPlayerHTML5Api50=this.$VideoPlayerHTML5Api6.unloadShouldCancelPendingRequest;}o.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api6.ad_client_token;};o.prototype.$VideoPlayerHTML5Api57=function(p,q){'use strict';this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').STALE,{stale_detect_time_delta:p,stale_video_current_time_delta:q});};o.prototype.$VideoPlayerHTML5Api55=function(){'use strict';this.emit('buffering');};o.prototype.$VideoPlayerHTML5Api56=function(){'use strict';this.emit('buffered');};o.prototype.$VideoPlayerHTML5Api63=function(){'use strict';this.emit('streamInterrupted');this.$VideoPlayerHTML5Api48=true;};o.prototype.$VideoPlayerHTML5Api64=function(){'use strict';this.emit('streamResumed');this.$VideoPlayerHTML5Api48=false;};o.prototype.isStreamInterrupted=function(){'use strict';return this.$VideoPlayerHTML5Api48;};o.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api7)return this.$VideoPlayerHTML5Api7.getVideoID();return this.$VideoPlayerHTML5Api6.video_id;};o.prototype.getDroppedFrames=function(){'use strict';return this.$VideoPlayerHTML5Api53.getDroppedFrames();};o.prototype.getTotalFrames=function(){'use strict';return this.$VideoPlayerHTML5Api53.getTotalFrames();};o.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api30;};o.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api30;};o.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api36;};o.onImplementationReady=function(p,q){'use strict';q();};o.prototype.destroy=function(p){'use strict';if(this.$VideoPlayerHTML5Api9)return;this.$VideoPlayerHTML5Api9=true;this.$VideoPlayerHTML5Api65();if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api5.destroy();if(c('VideoPlayerHTML5Experiments').destroyWithoutStillFrame){this.abortLoadingWithoutStillFrame();}else this.abortLoading(p);if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api66();this.$VideoPlayerHTML5Api67();if(this.$VideoPlayerHTML5Api68)c('DOM').remove(this.$VideoPlayerHTML5Api68);if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api36.release();};o.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api7)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api7.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api14,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api31?'DASH manifest':this.$VideoPlayerHTML5Api69(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api7.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api16,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api7.getSDTag(),tagHD:this.$VideoPlayerHTML5Api7.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api7.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api7.isLiveStream()?this.$VideoPlayerHTML5Api7.getLiveManifestUrl():null};};o.isImplementationUnavailable=function(p){'use strict';return c('isHTML5VideoImplementationUnavailable')(p);};o.prototype.pause=function(p){'use strict';this.$VideoPlayerHTML5Api18=p;if(p==='unloaded'&&!this.isPaused()){var q=this.$VideoPlayerHTML5Api50||c('VideoPlayerHTML5Experiments').unloadShouldCancelPendingRequest;if(q&&this.$VideoPlayerHTML5Api13){this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:'unloaded'}));}else this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.$VideoPlayerHTML5Api49=true;this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api70();if(this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api31.pause();}else this.$VideoPlayerHTML5Api30.pause();};o.prototype.$VideoPlayerHTML5Api60=function(p){'use strict';this.$VideoPlayerHTML5Api13=p;};o.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api28){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api71();this.$VideoPlayerHTML5Api28=true;this.$VideoPlayerHTML5Api30.setAttribute('preload','auto');}};o.prototype.isPreloading=function(){'use strict';return this.$VideoPlayerHTML5Api28;};o.prototype.play=function(p){'use strict';if(!this.$VideoPlayerHTML5Api44)this.$VideoPlayerHTML5Api44=p;this.$VideoPlayerHTML5Api19=p;if(!this.isPaused()){if(c('VideoPlayerHTML5Experiments').shouldDispatchPlayingEvent){c('dispatchEvent')(this.$VideoPlayerHTML5Api30,'play');setTimeout(function(){return c('dispatchEvent')(this.$VideoPlayerHTML5Api30,'playing');}.bind(this),0);}else this.$VideoPlayerHTML5Api72();return;}this.$VideoPlayerHTML5Api26=true;this.$VideoPlayerHTML5Api60(true);if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api30,'play');this.$VideoPlayerHTML5Api71();this.$VideoPlayerHTML5Api3=true;return;}this.$VideoPlayerHTML5Api73();};o.prototype.$VideoPlayerHTML5Api70=function(){'use strict';if(this.$VideoPlayerHTML5Api3&&this.isPaused())c('dispatchEvent')(this.$VideoPlayerHTML5Api30,'pause');this.$VideoPlayerHTML5Api60(false);this.$VideoPlayerHTML5Api74();};o.prototype.$VideoPlayerHTML5Api74=function(){'use strict';this.$VideoPlayerHTML5Api26=false;this.$VideoPlayerHTML5Api3=false;};o.prototype.$VideoPlayerHTML5Api75=function(){'use strict';this.$VideoPlayerHTML5Api30.setAttribute('preload','auto');this.$VideoPlayerHTML5Api28=true;this.$VideoPlayerHTML5Api30.load();this.$VideoPlayerHTML5Api30.muted=this.$VideoPlayerHTML5Api22;};o.prototype.seek=function(p){'use strict';this.allowNextSeekInMixin();if(c('VideoPlayerShakaExperiments').currentTimeDuringReadyStateZeroThrows){if(this.$VideoPlayerHTML5Api30.readyState!==0)this.$VideoPlayerHTML5Api30.currentTime=p;}else try{this.$VideoPlayerHTML5Api30.currentTime=p;}catch(q){}};o.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api30,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api30,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api30,"_56jt");this.$VideoPlayerHTML5Api30.style.marginLeft='';this.$VideoPlayerHTML5Api30.style.marginTop='';this.$VideoPlayerHTML5Api30.style.width='';this.$VideoPlayerHTML5Api30.style.height='';};o.prototype.applyRotation=function(p){'use strict';if(!p)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api30,"_56jr",p==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api30,"_56js",p==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api30,"_56jt",p==270);if(p==180)return;var q=this.$VideoPlayerHTML5Api11,r=this.$VideoPlayerHTML5Api47,s=(q-r)/2,t=(r-q)/2;this.$VideoPlayerHTML5Api30.style.marginLeft=t+'px';this.$VideoPlayerHTML5Api30.style.marginTop=s+'px';this.$VideoPlayerHTML5Api30.style.height=r+'px';this.$VideoPlayerHTML5Api30.style.width=q+'px';};o.prototype.switchVideo=function(p){'use strict';if(!this.$VideoPlayerHTML5Api6.videoData||this.$VideoPlayerHTML5Api6.videoData.length<=p)return;var q=new (c('VideoData'))(this.$VideoPlayerHTML5Api6.videoData[p]);this.$VideoPlayerHTML5Api7=q;if((q.hasDashManifest()||q.isLiveStream())&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.isSupported()&&!this.$VideoPlayerHTML5Api6.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var r,s;r=q.getDashManifest();if(q.isLiveStream())s=q.getLiveManifestUrl();var t=new this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api30,q.getDashPrefetchedRepresentationIDs(),{accessToken:this.$VideoPlayerHTML5Api2,minPlayQuality:this.$VideoPlayerHTML5Api23,maxPlayQuality:this.$VideoPlayerHTML5Api24,width:this.$VideoPlayerHTML5Api47,height:this.$VideoPlayerHTML5Api11,manifest:r,manifestUrl:s,isLive:q.isLiveStream(),startTimestamp:this.$VideoPlayerHTML5Api33,videoID:this.getVideoID(),playerOrigin:this.$VideoPlayerHTML5Api6.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api6.playerSuborigin,isSpherical:this.$VideoPlayerHTML5Api6.isSpherical,getSource:this.$VideoPlayerHTML5Api6.getSource});t.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api55();}.bind(this));t.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api56();}.bind(this));t.addListener('tracksChanged',function(){return this.emit('qualityChange');}.bind(this));t.addListener('streamInterrupted',function(){return this.$VideoPlayerHTML5Api63();}.bind(this));t.addListener('streamResumed',function(){return this.$VideoPlayerHTML5Api64();}.bind(this));t.addListener('adaptation',function(v){var w=v.reason;this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:w});this.emit('qualityChange');}.bind(this));t.addListener('representation_ended',function(v){this.logRepresentationEnded(v);}.bind(this));t.addListener('debug/shakaEvent',function(v){return this.emit('debug/shakaEvent',v);}.bind(this));t.addListener('error',function(v){return this.$VideoPlayerHTML5Api76(v);}.bind(this));t.addListener('cea608CaptionsParsed',function(v){if(!this.$VideoPlayerHTML5Api54)this.$VideoPlayerHTML5Api54=this.$VideoPlayerHTML5Api77();this.$VideoPlayerHTML5Api54.then(function(w){w.appendFragments(v);this.$VideoPlayerHTML5Api78();}.bind(this))['catch'](function(w){c('ErrorUtils').reportError(w);});}.bind(this));this.$VideoPlayerHTML5Api31=t;if(this.$VideoPlayerHTML5Api10){this.$VideoPlayerHTML5Api10.remove();if(c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api10=null;}}else{var u=this.$VideoPlayerHTML5Api69();if(u)this.$VideoPlayerHTML5Api30.src=u;if(this.$VideoPlayerHTML5Api33)this.seek(this.$VideoPlayerHTML5Api33);}this.$VideoPlayerHTML5Api37&&this.$VideoPlayerHTML5Api37.removeSubtitles();if(q.hasSubtitles())this.$VideoPlayerHTML5Api79(this.$VideoPlayerHTML5Api7.getSubtitlesSrc());this.removeRotation();this.applyRotation(q.getRotation());};o.prototype.switchToStreamType=function(p){'use strict';};o.prototype.replaceVideoDataFromURL=function(p){'use strict';};o.prototype.getDashAudioConfigurationDebug=function(){'use strict';return this.$VideoPlayerHTML5Api31?this.$VideoPlayerHTML5Api31.getDebug().VideoSource.getMpAudioConfigDebug():'none';};o.prototype.getAudioStreamInfoIDDebug=function(){'use strict';if(this.$VideoPlayerHTML5Api31){var p=this.$VideoPlayerHTML5Api31.getDebug().VideoSource.getAudioTracks();for(var q=p,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;if(u.active)return u.streamInfoID;}}return null;};o.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null;};o.prototype.getLocalEstimator=function(){'use strict';if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.getLocalEstimator();return null;};o.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api22=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api30.muted=false;};o.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api22=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api30.muted=true;};o.prototype.setRotation=function(p){'use strict';this.removeRotation();this.applyRotation(p);};o.prototype.setDimensions=function(p,q){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api47=p;this.$VideoPlayerHTML5Api11=q;this.applyRotation(this.$VideoPlayerHTML5Api7.getRotation());if(this.$VideoPlayerHTML5Api34)this.$VideoPlayerHTML5Api34.updateDimensions(p,q);if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.setDimensions(p,q);if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.setDimensions(p);this.emit('dimensionsChange',p,q);};o.prototype.setVideoStreamOffset=function(p){'use strict';if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.setVideoStreamOffset(p);};o.prototype.$VideoPlayerHTML5Api80=function(){'use strict';this.$VideoPlayerHTML5Api30.controls=!this.$VideoPlayerHTML5Api8;};o.prototype.$VideoPlayerHTML5Api58=function(){'use strict';this.$VideoPlayerHTML5Api30.controls=this.$VideoPlayerHTML5Api30.controls&&!this.$VideoPlayerHTML5Api8;};o.prototype.$VideoPlayerHTML5Api59=function(){'use strict';this.$VideoPlayerHTML5Api10=c('EventListener').listen(this.$VideoPlayerHTML5Api30,'error',this.$VideoPlayerHTML5Api81.bind(this));if(!c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api36.addSubscriptions(this.$VideoPlayerHTML5Api10);this.$VideoPlayerHTML5Api36.addSubscriptions(c('EventListener').listen(this.$VideoPlayerHTML5Api30,'playing',this.$VideoPlayerHTML5Api82.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'play',this.$VideoPlayerHTML5Api72.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'ended',this.$VideoPlayerHTML5Api83.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'waiting',this.$VideoPlayerHTML5Api84.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'pause',this.$VideoPlayerHTML5Api85.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'volumechange',this.$VideoPlayerHTML5Api86.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'mousedown',this.$VideoPlayerHTML5Api87.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'mouseup',this.$VideoPlayerHTML5Api88.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'timeupdate',this.$VideoPlayerHTML5Api89.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'click',this.$VideoPlayerHTML5Api90.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'loadedmetadata',this.$VideoPlayerHTML5Api91.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'progress',this.$VideoPlayerHTML5Api92.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api30,'seeked',this.$VideoPlayerHTML5Api93.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api30.parentNode,'pause',this.$VideoPlayerHTML5Api94.bind(this)));};o.prototype.$VideoPlayerHTML5Api95=function(p){'use strict';this.preventPauseLoggingInMixin=false;p.preventDefault();p.stopPropagation();};o.prototype.$VideoPlayerHTML5Api94=function(p){'use strict';if(p.target!==this.$VideoPlayerHTML5Api30)return;if(!this.$VideoPlayerHTML5Api30.ended){this.$VideoPlayerHTML5Api49&&this.$VideoPlayerHTML5Api95(p);p.lastPauseReason=this.$VideoPlayerHTML5Api18;}this.$VideoPlayerHTML5Api49=false;};o.prototype.$VideoPlayerHTML5Api92=function(){'use strict';var p=this.$VideoPlayerHTML5Api30.buffered,q=0,r=0,s=p.length;while(s-->0){var t=p.end(s),u=p.start(s);if(u<=this.$VideoPlayerHTML5Api30.currentTime){r=u;q=t-u;break;}}this.$VideoPlayerHTML5Api62();this.$VideoPlayerHTML5Api96('flash/updateBuffer',{duration:q,offset:r});};o.prototype.$VideoPlayerHTML5Api65=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api25);};o.prototype.$VideoPlayerHTML5Api62=function(){'use strict';this.$VideoPlayerHTML5Api65();if(this.$VideoPlayerHTML5Api30.networkState===this.$VideoPlayerHTML5Api30.NETWORK_LOADING)this.$VideoPlayerHTML5Api25=setTimeout(function(){return this.$VideoPlayerHTML5Api97();}.bind(this),o.networkTimeout);};o.prototype.$VideoPlayerHTML5Api97=function(){'use strict';var p=this.$VideoPlayerHTML5Api30.buffered,q=0;for(var r=0;r<p.length;r++){var s=p.start(r),t=p.end(r);q+=t-s;}this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:q});};o.prototype.$VideoPlayerHTML5Api89=function(){'use strict';var p;if(this.$VideoPlayerHTML5Api1){p=this.$VideoPlayerHTML5Api1.currentTime;}else p=this.$VideoPlayerHTML5Api30.currentTime;this.$VideoPlayerHTML5Api96('flash/updateStatus',{position:+p.toFixed(3)});};o.prototype.$VideoPlayerHTML5Api90=function(p){'use strict';if(p.button!==0)return;this.emit('clickVideo');p.preventDefault();};o.prototype.isPaused=function(){'use strict';if(c('VideoPlayerHTML5Experiments').fixIE11EndedPausedState)return this.$VideoPlayerHTML5Api30.paused||this.$VideoPlayerHTML5Api30.ended;return this.$VideoPlayerHTML5Api30.paused;};o.prototype.$VideoPlayerHTML5Api98=function(){'use strict';var p=this.$VideoPlayerHTML5Api30.buffered;return p.length>0&&p.start(0)===0&&p.end(0)===this.$VideoPlayerHTML5Api30.duration;};o.prototype.$VideoPlayerHTML5Api84=function(){'use strict';if(!this.$VideoPlayerHTML5Api98()){this.$VideoPlayerHTML5Api46=true;this.$VideoPlayerHTML5Api96('flash/buffering');}};o.prototype.setVolume=function(p){'use strict';this.$VideoPlayerHTML5Api30.volume=p;};o.prototype.$VideoPlayerHTML5Api86=function(){'use strict';if(this.$VideoPlayerHTML5Api30.muted!==this.$VideoPlayerHTML5Api22&&this.$VideoPlayerHTML5Api30.volume===this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api30.volume>0){this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api30.muted;this.$VideoPlayerHTML5Api45=this.$VideoPlayerHTML5Api30.volume;if(!this.$VideoPlayerHTML5Api30.muted){this.$VideoPlayerHTML5Api96('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api96('flash/muteVideo');}else{this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api30.muted;this.$VideoPlayerHTML5Api45=this.$VideoPlayerHTML5Api30.volume;this.$VideoPlayerHTML5Api96('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api30.volume});}if(!this.$VideoPlayerHTML5Api30.muted)this.$VideoPlayerHTML5Api96('flash/turnOffAutoplay',{reason:'unmuted'});};o.prototype.$VideoPlayerHTML5Api87=function(p){'use strict';if(p.button===0)this.$VideoPlayerHTML5Api21=true;};o.prototype.$VideoPlayerHTML5Api88=function(p){'use strict';if(p.button===0)this.$VideoPlayerHTML5Api21=false;};o.prototype.$VideoPlayerHTML5Api82=function(){'use strict';this.$VideoPlayerHTML5Api60(false);if(this.$VideoPlayerHTML5Api46){this.$VideoPlayerHTML5Api46=false;this.$VideoPlayerHTML5Api96('flash/buffered');}this.$VideoPlayerHTML5Api99();};o.prototype.$VideoPlayerHTML5Api72=function(){'use strict';this.$VideoPlayerHTML5Api14=true;this.$VideoPlayerHTML5Api80();this.$VideoPlayerHTML5Api78();this.$VideoPlayerHTML5Api96('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api30.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api19});this.$VideoPlayerHTML5Api62();};o.prototype.$VideoPlayerHTML5Api85=function(event){'use strict';if(this.$VideoPlayerHTML5Api30.ended||c('VideoPlayerExperiments').abortLoadingDecisioningLogic&&c('dangerouslyOverrideMediaElementEndedProperty').isEnded(event)){this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api60(false);return;}if(this.$VideoPlayerHTML5Api30.seeking&&this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api21)return;if(this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api18=null;return;}if(this.$VideoPlayerHTML5Api18===null||this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api96('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api18=null;this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api60(false);this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api96('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api30.currentTime.toFixed(2)});};o.prototype.$VideoPlayerHTML5Api83=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api60(false);this.$VideoPlayerHTML5Api96('flash/finishPlayback');this.$VideoPlayerHTML5Api37&&this.$VideoPlayerHTML5Api37.hideSubtitles();this.$VideoPlayerHTML5Api66();};o.prototype.$VideoPlayerHTML5Api93=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api30.currentTime.toFixed(3)});};o.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api31)if(this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka)return this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.getEstimatedBandwidth();return null;};o.prototype.$VideoPlayerHTML5Api91=function(){'use strict';this.$VideoPlayerHTML5Api96('flash/updateMetadata');};o.prototype.$VideoPlayerHTML5Api76=function(p){'use strict';this.emit('error',babelHelpers['extends']({},p,{isPlayback:this.$VideoPlayerHTML5Api26}));};o.prototype.$VideoPlayerHTML5Api81=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api30.error)return;var p=this.$VideoPlayerHTML5Api30.error,q=p.message;if(!q)q=l(p.code);this.emit('error',{error:m(p.code),isPlayback:this.$VideoPlayerHTML5Api26,message:q});};o.prototype.$VideoPlayerHTML5Api61=function(event,p){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api31)p.longest_init_response_time=this.$VideoPlayerHTML5Api31.getLongestInitResponseTime();p.projection=this.getVideoProjection();this.$VideoPlayerHTML5Api96('flash/logEvent',{logData:babelHelpers['extends']({event:event},p)});};o.prototype.$VideoPlayerHTML5Api96=function(event,p){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api12},p));this.emit(event.substr('flash/'.length),p);};o.prototype.$VideoPlayerHTML5Api99=function(){'use strict';if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)if(this.$VideoPlayerHTML5Api39)this.$VideoPlayerHTML5Api66();var p=this.getVideoID();this.$VideoPlayerHTML5Api39=c('RTISubscriptionManager').subscribe('live/broadcast/caption/'+p,this.$VideoPlayerHTML5Api100.bind(this));};o.prototype.$VideoPlayerHTML5Api66=function(){'use strict';if(this.$VideoPlayerHTML5Api39)this.$VideoPlayerHTML5Api39.unsubscribe();if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api39=null;};o.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api19;};o.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api44;};o.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api22;};o.prototype.setPlaybackRate=function(p){'use strict';if(this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api31.setPlaybackRate(p);}else this.$VideoPlayerHTML5Api30.playbackRate=p;};o.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api30.duration||0;};o.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api30.volume;};o.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api30.currentTime;};o.prototype.$VideoPlayerHTML5Api69=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return this.$VideoPlayerHTML5Api15&&this.$VideoPlayerHTML5Api6.fallbackSources.HD?this.$VideoPlayerHTML5Api6.fallbackSources.HD:this.$VideoPlayerHTML5Api6.fallbackSources.SD;if(this.$VideoPlayerHTML5Api15&&this.$VideoPlayerHTML5Api7.hasHD()){return this.$VideoPlayerHTML5Api101();}else return this.$VideoPlayerHTML5Api102();};o.prototype.$VideoPlayerHTML5Api101=function(){'use strict';if(this.$VideoPlayerHTML5Api16){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcHD();};o.prototype.$VideoPlayerHTML5Api102=function(){'use strict';if(this.$VideoPlayerHTML5Api16){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcSD();};o.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api38=!this.$VideoPlayerHTML5Api38;this.$VideoPlayerHTML5Api78();this.emit('toggleSubtitles');};o.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api7.hasSubtitles()||!!this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.hasSubtitles();};o.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api38;};o.prototype.areHLSActive=function(){'use strict';return false;};o.prototype.isRTMP=function(){'use strict';return false;};o.prototype.setSubtitlesStyle=function(p,q,r,s){'use strict';this.$VideoPlayerHTML5Api40=p;this.$VideoPlayerHTML5Api41=q;this.$VideoPlayerHTML5Api42=r;this.$VideoPlayerHTML5Api43=s;};o.prototype.$VideoPlayerHTML5Api78=function(){'use strict';if(this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.hasSubtitles())this.$VideoPlayerHTML5Api31.enableSubtitles(this.$VideoPlayerHTML5Api38);if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api37&&this.$VideoPlayerHTML5Api37.showSubtitles();}else this.$VideoPlayerHTML5Api37&&this.$VideoPlayerHTML5Api37.hideSubtitles();};o.prototype.$VideoPlayerHTML5Api103=function(){'use strict';if(this.$VideoPlayerHTML5Api14)this.$VideoPlayerHTML5Api78();this.emit('loadedSubtitles');this.$VideoPlayerHTML5Api37.setSubtitlesStyle(this.$VideoPlayerHTML5Api40,this.$VideoPlayerHTML5Api41,this.$VideoPlayerHTML5Api42,this.$VideoPlayerHTML5Api43);};o.prototype.$VideoPlayerHTML5Api100=function(){'use strict';var p=this.getVideoID(),q=c('XLiveBroadcastCaptionsURIFetchAsyncController').getURIBuilder().setString('video_id',p).getURI();new (c('AsyncRequest'))().setURI(q).setMethod('POST').setHandler(function(r){this.$VideoPlayerHTML5Api104(r.getPayload());}.bind(this)).send();};o.prototype.$VideoPlayerHTML5Api104=function(p){'use strict';this.$VideoPlayerHTML5Api79(p);};o.prototype.$VideoPlayerHTML5Api79=function(p){'use strict';c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(q,r){if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.removeSubtitles();var s=this.$VideoPlayerHTML5Api6.subtitleDrawer,t=new r(this.$VideoPlayerHTML5Api30,p);this.$VideoPlayerHTML5Api37=new q(this.$VideoPlayerHTML5Api30,t);this.$VideoPlayerHTML5Api37.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api103();}.bind(this));this.$VideoPlayerHTML5Api37.registerDrawer(s);this.$VideoPlayerHTML5Api37.loadSubtitles();}.bind(this),'VideoPlayerHTML5Api');};o.prototype.$VideoPlayerHTML5Api77=function(){'use strict';var p=new (c('Deferred'))();c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(q,r){var s=new r(this.$VideoPlayerHTML5Api30);p.resolve(s);if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.removeSubtitles();var t=this.$VideoPlayerHTML5Api6.subtitleDrawer;this.$VideoPlayerHTML5Api37=new q(this.$VideoPlayerHTML5Api30,s);this.$VideoPlayerHTML5Api37.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api103();}.bind(this));this.$VideoPlayerHTML5Api37.registerDrawer(t);this.$VideoPlayerHTML5Api37.loadSubtitles();}.bind(this),'VideoPlayerHTML5Api');return p.getPromise();};o.prototype.setStillFrameEnabled=function(p){'use strict';this.$VideoPlayerHTML5Api35=!p;};o.prototype.$VideoPlayerHTML5Api105=function(){'use strict';if(this.$VideoPlayerHTML5Api35)return;var p;if(!this.$VideoPlayerHTML5Api34){var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api30),r=c('DOM').create('canvas',{width:q.width,height:q.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api30,r);this.$VideoPlayerHTML5Api34=p=new (c('VideoFrameBuffer'))(r,this.$VideoPlayerHTML5Api30);}else p=this.$VideoPlayerHTML5Api34;c('CSS').show(p.getDOMNode());p.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api30);};o.prototype.$VideoPlayerHTML5Api67=function(){'use strict';if(!this.$VideoPlayerHTML5Api34)return;c('CSS').hide(this.$VideoPlayerHTML5Api34.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api30);};o.prototype.$VideoPlayerHTML5Api71=function(){'use strict';var p=this.$VideoPlayerHTML5Api1;if(!p)return;if(this.$VideoPlayerHTML5Api17)return;this.$VideoPlayerHTML5Api17=true;this.emit('restoringAfterAbort');this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api31.reload(p.currentTime);}else{var q=this.$VideoPlayerHTML5Api69();if(q)this.$VideoPlayerHTML5Api30.src=q;this.$VideoPlayerHTML5Api30.preload=p.preload;}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api30,p.currentTime,function(){this.$VideoPlayerHTML5Api67();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api30.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;this.emit('restoredAfterAbort');}this.$VideoPlayerHTML5Api17=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api30,function(){return this.$VideoPlayerHTML5Api73();}.bind(this));}.bind(this));};o.prototype.abortLoadingWithoutStillFrame=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;var p=this.$VideoPlayerHTML5Api30.currentTime,q=this.isMuted(),r=this.$VideoPlayerHTML5Api30.duration,s=this.isPaused(),t=this.$VideoPlayerHTML5Api30.preload;this.$VideoPlayerHTML5Api28=false;this.$VideoPlayerHTML5Api1={mutedState:q,currentTime:p,playbackDuration:r,preload:t};if(s&&this.$VideoPlayerHTML5Api14)c('dispatchEvent')(this.$VideoPlayerHTML5Api30,'pause');this.emit('abortedLoading');if(this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api31.unload();return;}this.$VideoPlayerHTML5Api30.preload='none';this.$VideoPlayerHTML5Api30.removeAttribute('src');this.$VideoPlayerHTML5Api30.load();};o.prototype.abortLoading=function(p){'use strict';if(this.$VideoPlayerHTML5Api1)return;p=p||{};if(!p.disableStillFrame)this.$VideoPlayerHTML5Api105();this.abortLoadingWithoutStillFrame();};o.prototype.setPreferredVideoQuality=function(p){'use strict';this.$VideoPlayerHTML5Api27=p;if(!this.$VideoPlayerHTML5Api7)return;if(this.$VideoPlayerHTML5Api31&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api31.setPreferredVideoQuality(p);return;}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api61(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER});}if(this.$VideoPlayerHTML5Api31&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api31.setPreferredVideoQuality(p);return;}this.$VideoPlayerHTML5Api15=!this.$VideoPlayerHTML5Api15;var q=this.$VideoPlayerHTML5Api30.currentTime,r=this.$VideoPlayerHTML5Api30.muted,s=this.$VideoPlayerHTML5Api30.volume,t=this.$VideoPlayerHTML5Api69();if(t)this.$VideoPlayerHTML5Api30.src=t;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api30,function(){this.$VideoPlayerHTML5Api30.currentTime=q;this.$VideoPlayerHTML5Api30.muted=r;this.$VideoPlayerHTML5Api30.volume=s;this.$VideoPlayerHTML5Api73();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Api26=true;this.$VideoPlayerHTML5Api60(true);this.$VideoPlayerHTML5Api75();};o.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api27=null;if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.unsetPreferredVideoQuality();};o.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api27;};o.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api15?'HD':'SD';};o.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return this.$VideoPlayerHTML5Api6.fallbackSources.HD?['SD','HD']:['SD'];if(!this.$VideoPlayerHTML5Api7)return [];if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api7.hasHD()?['SD','HD']:['SD'];};o.prototype.getIsAbrEnabled=function(){'use strict';if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.getIsAbrEnabled();return false;};o.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api31)return this.$VideoPlayerHTML5Api31.canAutoSelectVideoQuality();return false;};o.prototype.setPreloadDisabled=function(p){'use strict';if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.setPreloadDisabled(p);};o.prototype.restoreStreamBufferSize=function(){'use strict';if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.restoreStreamBufferSize();};o.prototype.setSmartBufferAdjustmentEnabled=function(p){'use strict';if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.setSmartBufferAdjustmentEnabled(p);};o.getPlayerVersion=function(){'use strict';return c('VideoPlayerVersions').PLEASANTVILLE;};o.prototype.getVideoNodeSource=function(){'use strict';return this.$VideoPlayerHTML5Api30.src||'';};o.prototype.getVideoProjection=function(){'use strict';if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29;if(c('SphericalVideoExperiments').useProjectionFromMPD)if(this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api29=this.$VideoPlayerHTML5Api31.getVideoProjection();if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29;}this.$VideoPlayerHTML5Api29=this.$VideoPlayerHTML5Api7.getProjection();return this.$VideoPlayerHTML5Api29;};o.prototype.$VideoPlayerHTML5Api73=function(){'use strict';if(this.$VideoPlayerHTML5Api26){if(this.$VideoPlayerHTML5Api3)var p=c('EventListener').capture(this.$VideoPlayerHTML5Api30.parentNode,'play',function(t){c('Event').kill(t);p.remove();});if(this.$VideoPlayerHTML5Api30.ended&&!this.$VideoPlayerHTML5Api30.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api30,'play');var q=null;if(this.$VideoPlayerHTML5Api31){var r=this.$VideoPlayerHTML5Api31,s=k&&k.isReady()&&k.get('www_videos_shaka_wait_for_buffered');q=s?this.$VideoPlayerHTML5Api106():r.play();}else{if(c('VideoPlayerHTML5Experiments').preloadOnPlay)this.$VideoPlayerHTML5Api30.preload='auto';q=this.$VideoPlayerHTML5Api30.play();}if(q&&q['catch'])q['catch'](function(t){this.$VideoPlayerHTML5Api60(false);}.bind(this));}this.$VideoPlayerHTML5Api74();};o.prototype.$VideoPlayerHTML5Api106=function p(){var q,r,s,t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:'use strict';q=3;case 2:if(!(!this.$VideoPlayerHTML5Api9&&this.$VideoPlayerHTML5Api31)){v.next=13;break;}if(!(this.$VideoPlayerHTML5Api30.buffered.length>0)){v.next=9;break;}r=this.$VideoPlayerHTML5Api30.buffered.start(0);s=this.$VideoPlayerHTML5Api30.buffered.end(0);t=Math.round(s-r)>=q;if(!(t&&this.$VideoPlayerHTML5Api31)){v.next=9;break;}return v.abrupt('return',this.$VideoPlayerHTML5Api31.play());case 9:v.next=11;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(w){return setTimeout(w,100);}));case 11:v.next=2;break;case 13:return v.abrupt('return',null);case 14:case 'end':return v.stop();}},null,this);};o.getStreamTypeFromConfig=function(p){'use strict';var q=new (c('VideoData'))(p.videoData[0]);return q.getStreamType();};o.getIsPlayingLiveFromConfig=function(p){'use strict';var q=new (c('VideoData'))(p.videoData[0]);return q.isLiveStream();};o.getIsFacecastAudioFromConfig=function(p){'use strict';var q=new (c('VideoData'))(p.videoData[0]);return q.isFacecastAudio();};o.networkTimeout=5000;f.exports=o;}),null);
__d("XVideoQualitySurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/quality_survey\/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d('VideoPlayButton',['AsyncRequest','CSS','EventListener','VideoDisplayTimePlayButton','VideoPlayerLoggerSource','XVideoQualitySurveyController'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoPlayButton1=i;this.$VideoPlayButton2=j;if(k){this.$VideoPlayButton3=k.hiddenAfterFinish;this.$VideoPlayButton4=k.hiddenWhilePaused;this.$VideoPlayButton5=!!k.hiddenInFallback;this.$VideoPlayButton5=k.hiddenInFallback;this.$VideoPlayButton6=k.spherical;}var l=c('VideoDisplayTimePlayButton').getClicked(this.$VideoPlayButton2);c('VideoDisplayTimePlayButton').unregister(this.$VideoPlayButton2);i.addListener('beginPlayback',this.$VideoPlayButton7.bind(this));i.addListener('finishPlayback',this.$VideoPlayButton8.bind(this));i.addListener('pausePlayback',this.$VideoPlayButton9.bind(this));i.addListener('buffering',this.$VideoPlayButton10.bind(this));i.addListener('buffered',this.$VideoPlayButton11.bind(this));i.addListener('stateChange',this.$VideoPlayButton12.bind(this));i.addListener('playRequested',this.$VideoPlayButton13.bind(this));i.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton14.bind(this));i.addListener('clickVideo',this.$VideoPlayButton15.bind(this));c('EventListener').listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton16.bind(this));if(k&&k.hiddenWhileJSLoading&&!k.hiddenWhileVideoLoading)c('CSS').show(this.$VideoPlayButton2);if(l)this.$VideoPlayButton16();}h.prototype.$VideoPlayButton12=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton7=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton9=function(){'use strict';if(this.$VideoPlayButton4)return;c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton13=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('paused')&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState('finished')&&!this.$VideoPlayButton3)c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton8=function(){'use strict';var i=this.$VideoPlayButton1.getOption('Looping','isLooping');if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||this.$VideoPlayButton1.getSource()===c('VideoPlayerLoggerSource').TAHOE||i){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);if(!this.$VideoPlayButton1.getIsInChannel()&&!this.$VideoPlayButton1.isAd()&&!this.$VideoPlayButton1.hasOption('WatchAndScroll','isActive')&&!this.$VideoPlayButton1.isMuted()&&this.$VideoPlayButton1.getSource()!==c('VideoPlayerLoggerSource').MESSAGING){var j=c('XVideoQualitySurveyController').getURIBuilder().setString('videoid',this.$VideoPlayButton1.getVideoID()).getURI(),k=new (c('AsyncRequest'))().setURI(j);k.send();}};h.prototype.$VideoPlayButton10=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton11=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton16=function(){'use strict';this.$VideoPlayButton1.clickVideo();};h.prototype.$VideoPlayButton15=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};f.exports=h;}),null);
__d('MountedContextMenu.react',['cx','ContextualLayer.react','DOMQuery','Event','Focus','LayerHideOnEscape','PopoverMenu.react','PopoverMenuInterface','React','ReactDOM','SubscriptionsHandler','isNode','getContextualLayerCursorOffset'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=Object.prototype.hasOwnProperty,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={shown:false,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$MountedContextMenu6=function(s){var t=s.clientX,u=s.clientY;s.preventDefault();s.stopPropagation();this.showAt(t,u);}.bind(this),this.$MountedContextMenu7=function(s){var t=this.$MountedContextMenu3(),u=t&&c('DOMQuery').contains(t,s.target),v=s.button===0;if(!(u&&v))this.hide();}.bind(this),this.$MountedContextMenu8=function(){if(this.props.disableFocusOutline)c('Focus').setWithoutOutline(this.$MountedContextMenu2());}.bind(this),this.$MountedContextMenu9=function(){var s=this.$MountedContextMenu2();if(this.props.disableFocusOutline){c('Focus').setWithoutOutline(s);}else c('Focus').set(s);if(this.state.shown)this.hide();}.bind(this),this.$MountedContextMenu10=function(){this.hide();}.bind(this),o;}m.prototype.getDefaultProps=function(){return {disableFocusOutline:false};};m.prototype.$MountedContextMenu2=function(){return this.props.mountedTriggerElem;};m.prototype.$MountedContextMenu3=function(){var n=this.refs.popover.getMenu();return n&&n.getRoot();};m.prototype.$MountedContextMenu4=function(){return this.refs.menuLayer.layer;};m.prototype.renderLayers=function(){return c('React').createElement(c('ContextualLayer.react'),{alignment:'right',behaviors:[c('LayerHideOnEscape')],contextRef:function(){return this.$MountedContextMenu2();}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:'below',ref:'menuLayer',shown:this.state.shown,key:'menu'},c('React').createElement(c('PopoverMenu.react'),{alignh:'left',menu:this.props.menu,position:'below',ref:'popover'},c('React').createElement('div',{className:"_4345",ref:'fakeTrigger'})));};m.prototype.render=function(){if(this.props.mountedTriggerElem)return c('React').createElement('span',null,this.renderLayers());return null;};m.prototype.$MountedContextMenu5=function(n,o){var p=this.$MountedContextMenu4(),q=c('getContextualLayerCursorOffset')(p,n,o),r=q.offsetX,s=q.offsetY;p.setOffsetX(r).setOffsetY(s);this.setState({offsetX:r,offsetY:s});};m.prototype.componentDidMount=function(){var n=this.$MountedContextMenu2(),o=c('ReactDOM').findDOMNode(this.refs.fakeTrigger),p=this.$MountedContextMenu4(),q=this.refs.popover;this.$MountedContextMenu1=new (c('SubscriptionsHandler'))();this.$MountedContextMenu1.addSubscriptions(c('Event').listen(n,'contextmenu',this.$MountedContextMenu6),c('Event').listen(document.body,'mousedown',this.$MountedContextMenu7),c('Event').listen(n,'focus',this.$MountedContextMenu8),c('Event').listen(o,'focus',this.$MountedContextMenu9),c('Event').listen(window,'blur',this.$MountedContextMenu10),p.subscribe('show',function(){var r=this.state.lastOpenedX,s=this.state.lastOpenedY;this.$MountedContextMenu5(r,s);q.showPopover();}.bind(this)),p.subscribe('hide',function(){q.hidePopover();}));};m.prototype.componentWillUnmount=function(){this.$MountedContextMenu1&&this.$MountedContextMenu1.release();};m.prototype.show=function(){this.setState({shown:true});};m.prototype.showAt=function(n,o){this.setState({lastOpenedX:n,lastOpenedY:o});this.show();};m.prototype.hide=function(){this.setState({shown:false});};m.propTypes={disableFocusOutline:l.bool,menu:function n(o,p,q){if(!k.call(o,p))return new Error(q+'.'+p+' is required');var r=o[p],s=r&&r.type;if(!(s&&s.prototype instanceof c('PopoverMenuInterface')))return new Error(p+' must implement PopoverMenuInterface');return null;},mountedTriggerElem:function n(o,p,q){if(!k.call(o,p)){return new Error(q+'.'+p+' is required');}else if(!c('isNode')(o[p]))return new Error(q+'.'+p+' must be a raw DOM node');return null;}};f.exports=m;}),null);
__d('VideoSpinner',['cx','CSS','EventListener'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.$VideoSpinner2=k;this.$VideoSpinner1=j;this.$VideoSpinner3=false;j.addListener('beginPlayback',this.$VideoSpinner4.bind(this));j.addListener('finishPlayback',this.$VideoSpinner5.bind(this));j.addListener('pausePlayback',this.$VideoSpinner6.bind(this));j.addListener('playRequested',this.$VideoSpinner7.bind(this));j.addListener('buffering',this.$VideoSpinner8.bind(this));j.addListener('buffered',this.$VideoSpinner9.bind(this));j.addListener('stateChange',this.$VideoSpinner10.bind(this));j.addListener('clickVideo',this.$VideoSpinner11.bind(this));j.addListener('VideoSphericalOverlay/animationUpdate',this.$VideoSpinner12.bind(this));c('EventListener').listen(this.$VideoSpinner2,'click',this.$VideoSpinner13.bind(this));}i.prototype.$VideoSpinner12=function(j){'use strict';if(j){c('CSS').addClass(this.$VideoSpinner2,"_1st9");}else c('CSS').removeClass(this.$VideoSpinner2,"_1st9");};i.prototype.$VideoSpinner8=function(){'use strict';c('CSS').show(this.$VideoSpinner2);this.$VideoSpinner3=true;};i.prototype.$VideoSpinner9=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);this.$VideoSpinner3=false;};i.prototype.$VideoSpinner4=function(){'use strict';if(this.$VideoSpinner3){c('CSS').show(this.$VideoSpinner2);}else c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner6=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner7=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner5=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner10=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner11=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))return;if(this.$VideoSpinner3||this.$VideoSpinner1.isState('ready')||this.$VideoSpinner1.isState('loading'))c('CSS').show(this.$VideoSpinner2);};i.prototype.$VideoSpinner13=function(){'use strict';this.$VideoSpinner1.clickVideo();};f.exports=i;}),null);
__d('VideoPlayerHTML5ContextMenu.react',['cx','fbt','ContextualLayer.react','DOMQuery','Event','Focus','FullScreen','getFullScreenElement','Keys','LayerAutoFocus','LayerHideOnEscape','MountedContextMenu.react','React','ReactDOM','ReactXUIMenu','SubscriptionsHandler','VideoContextMenuGK','isNode'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=Object.prototype.hasOwnProperty,m=c('ReactXUIMenu').Item,n=c('React').PropTypes,o=.35,p=6,q=60;j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={permalinkVisible:false,fullscreened:false,screenWidth:screen.width,screenHeight:screen.height},this.$VideoPlayerHTML5ContextMenu2=function(){var x=c('getFullScreenElement')(),y=this.props.videoElem,z=!!(c('FullScreen').isFullScreen()&&x&&y&&c('DOMQuery').contains(x,y));this.setState({fullscreened:z});}.bind(this),this.$VideoPlayerHTML5ContextMenu5=function(){if(this.props.paused){return i._("Play");}else return i._("Pause");}.bind(this),this.$VideoPlayerHTML5ContextMenu6=function(){if(this.props.muted){return i._("Unmute");}else return i._("Mute");}.bind(this),this.$VideoPlayerHTML5ContextMenu7=function(){this.props.onTogglePause&&this.props.onTogglePause();}.bind(this),this.$VideoPlayerHTML5ContextMenu8=function(){this.props.onToggleMute&&this.props.onToggleMute();}.bind(this),this.$VideoPlayerHTML5ContextMenu4=function(){c('Focus').set(c('ReactDOM').findDOMNode(this.refs.permalinkText));this.setState({permalinkVisible:true});}.bind(this),this.$VideoPlayerHTML5ContextMenu3=function(){this.setState({permalinkVisible:false});}.bind(this),this.$VideoPlayerHTML5ContextMenu9=function(){c('ReactDOM').findDOMNode(this.refs.permalinkText).select();}.bind(this),this.$VideoPlayerHTML5ContextMenu10=function(x){if(c('Event').getKeyCode(x)==c('Keys').ESC)this.setState({permalinkVisible:false});}.bind(this),this.$VideoPlayerHTML5ContextMenu11=function(x){x.preventDefault();},this.$VideoPlayerHTML5ContextMenu12=function(){var x=void 0,y=void 0;if(this.state.fullscreened){x=this.state.screenWidth;y=this.state.screenHeight;}else{var z=this.props.videoElem.getBoundingClientRect();x=z.width;y=z.height;}return {width:x,height:y};}.bind(this),this.$VideoPlayerHTML5ContextMenu13=function(x){var y=this.props.permalinkURL;if(y){var z={width:x+'px'};return c('React').createElement('div',{className:"_26oo",style:z},c('React').createElement('input',{className:"_26op autofocus",onFocus:this.$VideoPlayerHTML5ContextMenu9,onKeyDown:this.$VideoPlayerHTML5ContextMenu10,onMouseUp:this.$VideoPlayerHTML5ContextMenu11,readOnly:true,ref:'permalinkText',type:'text',value:y}),c('React').createElement('button',{className:"_26oq",onClick:this.$VideoPlayerHTML5ContextMenu3},i._("Close")));}}.bind(this),this.renderLayers=function(){var x=this.props.permalinkURL&&this.state.permalinkVisible,y=0,z=0,aa=null,ba=this.$VideoPlayerHTML5ContextMenu12(),ca=ba.width,da=ba.height,ea=ca*o;y=ca/2-ea/2;z=-da+p;if(this.state.fullscreened)z+=q;aa=this.$VideoPlayerHTML5ContextMenu13(ea);return c('React').createElement(c('ContextualLayer.react'),{alignment:'left',behaviors:[c('LayerHideOnEscape'),c('LayerAutoFocus')],contextRef:function(){return this.props.videoElem;}.bind(this),offsetX:y,offsetY:z,position:'below',ref:'permalinkLayer',shown:x,key:'permalinkOverlay'},aa);}.bind(this),this.$VideoPlayerHTML5ContextMenu14=function(){if(this.props.permalinkURL)return c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu4,ref:'permalinkMenuItem'},i._("Show video URL"));}.bind(this),t;}r.prototype.componentDidMount=function(){var s=this.refs.permalinkLayer.layer;this.$VideoPlayerHTML5ContextMenu1=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5ContextMenu1.addSubscriptions(c('FullScreen').subscribe('changed',this.$VideoPlayerHTML5ContextMenu2),s.subscribe('hide',this.$VideoPlayerHTML5ContextMenu3),s.subscribe('show',this.$VideoPlayerHTML5ContextMenu4));};r.prototype.componentWillUnmount=function(){this.$VideoPlayerHTML5ContextMenu1&&this.$VideoPlayerHTML5ContextMenu1.release();};r.prototype.hidePermalinkOverlay=function(){this.$VideoPlayerHTML5ContextMenu3();};r.prototype.render=function(){var s=this.props.paused!==null&&c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu7},this.$VideoPlayerHTML5ContextMenu5()),t=c('React').createElement(c('ReactXUIMenu'),{className:c('VideoContextMenuGK').menuRedesign?"_45di":''},s,c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu8},this.$VideoPlayerHTML5ContextMenu6()),this.$VideoPlayerHTML5ContextMenu14(),this.props.children);return c('React').createElement('span',null,c('React').createElement(c('MountedContextMenu.react'),{mountedTriggerElem:this.props.videoElem,menu:t,ref:'menu'}),this.renderLayers());};r.propTypes={videoElem:function s(t,u,v){if(!l.call(t,u)){return new Error(v+'.'+u+' is required');}else if(!c('isNode')(t[u]))return new Error(v+'.'+u+' must be a raw DOM node');},paused:n.bool,muted:n.bool,permalinkURL:n.string,onTogglePause:n.func.isRequired,onToggleMute:n.func.isRequired};f.exports=r;}),null);
__d('VideoContextMenu',['EventListener','Bootloader','URI','React','ReactDOM','VideoPlayerHTML5ContextMenu.react','VideoPlayerReason','VideoPlayerStates','UserAgent','CurrentUser','isFacebookURI'],(function a(b,c,d,e,f,g){var h=/(instagram)/g;function i(j,k,l){'use strict';this.$VideoContextMenu9=function(){var o='DebugOverlay',p='hidden';if(this.$VideoContextMenu2.hasOption(o,p)){this.$VideoContextMenu12(o,p,'Employee Debug Info','Hide Debug Information');}else this.$VideoContextMenu11(o,p);this.$VideoContextMenu8();}.bind(this);this.$VideoContextMenu8=function(){if(this.$VideoContextMenu6)this.$VideoContextMenu13();}.bind(this);this.$VideoContextMenu10=function(o){var p=/^a$/i.test(o.target.nodeName||''),q=p||c('CurrentUser').isEmployee()&&(c('UserAgent').isPlatform('Mac OS X')?o.getModifiers().meta:o.getModifiers().ctrl);if(q&&this.$VideoContextMenu6){c('ReactDOM').unmountComponentAtNode(this.$VideoContextMenu4);delete this.$VideoContextMenu6;}else if(!q&&!this.$VideoContextMenu6){o.preventDefault();this.$VideoContextMenu13();}}.bind(this);this.$VideoContextMenu2=j;this.$VideoContextMenu3=l;this.$VideoContextMenu4=k;this.$VideoContextMenu1={};this.$VideoContextMenu5=null;if(this.$VideoContextMenu3.permalinkURL){var m=new (c('URI'))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI();if(!c('isFacebookURI')(m)){m.setSubdomain('www');m.setDomain(m.getDomain().replace(h,'facebook'));}this.$VideoContextMenu5=m.toString();}var n=['muteVideo','unmuteVideo','changeVolume','beginPlayback','pausePlayback','finishPlayback','adBreakIndicatorShowing'];['enterWatchAndScroll','exitWatchAndScroll'].forEach(function(o){return j.addListener(o,function(){if(this.$VideoContextMenu6)this.$VideoContextMenu6.hidePermalinkOverlay();this.$VideoContextMenu8();}.bind(this));}.bind(this));j.addListener('optionsChange',this.$VideoContextMenu9);this.$VideoContextMenu9();n.forEach(function(o){return j.addListener(o,this.$VideoContextMenu8);}.bind(this));c('EventListener').listen(this.$VideoContextMenu2.getRootNode(),'contextmenu',this.$VideoContextMenu10);}i.prototype.setPermalinkURL=function(j){'use strict';this.$VideoContextMenu5=j;this.$VideoContextMenu8();};i.prototype.$VideoContextMenu11=function(j,k){'use strict';if(this.$VideoContextMenu7)this.$VideoContextMenu7.removeMenuItem(j,k);};i.prototype.$VideoContextMenu12=function(j,k,l,m){'use strict';c('Bootloader').loadModules(["VideoComponentOptionMenuItems"],function(n){if(!this.$VideoContextMenu7)this.$VideoContextMenu7=new n(this.$VideoContextMenu2,this.$VideoContextMenu8);this.$VideoContextMenu7.addComponentOptionMenuItem(j,k,l,m);}.bind(this),'VideoContextMenu');};i.prototype.$VideoContextMenu14=function(j,k){'use strict';if(!this.$VideoContextMenu7)return undefined;return this.$VideoContextMenu7.getComponentOptionMenuItem(j,k);};i.prototype.$VideoContextMenu13=function(){'use strict';var j=this.$VideoContextMenu14('DebugOverlay','hidden'),k=this.$VideoContextMenu2.getRootNode(),l=false;if(this.$VideoContextMenu2.hasOption('VideoContextMenu','disablePauseMenuItem'))l=this.$VideoContextMenu2.getOption('VideoContextMenu','disablePauseMenuItem')&&!this.$VideoContextMenu2.isState(c('VideoPlayerStates').PAUSED);this.$VideoContextMenu6=c('ReactDOM').render(c('React').createElement(c('VideoPlayerHTML5ContextMenu.react'),{videoElem:k,paused:l?null:!this.$VideoContextMenu2.isState(c('VideoPlayerStates').PLAYING),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu15();}.bind(this),onToggleMute:function(){return this.$VideoContextMenu16();}.bind(this)},j),this.$VideoContextMenu4);};i.prototype.$VideoContextMenu16=function(){'use strict';if(this.$VideoContextMenu2.isMuted()){this.$VideoContextMenu2.unmute();}else this.$VideoContextMenu2.mute();};i.prototype.$VideoContextMenu15=function(){'use strict';if(!this.$VideoContextMenu2.isState('playing')){this.$VideoContextMenu2.play(c('VideoPlayerReason').USER);}else this.$VideoContextMenu2.pause(c('VideoPlayerReason').USER);};f.exports=i;}),null);
__d("CoverVideoOffsetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VERTICAL:0,HORIZONTAL:1});}),null);
__d('SphericalVideoPlayerEvents',[],(function a(b,c,d,e,f,g){f.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:'setRelativeSphericalOrientation',SET_ABSOLUTE_SPHERICAL_ORIENTATION:'setAbsoluteSphericalOrientation',SET_FIELD_OF_VIEW:'setFieldOfView'};}),null);
__d("VideoPlayerAbrEvaluation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IDEAL:"ideal",CONSERVATIVE:"conservative",AGGRESSIVE:"aggressive",CONSERVATIVE_RESOLUTION_CONSTRAINED:"conservative_resolution_constrained"});}),null);
__d('VideoPlayerABRQualityTracker',['VideoPlayerAbrEvaluation'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoPlayerABRQualityTracker1=i;this.$VideoPlayerABRQualityTracker2=null;}h.prototype.setLastQualitySwitchReason=function(i){'use strict';this.$VideoPlayerABRQualityTracker2=i;};h.prototype.getABREvaluation=function(){'use strict';var i=[];if(this.$VideoPlayerABRQualityTracker1)i=this.$VideoPlayerABRQualityTracker1.flushABREvaluationSet();var j=0,k=0,l=0,m=0,n=this.$VideoPlayerABRQualityTracker2;for(var o=0;o<i.length;o++)switch(i[o]){case c('VideoPlayerAbrEvaluation').IDEAL:j++;break;case c('VideoPlayerAbrEvaluation').CONSERVATIVE:k++;break;case c('VideoPlayerAbrEvaluation').AGGRESSIVE:l++;break;case c('VideoPlayerAbrEvaluation').CONSERVATIVE_RESOLUTION_CONSTRAINED:m++;break;}return {idealSamples:j,conservativeSamples:k,aggressiveSamples:l,conservativeResolutionConstrainedSamples:m,lastQualitySwitchReason:n};};f.exports=h;}),null);
__d("VideoPlayerFormats",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INLINE:"inline",SNOWLIFT:"snowlift",PERMALINK:"permalink",CHANNEL:"channel",FULL_SCREEN:"full_screen",SOCIAL_PLAYER:"social_player",TV:"tv",MISC:"misc",WATCH_SCROLL:"watch_scroll",WATCH_SCROLL_APP_BACKGROUND:"watch_scroll_app_background",WATCH_AND_GO:"watch_and_go",WATCH_AND_BROWSE:"watch_and_browse",CANVAS:"canvas",TAHOE:"tahoe"});}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"});}),null);
__d('VideoPlayerLoggerErrorStates',[],(function a(b,c,d,e,f,g){f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};}),null);
__d('VideoPlayerLoggerErrors',[],(function a(b,c,d,e,f,g){f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){f.exports={STARTED:'started',UNPAUSED:'unpaused'};}),null);
__d('VideoPlayerLogger',['invariant','Banzai','ErrorUtils','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerPlayerStates','VideoPlayerLoggerSource','ex','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('VideoPlayerHTML5Experiments').useBanzaiVitalForLive,j=c('VideoPlayerHTML5Experiments').discerningAbandonStallLogging,k='video_player',l=5000,m=function o(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();};function n(o,p){this.$VideoPlayerLogger2=o;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=p;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger17=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger22();this.$VideoPlayerLogger23();}n.prototype.updateSource=function(o){this.$VideoPlayerLogger2=o;};n.prototype.getSource=function(){return this.$VideoPlayerLogger2;};n.prototype.logEvent=function(event,o){o=babelHelpers['extends']({},o,this.$VideoPlayerLogger4);o.initial_event=!Object.prototype.hasOwnProperty.call(this.$VideoPlayerLogger6,event);if(!Object.prototype.hasOwnProperty.call(o,'time_ms'))o.time_ms=m();if(!Object.prototype.hasOwnProperty.call(o,'time'))o.time=Math.round(o.time_ms/1000);o.is_stalling=this.$VideoPlayerLogger24();o.error_user_info=this.$VideoPlayerLogger25(o.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(o,this.$VideoPlayerLogger3);switch(event){case c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=o.time_ms;break;case c('VideoPlayerInitializationEvent').REQUESTED_PLAYING:case c('VideoPlayerInitializationEvent').STARTED_PLAYING:case c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED:case c('VideoPlayerInitializationEvent').PLAYER_SENT_REQUEST:case c('VideoPlayerInitializationEvent').PLAYER_RECEIVED_FIRST_BYTE:case c('VideoPlayerInitializationEvent').BUFFER_READY:case c('VideoPlayerInitializationEvent').METADATA_READY:if(!o.initial_event)break;o.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break;}switch(event){case c('VideoPlayerLoggerEvent').QUALITY_CHANGE:case c('VideoPlayerLoggerEvent').PAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:if(this.$VideoPlayerLogger21){var p=this.$VideoPlayerLogger21,q=p.getABREvaluation();o.ideal_samples=q.idealSamples;o.conservative_samples=q.conservativeSamples;o.aggressive_samples=q.aggressiveSamples;o.conservative_resolution_constrained_samples=q.conservativeResolutionConstrainedSamples;o.last_quality_switch_reason=q.lastQualitySwitchReason;if(o.reason)p.setLastQualitySwitchReason(o.reason);}break;}switch(event){case c('VideoPlayerLoggerEvent').REQUESTED_PLAYING:this.$VideoPlayerLogger22();this.$VideoPlayerLogger26();if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){o.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else o.state=c('VideoPlayerLoggerPlayerStates').STARTED;break;case c('VideoPlayerLoggerEvent').STARTED_PLAYING:case c('VideoPlayerLoggerEvent').UNPAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:case c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING:case c('VideoPlayerLoggerEvent').ERROR:case c('VideoPlayerLoggerEvent').PAUSED:case c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED:case c('VideoPlayerLoggerEvent').HEART_BEAT:if(event===c('VideoPlayerLoggerEvent').ERROR&&c('VideoPlayerExperiments').disableStallLoggingForError)break;if(event==c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED&&!this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])break;if(event===c('VideoPlayerLoggerEvent').HEART_BEAT&&(!this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]||!c('VideoPlayerHTML5Experiments').heartbeatUpdateWatchTimeV2))break;if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').UNPAUSED){this.$VideoPlayerLogger10=o.time_ms;this.$VideoPlayerLogger27();}if(event===c('VideoPlayerLoggerEvent').ERROR&&o.state!==c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE)break;if(event===c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){o.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else o.state=c('VideoPlayerLoggerPlayerStates').STARTED;this.$VideoPlayerLogger28();this.$VideoPlayerLogger29();if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){if(j&&event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)this.$VideoPlayerLogger27();o.recent_stalls_count=this.$VideoPlayerLogger30();}this.$VideoPlayerLogger31();this.$VideoPlayerLogger32(o);this.$VideoPlayerLogger33(o);this.$VideoPlayerLogger23();if(j)this.$VideoPlayerLogger27();this.$VideoPlayerLogger22();break;}var r={logData:o,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)c('ErrorUtils').reportError(new Error(c('ex')('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===c('VideoPlayerLoggerSource').ANIMATED_IMAGE_SHARE)return null;if(o.ad_client_token||i&&o.playback_is_live_streaming){c('Banzai').post(k,r,c('Banzai').VITAL);}else c('Banzai').post(k,r);return r;};n.prototype.setScriptPath=function(o){this.$VideoPlayerLogger1=o;};n.prototype.setFTData=function(o){this.$VideoPlayerLogger3=o;};n.prototype.setABRQualityTracker=function(o){this.$VideoPlayerLogger21=o;};n.prototype.startBuffering=function(o){this.$VideoPlayerLogger26(o);};n.prototype.endBuffering=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34();this.$VideoPlayerLogger28();this.$VideoPlayerLogger31();};n.prototype.startInterrupt=function(){this.$VideoPlayerLogger35();};n.prototype.endInterrupt=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34();};n.prototype.$VideoPlayerLogger24=function(){return this.$VideoPlayerLogger13>0;};n.prototype.$VideoPlayerLogger26=function(o){if(this.$VideoPlayerLogger24())return;this.$VideoPlayerLogger13=Date.now();if(o!==undefined&&this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])this.$VideoPlayerLogger14=o;};n.prototype.$VideoPlayerLogger35=function(){if(this.$VideoPlayerLogger36())return;this.$VideoPlayerLogger18=Date.now();};n.prototype.$VideoPlayerLogger36=function(){return this.$VideoPlayerLogger18>0;};n.prototype.$VideoPlayerLogger37=function(){if(!this.$VideoPlayerLogger36())return 0;return Date.now()-this.$VideoPlayerLogger18;};n.prototype.$VideoPlayerLogger38=function(){return this.$VideoPlayerLogger24()?Date.now()-this.$VideoPlayerLogger13:0;};n.prototype.$VideoPlayerLogger29=function(){if(this.$VideoPlayerLogger36()){var o=this.$VideoPlayerLogger37();this.$VideoPlayerLogger19+=o;this.$VideoPlayerLogger17+=o;this.$VideoPlayerLogger20+=1;this.$VideoPlayerLogger16+=1;}};n.prototype.$VideoPlayerLogger34=function(){if(this.$VideoPlayerLogger36())this.$VideoPlayerLogger18=0;};n.prototype.$VideoPlayerLogger23=function(){this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger20=0;this.$VideoPlayerLogger34();};n.prototype.$VideoPlayerLogger28=function(){if(this.$VideoPlayerLogger24()){var o=this.$VideoPlayerLogger38();if(this.$VideoPlayerLogger14!==null)this.$VideoPlayerLogger15=o;this.$VideoPlayerLogger12+=o;this.$VideoPlayerLogger9+=o;this.$VideoPlayerLogger11++;this.$VideoPlayerLogger8++;if(j)this.$VideoPlayerLogger7.push(m());}};n.prototype.$VideoPlayerLogger31=function(){if(this.$VideoPlayerLogger24())this.$VideoPlayerLogger13=0;};n.prototype.$VideoPlayerLogger25=function(o){if(o&&typeof o=='object')return JSON.stringify(o);return o;};n.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8;};n.prototype.getStallCount=function(){return this.$VideoPlayerLogger11;};n.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger38();};n.prototype.getCumulativeInterruptCount=function(){return this.$VideoPlayerLogger16;};n.prototype.getCumulativeInterruptTime=function(){return this.$VideoPlayerLogger17+this.$VideoPlayerLogger37();};n.prototype.$VideoPlayerLogger32=function(o){o.stall_time=Math.max(0,this.$VideoPlayerLogger12);o.stall_count=this.$VideoPlayerLogger11;if(this.$VideoPlayerLogger15){o.first_stall_time=this.$VideoPlayerLogger15;o.first_stall_start_position=this.$VideoPlayerLogger14;}};n.prototype.$VideoPlayerLogger33=function(o){o.interrupt_time=Math.max(0,this.$VideoPlayerLogger19);o.interrupt_count=this.$VideoPlayerLogger20;};n.prototype.$VideoPlayerLogger30=function(){var o=m(),p=o-l;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(q){return q>=p;});if(!j)if(this.$VideoPlayerLogger11>0)this.$VideoPlayerLogger7.push(o);return this.$VideoPlayerLogger7.length;};n.prototype.$VideoPlayerLogger22=function(){this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger13=0;this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger14=null;this.$VideoPlayerLogger15=0;};n.prototype.$VideoPlayerLogger27=function(){this.$VideoPlayerLogger7=[];};n.Sources=c('VideoPlayerLoggerSource');n.Errors=c('VideoPlayerLoggerErrors');n.FallbackReasons=c('VideoPlayerLoggerFallbackReasons');n.ErrorStates=c('VideoPlayerLoggerErrorStates');n.PlayerStates=c('VideoPlayerLoggerPlayerStates');f.exports=n;}),null);
__d('VideoPlayerUIComponentDrawerController',['VideoPlayerUIComponentDrawer'],(function a(b,c,d,e,f,g){'use strict';var h=function j(k,l){return k.getPriority()-l.getPriority();};function i(){this.$VideoPlayerUIComponentDrawerController1=[];}i.prototype.register=function(j,k){var l=new (c('VideoPlayerUIComponentDrawer'))(j,k);l.addListener('reserve',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('release',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('heightChange',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l;};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit('reposition',k);if(l.isReserved())k+=l.getHeight();});};f.exports=i;}),null);
__d('VideoPlayerVolumeSettings',['WebStorage'],(function a(b,c,d,e,f,g){function h(){'use strict';this.$VideoPlayerVolumeSettings1=1;this.$VideoPlayerVolumeSettings2=1;}h.prototype.getVolume=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerVolume');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings1;};h.prototype.getSessionVolume=function(){'use strict';return this.$VideoPlayerVolumeSettings1;};h.prototype.setSessionVolume=function(j){'use strict';this.$VideoPlayerVolumeSettings1=j;};h.prototype.saveVolume=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)k.setItem('videoPlayerControllerVolume',j);this.$VideoPlayerVolumeSettings1=j;};h.prototype.getLastVolumeBeforeMute=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerLastVolumeBeforeMute');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings2;};h.prototype.saveLastVolumeBeforeMute=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)k.setItem('videoPlayerControllerLastVolumeBeforeMute',j);this.$VideoPlayerVolumeSettings2=j;};var i=new h();f.exports=i;}),null);
__d("XVideoDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/video_data\/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:true},is_ad:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:false}});}),null);
__d('enumerate',[],(function a(b,c,d,e,f,g){'use strict';f.exports=function(h){return h.FB_enumerate;}(b);}),null);
__d('VideoPlayerController',['csx','cx','invariant','Promise','Arbiter','Banzai','BigPipe','Bootloader','CoverVideoOffsetType','CSS','DOM','DOMDimensions','DOMQuery','EventEmitter','FullScreen','JSLogger','JSLog','JSResource','Map','Run','ScriptPath','Set','SphericalVideoExperiments','SphericalVideoPlayerEvents','SubscriptionsHandler','Parent','URI','VideoChannelViewChainLengthManager','VideoMimeTypes','VideoPermalinkURI','VideoPlayerABRQualityTracker','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerFormats','VideoPlayerFormatsMap','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerResizeSettings','VideoPlayerVersions','VideoPlayerShakaBandwidthEstimator','VideoPlayerStates','VideoPlayerUIComponentDrawer','VideoPlayerUIComponentDrawerController','VideoPlayerVolumeSettings','VideosRenderingInstrumentation','ViewportTrackingHelper','Visibility','XVideoDataController','canVideoPlayType','clearInterval','collectDataAttributes','enumerate','forwardEvent','getContextualParent','getElementPosition','getFullScreenElement','getViewportDimensions','ifRequired','logVideosClickTracking','mapObject','performanceAbsoluteNow','requireWeak','setInterval','uniqueID'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=null;c('requireWeak')('VideoChannelLogger',function(t){m=t;});var n=null;c('requireWeak')('VideoHomeLogger',function(t){n=t;});var o=5,p=1;function q(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}var r=0;k=babelHelpers.inherits(s,c('EventEmitter'));l=k&&k.prototype;function s(t,u){var v=t.video_id,w=t.video_ids,x=t.video_url,y=t.video_urls,z=t.chaining_token,aa=t.video_channel_id,ba=t.reaction_video_channel_type,ca=t.source,da=t.ad_client_token,ea=t.should_autoplay,fa=t.player_version,ga=t.autoplay_setting,ha=t.apiModule,ia=t.apiConfig,ja=t.useInlineFallback,ka=t.accessToken,la=t.projection,ma=t.playerOrigin,na=t.playerSuborigin,oa=t.isBroadcast,pa=t.components,qa=t.trackingCodes,ra=t.alwaysShowCaptions,sa=t.disableLogging,ta=t.subtitleBackgroundColor,ua=t.subtitleBackgroundOpacity,va=t.subtitleTextColor,wa=t.subtitleTextSize,xa=t.video_path,ya=t.customLoggingProps,za=t.broadcasterOrigin,ab=t.allowCrossPageTransition,bb=t.isReactPlayer,cb=t.offsettype,db=t.offsetvalue,eb=u.root_element,fb=u.container_element,gb=u.video_element;'use strict';l.constructor.call(this);this.emitHeartbeat=function(){if(!this.isState(c('VideoPlayerStates').PLAYING)||!this.getVideoNode()){this.stopHeartbeat();return;}if(c('VideoPlayerHTML5Experiments').heartbeatSkipOnBuffering&&this.isBuffering())return;this.getVideoAPI().logHeartbeat();}.bind(this);this.$VideoPlayerController119=function(){if(!c('VideoPlayerExperiments').allowBufferingErrorForHiddenTab&&c('Visibility').isHidden()){this.$VideoPlayerController118();this.$VideoPlayerController81=setTimeout(this.$VideoPlayerController119,c('VideoPlayerExperiments').bufferingErrorTimeout);return;}var mb=this.getVideoAPI().isPaused()!==undefined?!this.getVideoAPI().isPaused():this.getState()==='playing';if(mb){this.logError({error:'BUFFERING_TIMEOUT',message:'video has been in buffering state for over '+c('VideoPlayerExperiments').bufferingErrorTimeout+'ms.',isPlayback:this.isPlayRequestPending()});this.$VideoPlayerController118();this.emit('error',c('VideoPlayerLoggerFallbackReasons').TIMEOUT);}}.bind(this);this.$VideoPlayerController22=0;this.$VideoPlayerController21=new (c('Map'))();this.$VideoPlayerController65={};if(ya)this.setLogEntryPropertyGetters(ya);if(ea===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController20=new (c('VideoPlayerUIComponentDrawerController'))();this.$VideoPlayerController13=new (c('Map'))();this.$VideoPlayerController48=la;this.$VideoPlayerController1=ka;this.$VideoPlayerController57=!!ea;this.$VideoPlayerController8=ga;this.$VideoPlayerController2=da;this.$VideoPlayerController44=false;this.$VideoPlayerController73=gb;this.$VideoPlayerController56=eb;this.$VideoPlayerController14=fb;this.$VideoPlayerController29=false;this.$VideoPlayerController30=false;this.$VideoPlayerController47=fa;this.$VideoPlayerController72=v||w&&w[0]||'';this.$VideoPlayerController75=x||y&&y[0];this.$VideoPlayerController74=xa;this.$VideoPlayerController11=z;this.$VideoPlayerController70=aa;this.$VideoPlayerController45=ma;this.$VideoPlayerController46=na||ca;this.$VideoPlayerController28=oa;this.$VideoPlayerController67=qa;this.$VideoPlayerController3=ra;this.$VideoPlayerController60=ta||'';this.$VideoPlayerController61=ua==undefined?0:ua;this.$VideoPlayerController62=va||'';this.$VideoPlayerController63=wa==undefined?0:wa;this.$VideoPlayerController27=c('uniqueID')();this.$VideoPlayerController54=ba;this.$VideoPlayerController5=ha;this.$VideoPlayerController4=ia;this.$VideoPlayerController34=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController33=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController31=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController68=!!ja;this.$VideoPlayerController79=new (c('Set'))();this.$VideoPlayerController80=za;this.$VideoPlayerController81=0;this.$VideoPlayerController82=!!ab;this.$VideoPlayerController83=!!bb;this.$VideoPlayerController84=this.getContainerNode().style.paddingBottom;this.$VideoPlayerController85=cb;this.$VideoPlayerController86=db;this.$VideoPlayerController19=c('Arbiter').subscribe('DOM/destroy',function(mb,nb){if(!c('Parent').bySelector(this.getVideoNode(),nb))return;this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));var hb=c('VideoPlayerExperiments').maxPageletDisplaySuspensions;if(c('VideoPlayerExperiments').suspendPageletDisplay&&(!hb||hb>r))if(!c('VideoPlayerExperiments').suspendPageletDisplayLiveOnly||this.$VideoPlayerController33){this.$VideoPlayerController78=c('BigPipe').suspendPageletDisplay(c('VideoPlayerExperiments').suspendPageletDisplayTimeout);r++;}this.$VideoPlayerController17=0;var ib=c('URI').getRequestURI(),jb=c('VideoPermalinkURI').parse(ib),kb=parseFloat(ib.getQueryData().t),lb=jb?jb.video_id==this.$VideoPlayerController72:false;if(kb&&lb&&this.$VideoPlayerController4)this.$VideoPlayerController4.startTimestamp=kb;this.$VideoPlayerController15=null;this.$VideoPlayerController42=null;this.$VideoPlayerController58=ca;this.$VideoPlayerController38=new (c('VideoPlayerLogger'))(ca);this.collectFeedTrackingData();this.$VideoPlayerController38.setScriptPath(c('ScriptPath').getScriptPath());this.$VideoPlayerController50=c('VideosRenderingInstrumentation').retrieveRenderTime(this.getRootNode());this.$VideoPlayerController49=q()-this.$VideoPlayerController50;if(ia)ia.subtitleDrawer=this.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.Subtitles,0);this.$VideoPlayerController59='loading';this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController50});this.$VideoPlayerController87(false);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController68)){if(this.$VideoPlayerController68){this.$VideoPlayerController88();}else{this.$VideoPlayerController89();return;}}else this.$VideoPlayerController90();c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));this.$VideoPlayerController7=new (c('SubscriptionsHandler'))();if(this.$VideoPlayerController57)if(c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad){this.$VideoPlayerController7.addSubscriptions(c('Run').onAfterLoad(function(){return this.$VideoPlayerController91();}.bind(this)));}else this.$VideoPlayerController91();this.$VideoPlayerController18=0;this.$VideoPlayerController55=false;this.$VideoPlayerController23=this.$VideoPlayerController92();if(c('VideoPlayerMemLeakExperiments').clear_shutdown_with_arbiter){this.$VideoPlayerController7.addSubscriptions(c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this)));}else c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));this.$VideoPlayerController7.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(mb,nb){if(nb.type==='DialogX'||nb.type==='PhotoSnowlift'){c('Bootloader').loadModules(["VideoAutoplayControllerX"],function(ob){ob.setShouldAutoplay(false);},'VideoPlayerController');this.$VideoPlayerController18=this.$VideoPlayerController18+1;if(c('VideoPlayerExperiments').ignoreDialogCounter||this.$VideoPlayerController18>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController55=true;}}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(mb,nb){if(nb.type==='DialogX'||nb.type==='PhotoSnowlift'){if(c('VideoPlayerExperiments').addViewabilityFixEnabled){this.$VideoPlayerController18=Math.max(0,this.$VideoPlayerController18-1);}else this.$VideoPlayerController18=this.$VideoPlayerController18-1;if(this.$VideoPlayerController18===0){c('Bootloader').loadModules(["VideoAutoplayControllerX"],function(ob){ob.setShouldAutoplay(true);},'VideoPlayerController');if(this.$VideoPlayerController55&&!this.getIsInChannel()){this.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController55=false;}}}}.bind(this)),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(mb,nb){return this.$VideoPlayerController93(mb,nb);}.bind(this)));if(c('VideoPlayerMemLeakExperiments').clear_runonleave_with_arbiter){this.$VideoPlayerController7.addSubscriptions(c('Run').onLeave(function(){if(this.$VideoPlayerController82||c('VideoPlayerExperiments').persistentWNSEnabled&&this.$VideoPlayerController58===c('VideoPlayerLoggerSource').WATCH_SCROLL)return;this.cleanOnLeave();}.bind(this)));}else c('Run').onLeave(function(){if(this.$VideoPlayerController82||c('VideoPlayerExperiments').persistentWNSEnabled&&this.$VideoPlayerController58===c('VideoPlayerLoggerSource').WATCH_SCROLL)return;this.cleanOnLeave();}.bind(this));this.$VideoPlayerController12=pa||[];this.$VideoPlayerController12.forEach(function(mb){return mb.enable(this);}.bind(this));this.$VideoPlayerController41=1;}s.prototype.destroy=function(t){'use strict';t=t||{};if(this.isState('destroyed')||this.$VideoPlayerController30)return;if(this.$VideoPlayerController78){this.$VideoPlayerController78();this.$VideoPlayerController78=null;}this.$VideoPlayerController30=true;var u=this.$VideoPlayerController12;for(var v=u.length-1;v>=0;v--)u[v].disable(this);this.getVideoAPI().destroy(t);this.setState('destroyed');this.$VideoPlayerController7.release();if(!t.skipRemoveAllListeners)this.removeAllListeners();if(this.$VideoPlayerController19){this.$VideoPlayerController19.unsubscribe();this.$VideoPlayerController19=null;}this.stopHeartbeat();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy){this.$VideoPlayerController73=null;this.$VideoPlayerController56=null;this.$VideoPlayerController14=null;}};s.prototype.$VideoPlayerController94=function(){'use strict';var t=c('DOMQuery').scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!t.length)return c('Promise').reject();c('DOM').replace(this.getVideoNode(),t[0]);this.$VideoPlayerController73=t[0];return c('JSResource')('VideoPlayerFlashApi').__setRef('VideoPlayerController').load();};s.prototype.$VideoPlayerController88=function(){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController94().then(function(t){if(t.isImplementationUnavailable()){return c('Promise').reject();}else return c('Promise').resolve(t);}).done(function(t){this.$VideoPlayerController5=t;this.$VideoPlayerController90();}.bind(this),function(t){return this.$VideoPlayerController89();}.bind(this));};s.prototype.collectFeedTrackingData=function(){'use strict';var t=null;if(this.$VideoPlayerController67){var u={tn:'','tn-debug':','},v={};for(var w=0;w<this.$VideoPlayerController67.length;w++){var x=JSON.parse(this.$VideoPlayerController67[w]);if(!Array.isArray(x))for(var y in x)if(u[y]!==undefined){if(v[y]===undefined)v[y]=[];v[y].push(x[y]);}else if(v[y]===undefined)v[y]=x[y];}for(var z in u)if(v[z]!==undefined)v[z]=v[z].join(u[z]);t={ft:v};}else{var aa=false,ba=this.getRootNode();while(ba){if(c('CSS').matchesSelector(ba,"._4oep")){aa=true;break;}ba=c('getContextualParent')(ba);}if(!aa){t=c('collectDataAttributes')(this.getRootNode(),['ft']);}else t={};}this.$VideoPlayerController38.setFTData(t);};s.prototype.$VideoPlayerController93=function(t,u){'use strict';u.video_player_debug_info=u.video_player_debug_info||{hardware:this.$VideoPlayerController95(),live_autoplay_bandwidth_restrain:c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained(true),autoplay_bandwidth_restrain:c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained(false)};u.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();};s.prototype.$VideoPlayerController95=function(){'use strict';try{var t=document.createElement('canvas'),u=t.getContext('webgl')||t.getContext('experimental-webgl'),v=u.getExtension('WEBGL_debug_renderer_info');return v&&{vendor:u.getParameter(v.UNMASKED_VENDOR_WEBGL),renderer:u.getParameter(v.UNMASKED_RENDERER_WEBGL)};}catch(w){}return null;};s.prototype.setStillFrameEnabled=function(t){'use strict';var u=this.getVideoAPI();if(u.setStillFrameEnabled)u.setStillFrameEnabled(t);};s.prototype.isFallbackRecoverable=function(){'use strict';return !!this.$VideoPlayerController64;};s.prototype.setFallbackSources=function(t){'use strict';this.$VideoPlayerController64=t;};s.prototype.setRelativeSphericalOrientation=function(t,u){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_RELATIVE_SPHERICAL_ORIENTATION,t,u);};s.prototype.setSphericalOrientation=function(t,u){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_ABSOLUTE_SPHERICAL_ORIENTATION,t,u);};s.prototype.setSphericalFieldOfView=function(t){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_FIELD_OF_VIEW,t);};s.prototype.isSpherical=function(){'use strict';return this.$VideoPlayerController4?!!this.$VideoPlayerController4.isSpherical:false;};s.prototype.getVideoPlayerID=function(){'use strict';return this.$VideoPlayerController27;};s.prototype.setLogEntryPropertyGetters=function(t){'use strict';Object.keys(t).forEach(function(u){var v=t[u];if(typeof v==='function'){this.$VideoPlayerController21.set(u,v);}else this.$VideoPlayerController65[u]=v;}.bind(this));};s.prototype.removeLogEntryPropertyGetters=function(t){'use strict';if(typeof t==='string')t=[t];if(!Array.isArray(t))t=Object.keys(t);t.forEach(function(u){this.$VideoPlayerController21['delete'](u);delete this.$VideoPlayerController65[u];}.bind(this));};s.prototype.$VideoPlayerController90=function(){'use strict';this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};s.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController68)&&!this.$VideoPlayerController68;};s.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController58===c('VideoPlayerLoggerSource').CHANNEL;};s.prototype.updateSource=function(t){'use strict';if(!this.$VideoPlayerController58)return;var u=c('VideoPlayerFormatsMap')[this.$VideoPlayerController58],v=c('VideoPlayerFormatsMap')[t];this.$VideoPlayerController38.updateSource(t);if(u&&u!==v&&this.$VideoPlayerController76)if(c('VideoPlayerExperiments').delayFormatChangeEvent){if(this.isState(c('VideoPlayerStates').PLAYING)&&!this.$VideoPlayerController32){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController36=v;}else this.$VideoPlayerController36=u;}else this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController58=t;};s.prototype.getSource=function(){'use strict';return this.$VideoPlayerController38.getSource();};s.prototype.getPlayerOrigin=function(){'use strict';return this.$VideoPlayerController45;};s.prototype.getPlayerSuborigin=function(){'use strict';return this.$VideoPlayerController46;};s.prototype.hasLooped=function(){'use strict';return this.$VideoPlayerController41>1;};s.prototype.$VideoPlayerController89=function(){'use strict';var t={error:'IMPLEMENTATION_NOT_SUPPORTED',state:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,t);this.$VideoPlayerController57=false;};s.prototype.logError=function(t){'use strict';var u=this.$VideoPlayerController35=t,v=u.error,w=u.message,x=u.isPlayback,y=u.httpStatus,z=u.url,aa=this.getDebugInfo();delete aa.player.loggedError;delete aa.player.lastError;var ba={error:v,error_description:w,error_user_info:aa,error_code:y,resource_url:z,state:x?c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE};this.$VideoPlayerController37=this.logEvent(c('VideoPlayerLoggerEvent').ERROR,ba);if(x&&this.$VideoPlayerController44)this.$VideoPlayerController87(false);};s.prototype.setRotation=function(t){'use strict';this.getVideoAPI().setRotation(t);};s.prototype.setDimensions=function(t,u){'use strict';var v=this.getContainerNode();v.style.width=t+'px';v.style.height=u+'px';var w=this.getVideoNode();w.style.width=t+'px';w.style.height=u+'px';if(this.isState('loading')){this.$VideoPlayerController51={width:t,height:u};}else if(this.getVideoAPI().setDimensions){if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController32||c('VideoPlayerResizeSettings').disable_flash_set_dimensions))return;this.getVideoAPI().setDimensions(t,u);}};s.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController44;};s.prototype.$VideoPlayerController87=function(t){'use strict';if(this.$VideoPlayerController44===t)return;this.$VideoPlayerController44=t;this.emit('pendingPlayRequestChanged');};s.prototype.updateAutoplayRestrained=function(){'use strict';c('ifRequired')('VideoPlayerHTML5Shaka',function(t){var u=t.isAutoplayBandwidthRestrained(this.$VideoPlayerController33);this.$VideoPlayerController96(u);}.bind(this));};s.prototype.$VideoPlayerController96=function(t){'use strict';if(t){this.emit('turnOffAutoplay',{reason:'poor_network_quality'});}else this.emit('resumeAutoplay',{reason:'poor_network_quality'});this.getVideoAPI().setPreloadDisabled(t);};s.prototype.restoreStreamBufferSize=function(){'use strict';this.getVideoAPI().restoreStreamBufferSize();};s.prototype.getDataInsertionPosition=function(){'use strict';return this.$VideoPlayerController23&&this.$VideoPlayerController23.getAttribute('data-insertion-position');};s.prototype.play=function(t){'use strict';this.$VideoPlayerController97();if(!this.$VideoPlayerController43)this.$VideoPlayerController43=t;if(!this.$VideoPlayerController44){this.$VideoPlayerController42=this.$VideoPlayerController98();var u=this.$VideoPlayerController99({debug_reason:t}),v=this.$VideoPlayerController58;if(c('VideoPlayerExperiments').delayFormatChangeEvent&&v&&this.$VideoPlayerController76&&this.$VideoPlayerController36&&c('VideoPlayerFormatsMap')[v]!==this.$VideoPlayerController36&&!this.$VideoPlayerController32){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController36=c('VideoPlayerFormatsMap')[v];}this.logEvent(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,u);this.$VideoPlayerController76=true;}this.emit('playRequested',t);this.sendPlayRequest(t);if(t===c('VideoPlayerReason').LOOP)this.$VideoPlayerController41++;};s.prototype.sendPlayRequest=function(t){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');if(c('VideoPlayerExperiments').endBufferingOnFallbackPlay)this.$VideoPlayerController38.endBuffering();return;}this.$VideoPlayerController87(true);if(this.isState('loading')){this.$VideoPlayerController52={reason:t};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController40)this.logEvent(c('VideoPlayerLoggerEvent').UNMUTED);this.$VideoPlayerController40=false;this.$VideoPlayerController100();this.getVideoAPI().play(t);}};s.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController43;};s.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback')&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController101();if(this.$VideoPlayerController69&&this.$VideoPlayerController69.destroy)this.$VideoPlayerController69.destroy();this.$VideoPlayerController69=null;this.setState('loading');this.$VideoPlayerController90();};s.prototype.detachRootNode=function(){'use strict';c('DOM').remove(this.$VideoPlayerController56);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController102();}.bind(this));};s.prototype.getVideoAPI=function(){'use strict';this.$VideoPlayerController69||j(0);return this.$VideoPlayerController69;};s.prototype.getVideoNodeNullable=function(){'use strict';return this.$VideoPlayerController73;};s.prototype.getVideoNode=function(){'use strict';if(this.isState('destroyed'))c('JSLog').error('Cannot get video node, VideoPlayerController is destroyed. '+'In the future, this will be an error.');var t=this.getVideoNodeNullable();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy)t||j(0);return t;};s.prototype.getRootNodeNullable=function(){'use strict';return this.$VideoPlayerController56;};s.prototype.getRootNode=function(){'use strict';if(this.isState('destroyed'))c('JSLog').error('Cannot get root node, VideoPlayerController is destroyed. '+'In the future, this will throw an error.');var t=this.getRootNodeNullable();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy)t||j(0);return t;};s.prototype.getContainerNodeNullable=function(){'use strict';return this.$VideoPlayerController14;};s.prototype.getContainerNode=function(){'use strict';if(this.isState('destroyed'))c('JSLog').error('Cannot get container node, VideoPlayerController is destroyed.'+'In the future, this will throw an error.');var t=this.getContainerNodeNullable();if(c('VideoPlayerMemLeakExperiments').release_dom_nodes_on_destroy)t||j(0);return t;};s.prototype.getVideoResolution=function(){'use strict';var t=this.getVideoNode();return {height:t.videoHeight,width:t.videoWidth};};s.prototype.$VideoPlayerController102=function(){'use strict';this.setState('ready');this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController40=!this.getVideoAPI().isMuted();this.$VideoPlayerController66=!this.$VideoPlayerController3;if(this.getVideoAPI().setSubtitlesStyle)this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController60,this.$VideoPlayerController61,this.$VideoPlayerController62,this.$VideoPlayerController63);if(this.$VideoPlayerController52){this.sendPlayRequest(this.$VideoPlayerController52.reason);this.$VideoPlayerController52=null;}if(this.$VideoPlayerController51){this.setDimensions(this.$VideoPlayerController51.width,this.$VideoPlayerController51.height);this.$VideoPlayerController51=null;}if(this.$VideoPlayerController53){this.getVideoAPI().unmute();this.$VideoPlayerController53=null;}};s.prototype.onApiReady=function(){'use strict';if(this.$VideoPlayerController4){this.$VideoPlayerController4.id=this.$VideoPlayerController27;if(this.$VideoPlayerController64)this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController64;this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController45;this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController46;this.$VideoPlayerController4.getSource=function(){return this.getSource();}.bind(this);}this.$VideoPlayerController69=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController103();this.$VideoPlayerController102();var t={is_auto_played:this.isAutoplayable()};this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_LOADED,t);if(this.$VideoPlayerController69)this.$VideoPlayerController38.setABRQualityTracker(new (c('VideoPlayerABRQualityTracker'))(this.$VideoPlayerController69.getLocalEstimator()));if(c('SphericalVideoExperiments').useProjectionFromMPD){var u=this.getVideoProjection();if(u)this.$VideoPlayerController48=u;}this.emit('apiReady');};s.prototype.runOnApiReady=function(){var t=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];'use strict';if(!this.isState('loading')){t();}else this.once('apiReady',t);};s.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController17=0;};s.prototype.getCurrentTimePosition=function(){'use strict';if(this.isState('playing')){var t=this.getVideoAPI().getCurrentTimePosition();if(t!=null&&t!==undefined)this.$VideoPlayerController17=t;}return this.$VideoPlayerController17;};s.prototype.$VideoPlayerController97=function(){'use strict';if(!this.$VideoPlayerController9){c('VideoChannelViewChainLengthManager').registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var t=this.getVideoID();if(this.$VideoPlayerController11){var u=this.$VideoPlayerController11.decode();t=u.root_id;}this.$VideoPlayerController9=c('VideoChannelViewChainLengthManager').getLoggingData(t);}this.$VideoPlayerController71=m?m.getPlayerLoggingData():{};};s.prototype.$VideoPlayerController104=function(t){'use strict';this.$VideoPlayerController87(false);var u=t.position;if(u!==undefined)this.$VideoPlayerController17=u;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController105();}else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController106();this.startHeartbeat();};s.prototype.$VideoPlayerController107=function(t){'use strict';var u=t.position;if(u!==undefined)this.$VideoPlayerController17=u;this.$VideoPlayerController15=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();};s.prototype.$VideoPlayerController108=function(event){'use strict';return this.$VideoPlayerController79.has(event);};s.prototype.runOnceOnApiEventLogged=function(event,t){var u,v=this;'use strict';if(this.$VideoPlayerController108(event)){t();}else (function(){var w=v.addListener('apiEventLogged',function(x){if(x===event){t();w.remove();}});})();};s.prototype.$VideoPlayerController109=function(t){'use strict';var event=t.event;this.$VideoPlayerController79.add(event);delete t.event;this.logEvent(event,t);this.emit('apiEventLogged',event);};s.prototype.$VideoPlayerController110=function(){'use strict';if(!this.isState('finished'))this.setState('paused');this.stopHeartbeat();};s.prototype.$VideoPlayerController111=function(t){'use strict';var u=t.position;if(u!==undefined)this.$VideoPlayerController17=u;};s.prototype.$VideoPlayerController112=function(){'use strict';this.setState('finished');this.$VideoPlayerController55=false;this.stopHeartbeat();};s.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume();};s.prototype.$VideoPlayerController113=function(){'use strict';var t=this.getContainerNode(),u=this.isFullscreen();c('CSS').conditionClass(t,"_1hwh",u);if(u){t.setAttribute('data-fullscreen','true');t.style.paddingBottom='0';}else{t.removeAttribute('data-fullscreen');t.style.paddingBottom=this.$VideoPlayerController84;}if(!u&&this.$VideoPlayerController24){this.$VideoPlayerController24.unsubscribe();this.$VideoPlayerController24=null;}if(this.$VideoPlayerController32!=u){var v=u?{player_format:c('VideoPlayerFormats').FULL_SCREEN}:{player_format:!this.$VideoPlayerController58?c('VideoPlayerFormats').INLINE:c('VideoPlayerFormatsMap')[this.$VideoPlayerController58]};if(c('VideoPlayerHTML5Experiments').deprecateEnteredExitedFsEvents){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED,v);}else if(c('VideoPlayerHTML5Experiments').enteredExitedFsLoggingFix){this.logEvent(u?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS,v);}else this.logEvent(u?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS);var w=c('DOMDimensions').getElementDimensions(t);if(!this.isPlayerVersion('silvercity'))this.getVideoAPI().setDimensions(w.width,w.height);this.emit('toggleFullscreen');if(!u){this.addOffsetStylings();c('Arbiter').inform('video_fullscreen_change',{});}else this.removeOffsetStylings();}this.$VideoPlayerController32=u;};s.prototype.removeOffsetStylings=function(){'use strict';var t=this.$VideoPlayerController86;if(!t||this.$VideoPlayerController85===null)return;if(this.$VideoPlayerController85===c('CoverVideoOffsetType').HORIZONTAL){this.getVideoNode().style.setProperty('left','0');c('CSS').removeClass(this.getVideoNode(),"_blh");}else if(this.$VideoPlayerController85===c('CoverVideoOffsetType').VERTICAL){this.getVideoNode().style.setProperty('top','0');c('CSS').removeClass(this.getVideoNode(),"_bli");}};s.prototype.addOffsetStylings=function(){'use strict';var t=this.$VideoPlayerController86;if(!t||this.$VideoPlayerController85===null)return;if(this.$VideoPlayerController85===c('CoverVideoOffsetType').HORIZONTAL){this.getVideoNode().style.setProperty('left',t+'px');c('CSS').addClass(this.getVideoNode(),"_blh");}else if(this.$VideoPlayerController85===c('CoverVideoOffsetType').VERTICAL){this.getVideoNode().style.setProperty('top',t+'px');c('CSS').addClass(this.getVideoNode(),"_bli");}};s.prototype.isFullscreen=function(){'use strict';return c('FullScreen').isFullScreen()&&this.$VideoPlayerController14===c('getFullScreenElement')();};s.prototype.toggleFullscreen=function(){'use strict';var t=this.getContainerNode();if(c('FullScreen').toggleFullScreen(t)){c('CSS').addClass(t,"_1hwh");this.$VideoPlayerController24=c('FullScreen').subscribe('changed',this.$VideoPlayerController113.bind(this));}};s.prototype.instreamVideoStart=function(){'use strict';c('CSS').addClass(this.getContainerNode(),"_24pm");};s.prototype.instreamVideoEnd=function(){'use strict';c('CSS').removeClass(this.getContainerNode(),"_24pm");};s.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();c('VideoPlayerVolumeSettings').saveVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(this.$VideoPlayerController66&&this.getVideoAPI().areSubtitlesActive())this.$VideoPlayerController114();}else this.$VideoPlayerController53=true;};s.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted();};s.prototype.mute=function(){'use strict';if(this.$VideoPlayerController66&&!this.getVideoAPI().areSubtitlesActive())this.$VideoPlayerController114();this.getVideoAPI().mute();c('VideoPlayerVolumeSettings').saveVolume(0);};s.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration();};s.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController72;};s.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController70;};s.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController75;};s.prototype.$VideoPlayerController103=function(){'use strict';var t=this.getVideoAPI(),u=new (c('SubscriptionsHandler'))();this.$VideoPlayerController6=u;var v={buffered:function(){return this.setBuffering(false);}.bind(this),buffering:function(){return this.setBuffering(true);}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController38.startInterrupt();}.bind(this),streamResumed:function(){return this.$VideoPlayerController38.endInterrupt();}.bind(this),beginPlayback:function(w){return this.$VideoPlayerController104(w);}.bind(this),updateStatus:function(w){return this.$VideoPlayerController107(w);}.bind(this),updateBuffer:function(w){return this.$VideoPlayerController115(w);}.bind(this),logEvent:function(w){return this.$VideoPlayerController109(w.logData);}.bind(this),pausePlayback:function(){return this.$VideoPlayerController110();}.bind(this),seekEnd:function(w){return this.$VideoPlayerController111(w);}.bind(this),clickForTracking:function(){return c('logVideosClickTracking')(this.getVideoNode());}.bind(this),error:function(w){return this.logError(w);}.bind(this),finishPlayback:function(){return this.$VideoPlayerController112();}.bind(this)};u.addSubscriptions.apply(u,Object.keys(v).map(function(w){return t.addListener(w,v[w]);}));u.addSubscriptions.apply(u,c('VideoPlayerApiEvents').map(function(w){return c('forwardEvent')(t,this,w);}.bind(this)));};s.prototype.$VideoPlayerController115=function(t){'use strict';var u=c('VideoPlayerExperiments').suspendPageletDisplayBufferThreshold;if(t.duration>=u&&this.$VideoPlayerController78){this.$VideoPlayerController78();this.$VideoPlayerController78=null;}};s.prototype.$VideoPlayerController101=function(){'use strict';if(this.$VideoPlayerController6)this.$VideoPlayerController6.release();};s.prototype.seek=function(t){'use strict';this.emit('seekRequested',t);this.getVideoAPI().seek(t);};s.prototype.pause=function(t){'use strict';if(this.isState('loading')){this.$VideoPlayerController52=null;}else if(this.isState('playing')){this.getVideoAPI().pause(t);}else if(this.$VideoPlayerController44)this.getVideoAPI().pause(t);this.$VideoPlayerController87(false);this.$VideoPlayerController55=false;this.emit('pauseRequested',t);};s.prototype.stopHeartbeat=function(){'use strict';c('clearInterval')(this.$VideoPlayerController26);this.$VideoPlayerController26=null;};s.prototype.startHeartbeat=function(){'use strict';if(this.$VideoPlayerController26||!c('VideoPlayerHTML5Experiments').heartbeatIntervalMS)return;this.$VideoPlayerController26=c('setInterval')(this.emitHeartbeat,c('VideoPlayerHTML5Experiments').heartbeatIntervalMS);};s.prototype.isPlayerVersion=function(t){'use strict';return this.getPlayerVersion()===t||this.$VideoPlayerController83&&this.$VideoPlayerController116(t)===this.getPlayerVersion();};s.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController57;};s.prototype.$VideoPlayerController117=function(){'use strict';return c('ViewportTrackingHelper').isVisible(this.getVideoNode(),0);};s.prototype.$VideoPlayerController91=function(){'use strict';if(c('Visibility').isHidden()){c('Visibility').once(c('Visibility').VISIBLE,function(){return this.$VideoPlayerController91();}.bind(this));}else{if(!this.$VideoPlayerController117())c('JSLog').warn('immediateplay on a hidden video player: %s %s %s %s',this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),c('ScriptPath').getScriptPath());this.play(c('VideoPlayerReason').AUTOPLAY);}};s.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController29;};s.prototype.setBuffering=function(t){'use strict';if(t!==this.$VideoPlayerController29){this.$VideoPlayerController29=t;if(this.$VideoPlayerController29){this.$VideoPlayerController38.startBuffering(this.getCurrentTimePosition());if(c('VideoPlayerExperiments').bufferingErrorTimeout){this.$VideoPlayerController118();this.$VideoPlayerController81=setTimeout(this.$VideoPlayerController119,c('VideoPlayerExperiments').bufferingErrorTimeout);}}else{this.$VideoPlayerController38.endBuffering();this.$VideoPlayerController118();}this.emit('bufferingChanged');}};s.prototype.setSmartBufferAdjustmentEnabled=function(t){'use strict';var u=this.getVideoAPI();if('setSmartBufferAdjustmentEnabled' in u)u.setSmartBufferAdjustmentEnabled(t);};s.prototype.setVideoStreamOffset=function(t){'use strict';var u=this.getVideoAPI();if(typeof u.setVideoStreamOffset==='function')u.setVideoStreamOffset(t);};s.prototype.$VideoPlayerController118=function(){'use strict';if(this.$VideoPlayerController81){clearTimeout(this.$VideoPlayerController81);this.$VideoPlayerController81=0;}};s.prototype.isLiveVideo=function(){'use strict';return this.$VideoPlayerController33;};s.prototype.isFacecastAudio=function(){'use strict';return this.$VideoPlayerController31;};s.prototype.isStreamInterrupted=function(){'use strict';var t=this.$VideoPlayerController69;return !!(t&&t.isStreamInterrupted&&t.isStreamInterrupted());};s.prototype.setVolume=function(t){'use strict';c('VideoPlayerVolumeSettings').saveVolume(t);this.getVideoAPI().setVolume(t);};s.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.getRootNode());};s.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController25=true;};s.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController25;};s.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController2;};s.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController2;};s.prototype.$VideoPlayerController120=function(){'use strict';var t=null,u=null,v=false,w=null;if(!this.isState('loading')&&!this.isState('fallback')){if(this.$VideoPlayerController15===null)this.$VideoPlayerController15=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();t=this.getVideoAPI().getEstimatedBandwidth();u=this.getVideoAPI().getAvailableVideoQualities().length;v=this.getVideoAPI().getIsAbrEnabled();w=this.getPlaybackDuration();}var x=babelHelpers['extends']({},this.$VideoPlayerController65);this.$VideoPlayerController21.forEach(function(z,aa){x[aa]=z(aa,this);}.bind(this));var y={};if(this.getOption('SphericalVideoSpatialAudioController','hasSpatialAudio'))y.audio_ch_conf=this.getOption('SphericalVideoSpatialAudioController','getSpatialAudioChannelLayout');return babelHelpers['extends']({ad_client_token:this.$VideoPlayerController2,available_qualities:u,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController80,projection:this.$VideoPlayerController48,player_version:this.getPlayerVersion(),flash_version:c('ifRequired')('Flash',function(z){return z.getVersionString();}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController59,player_origin:this.$VideoPlayerController45,player_suborigin:this.$VideoPlayerController46,playback_is_broadcast:this.$VideoPlayerController28,playback_duration:w,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),playback_is_live_streaming:this.$VideoPlayerController33,video_channel_id:this.$VideoPlayerController70,reaction_video_channel_type:this.$VideoPlayerController54,fbcdn_pop:this.$VideoPlayerController42,representation_id:this.$VideoPlayerController15,video_bandwidth:t,is_abr_enabled:v,feed_position:this.getDataInsertionPosition()},n?n.getPlayerLoggingData():{},this.$VideoPlayerController71,this.$VideoPlayerController9,x,y);};s.prototype.$VideoPlayerController98=function(){'use strict';var t=this.getVideoInfo_DEPRECATED();if(!t)return null;var u=t.resourceUrl,v=/scontent-([a-z]+)\./.exec(u);if(!v)return null;return v[1];};s.prototype.getVideoInfo_DEPRECATED=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};s.prototype.getDebugInfo=function(){'use strict';var t=this.getVideoInfo_DEPRECATED(),u={initializationTime:this.$VideoPlayerController49,initializationTimestamp:this.$VideoPlayerController50,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController38.getCumulativeStallCount(),stallTime:this.$VideoPlayerController38.getCumulativeStallTime(),interruptCount:this.$VideoPlayerController38.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController38.getCumulativeInterruptTime(),state:this.$VideoPlayerController59,canPlayType:c('mapObject')(c('VideoMimeTypes'),c('canVideoPlayType')),loggedError:this.$VideoPlayerController37,lastError:this.$VideoPlayerController35,droppedFrames:!!this.$VideoPlayerController69&&this.$VideoPlayerController69.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController69&&this.$VideoPlayerController69.getTotalFrames(),videoSource:!!this.$VideoPlayerController69&&this.$VideoPlayerController69.getVideoNodeSource()},v={videoID:this.getVideoID()};if(!t)return {player:u,currentVideo:v};return {currentVideo:babelHelpers['extends']({},v,{streamType:t.streamType,isLiveStream:t.isLiveStream,liveManifestUrl:t.liveManifestUrl,isHD:t.isHD,hasHD:t.hasHD,resourceUrl:t.resourceUrl,hasSubtitles:t.hasSubtitles,hasRateLimit:!!t.hasUnlimitedSrc,isRateLimited:t.hasUnlimitedSrc&&!t.useUnlimitedSrc,tagHD:t.tagHD,tagSD:t.tagSD,projection:this.$VideoPlayerController48,streamId:this.$VideoPlayerController15,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfigurationDebug()}),player:u};};s.prototype.getLastError=function(){'use strict';return this.$VideoPlayerController35;};s.prototype.getStallCount=function(){'use strict';return this.$VideoPlayerController38.getStallCount();};s.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles();};s.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive();};s.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive();};s.prototype.isRTMP_DEPRECATED=function(){'use strict';return this.getVideoAPI().isRTMP();};s.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerController114();this.logEvent(c('VideoPlayerLoggerEvent').CAPTION_CHANGE);this.$VideoPlayerController66=false;};s.prototype.$VideoPlayerController114=function(){'use strict';this.getVideoAPI().toggleSubtitles();this.$VideoPlayerController100();};s.prototype.$VideoPlayerController100=function(){'use strict';if(this.hasSubtitles()&&this.areSubtitlesActive()){this.$VideoPlayerController10='on';}else this.$VideoPlayerController10='off';};s.prototype.isHD=function(){'use strict';return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop();};s.prototype.hasHD=function(){'use strict';return this.getAvailableVideoQualities().length>1;};s.prototype.toggleHD=function(){'use strict';if(this.isHD()){this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]);}else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop());};s.prototype.setPreferredVideoQuality=function(t){'use strict';this.getVideoAPI().setPreferredVideoQuality(t);};s.prototype.unsetPreferredVideoQuality=function(){'use strict';this.getVideoAPI().unsetPreferredVideoQuality();};s.prototype.getPreferredVideoQuality=function(){'use strict';return this.getVideoAPI().getPreferredVideoQuality();};s.prototype.getSelectedVideoQuality=function(){'use strict';return this.getVideoAPI().getSelectedVideoQuality();};s.prototype.getAvailableVideoQualities=function(){'use strict';return this.getVideoAPI().getAvailableVideoQualities();};s.prototype.getVideoProjection=function(){'use strict';return this.getVideoAPI().getVideoProjection();};s.prototype.canAutoSelectVideoQuality=function(){'use strict';return this.getVideoAPI().canAutoSelectVideoQuality();};s.prototype.switchToStreamType=function(t){'use strict';this.getVideoAPI().switchToStreamType(t);};s.prototype.$VideoPlayerController106=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',o).setString('source',this.$VideoPlayerController58).getURI().toString());};s.prototype.$VideoPlayerController105=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',p).setString('source',this.$VideoPlayerController58).getURI().toString());};s.prototype.$VideoPlayerController99=function(t){'use strict';var u=this.getVideoInfo_DEPRECATED();if(u!=null)return Object.assign({resource_url:u.resourceUrl,liveStream:u.isLiveStream,hd:u.isHD},t);return t;};s.prototype.$VideoPlayerController121=function(){'use strict';var t=this.getDOMPosition(),u=c('getViewportDimensions')().height,v=null;if(t.y<=0){v=t.y;}else if(t.y+t.height<u){v=0;}else v=t.y+t.height-u;return v;};s.prototype.logEvent=function(event,t){'use strict';if(this.$VideoPlayerController77)return undefined;var u=++this.$VideoPlayerController22,v=Object.assign(this.$VideoPlayerController120(),t),w=this.getOriginalPlayReason();if(w&&event!==c('VideoPlayerLoggerEvent').DISPLAYED)v.video_play_reason=w;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)v.viewport_distance=this.$VideoPlayerController121();if(event===c('VideoPlayerLoggerEvent').MUTED||event===c('VideoPlayerLoggerEvent').UNMUTED||event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').CAPTION_CHANGE||event===c('VideoPlayerLoggerEvent').UNPAUSED)v.caption_state=this.$VideoPlayerController10;v.seq_num=u;var x=this.$VideoPlayerController38.logEvent(event,v);this.emit('debug/vpcLogEvent',x);return x;};s.prototype.getState=function(){'use strict';return this.$VideoPlayerController59;};s.prototype.getStreamingFormat=function(){'use strict';var t=this.getVideoInfo_DEPRECATED()||{};return t.streamType||this.$VideoPlayerController34;};s.prototype.setPlaybackRate=function(t){'use strict';if(this.getVideoAPI().setPlaybackRate)this.getVideoAPI().setPlaybackRate(t);};s.prototype.setState=function(t){'use strict';if(this.isState(c('VideoPlayerStates').DESTROYED)||this.isState(c('VideoPlayerStates').FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController59=t;if(this.$VideoPlayerController59==='fallback'){c('CSS').addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController101();}this.emit('stateChange');};s.prototype.isState=function(t){'use strict';return this.$VideoPlayerController59===t;};s.prototype.isIntentionallyViewing=function(){'use strict';return this.isState('playing')&&!this.isMuted();};s.prototype.abortLoading=function(t){'use strict';if(this.isState('loading')||this.isState('fallback'))return;if(c('VideoPlayerExperiments').seekZeroWhenAbortLoadingFinishedVideos&&this.isState('finished'))this.seek(0);if(this.$VideoPlayerController78){this.$VideoPlayerController78();this.$VideoPlayerController78=null;}this.getVideoAPI().abortLoading(t||{});this.stopHeartbeat();};s.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};s.prototype.getPlayerVersion=function(){'use strict';var t=null;if(this.$VideoPlayerController5.getPlayerVersion){t=this.$VideoPlayerController5.getPlayerVersion();}else t=this.$VideoPlayerController47;return this.$VideoPlayerController83?this.$VideoPlayerController116(t):t;};s.prototype.$VideoPlayerController116=function(t){'use strict';switch(t){case c('VideoPlayerVersions').SILVERCITY:return c('VideoPlayerVersions').REACT_SILVERCITY;case c('VideoPlayerVersions').PLEASANTVILLE:return c('VideoPlayerVersions').REACT_PLEASANTVILLE;default:return c('VideoPlayerVersions').REACT;}};s.prototype.registerOption=function(t,u,v,w){'use strict';var x=this.$VideoPlayerController13.get(t);if(!x){x=new (c('Map'))();this.$VideoPlayerController13.set(t,x);}if(x.has(u))throw new Error('An option can only be registered once for each component');x.set(u,{getter:v,setter:w});this.emit('optionsChange');};s.prototype.unregisterOption=function(t,u){'use strict';var v=this.$VideoPlayerController13.get(t);if(!v)throw new Error('The component "'+t+'" has no options registered');if(!v.has(u))throw new Error('The component "'+t+'" has no option "'+u+'" registered');v['delete'](u);if(!v.size)this.$VideoPlayerController13['delete'](t);this.emit('optionsChange');};s.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController13.keys();};s.prototype.getOptions=function(t){'use strict';var u=this.$VideoPlayerController13.get(t);if(u)return u.keys();return c('enumerate')([]);};s.prototype.hasOption=function(t,u){'use strict';var v=this.$VideoPlayerController13.get(t);if(!v)return false;if(!v.has(u))return false;return true;};s.prototype.getOption=function(t,u){'use strict';var v=this.$VideoPlayerController13.get(t);if(!v)return undefined;var w=v.get(u);if(!w)return undefined;return w.getter();};s.prototype.setOption=function(t,u,v){'use strict';var w=this.$VideoPlayerController13.get(t);if(!w)throw new Error('Component not registered');var x=w.get(u);if(!x)throw new Error('Option not registered');var y=x.setter;if(y)return y(v);throw new Error('Read-only option');};s.prototype.$VideoPlayerController92=function(){'use strict';var t=c('DOMQuery').scry(this.$VideoPlayerController56,"^._5pat");return t.length?t[0]:null;};s.prototype.registerDrawer=function(t,u){'use strict';return this.$VideoPlayerController20.register(t,u);};s.prototype.getVideoPath=function(){'use strict';return this.$VideoPlayerController74;};s.prototype.setAllowCrossPageTransition=function(t){'use strict';this.$VideoPlayerController82=t;};s.prototype.cleanOnLeave=function(){'use strict';this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();};f.exports=s;}),null);
__d('VideoCover',['Bootloader','CSS','EventListener'],(function a(b,c,d,e,f,g){function h(i,j,k,l){var m=arguments.length<=4||arguments[4]===undefined?null:arguments[4];'use strict';this.$VideoCover1=j;this.$VideoCover2=k[0];this.$VideoCover3=l;this.$VideoCover4=i;if(m){this.$VideoCover5=m.hiddenAfterFinish;this.$VideoCover6=m.showWhileBuffering;this.$VideoCover7=m.showAfterFallback;}if(i.getState()==='playing')this.$VideoCover8();i.addListener('stateChange',function(){return this.$VideoCover9();}.bind(this));i.addListener('beginPlayback',this.$VideoCover8.bind(this));i.addListener('finishPlayback',this.$VideoCover10.bind(this));i.addListener('buffering',this.$VideoCover11.bind(this));i.addListener('buffered',this.$VideoCover12.bind(this));c('EventListener').listen(this.$VideoCover1,'click',this.$VideoCover13.bind(this));}h.prototype.$VideoCover11=function(){'use strict';if(this.$VideoCover6)c('CSS').show(this.$VideoCover1);};h.prototype.$VideoCover12=function(){'use strict';if(this.$VideoCover6)c('CSS').hide(this.$VideoCover1);};h.prototype.getCurrentCover=function(){'use strict';return this.$VideoCover2;};h.prototype.setSnowLiftURI=function(i){'use strict';this.$VideoCover3=i;};h.prototype.$VideoCover13=function(){'use strict';if(this.$VideoCover3!=null&&this.$VideoCover3.length>0){c('Bootloader').loadModules(["PhotoSnowlift"],function(i){return i.bootstrap(this.$VideoCover3);}.bind(this),'VideoCover');}else this.$VideoCover4.clickVideo();};h.prototype.$VideoCover8=function(){'use strict';c('CSS').hide(this.$VideoCover1);};h.prototype.$VideoCover10=function(){'use strict';var i=this.$VideoCover4.getOption('Looping','isLooping');if(this.$VideoCover5||i)return;c('CSS').show(this.$VideoCover1);};h.prototype.$VideoCover9=function(){'use strict';if(this.$VideoCover4.isState('fallback')&&this.$VideoCover7)c('CSS').show(this.$VideoCover1);};f.exports=h;}),null);
__d('EmbeddedVideoAPIComponent',['Arbiter','SubscriptionsHandler','XD','VideoPlayerReason'],(function a(b,c,d,e,f,g){var h=c('XD').UnverifiedXD;function i(j){'use strict';this.$EmbeddedVideoAPIComponent1=j;this.$EmbeddedVideoAPIComponent2=new (c('SubscriptionsHandler'))();this.$EmbeddedVideoAPIComponent3={playing:'startedPlaying',paused:'paused',finished:'finishedPlaying',buffering:'startedBuffering',buffered:'finishedBuffering',error:'error'};this.$EmbeddedVideoAPIComponent2.addSubscriptions(c('Arbiter').subscribe('Connect.Unsafe.play',function(){this.$EmbeddedVideoAPIComponent1.play(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.pause',function(){this.$EmbeddedVideoAPIComponent1.pause(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.seek',function(l,m){this.$EmbeddedVideoAPIComponent1.seek(m.target);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.mute',function(){this.$EmbeddedVideoAPIComponent1.mute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.unmute',function(){this.$EmbeddedVideoAPIComponent1.unmute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.setVolume',function(l,m){this.$EmbeddedVideoAPIComponent1.setVolume(m.volume);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('stateChange',function(){if(this.$EmbeddedVideoAPIComponent1.isState('ready')){var l={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(l);}else if(this.$EmbeddedVideoAPIComponent1.isState('playing')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.playing);}else if(this.$EmbeddedVideoAPIComponent1.isState('paused')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.paused);}else if(this.$EmbeddedVideoAPIComponent1.isState('finished'))this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.finished);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateStatus',function(l){if(l.position!==undefined){var m={timePosition:l.position};this.sendStateDataForUpdateToSDK(m);}}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffering',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffering);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffered',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffered);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('error',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.error);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateMetadata',function(l){var m={duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendStateDataForUpdateToSDK(m);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('muteVideo',function(){var l={isMuted:true};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('unmuteVideo',function(){var l={isMuted:false};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('changeVolume',function(l){var m={volume:l.volume,isMuted:l.volume===0};this.sendStateDataForUpdateToSDK(m);}.bind(this)));if(!this.$EmbeddedVideoAPIComponent1.isState('loading')&&!this.$EmbeddedVideoAPIComponent1.isState('fallback')){var k={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(k);}}i.prototype.sendVideoAPIReady=function(j){'use strict';h.send({type:'onVideoAPIReady',data:JSON.stringify(j)});};i.prototype.sendEventToSDK=function(event){'use strict';h.send({type:'stateChange',state:event});};i.prototype.sendStateDataForUpdateToSDK=function(j){'use strict';h.send({type:'cachedStateUpdateRequest',data:JSON.stringify(j)});};f.exports=i;}),null);
__d('PerfUtils',['cx','React','performanceNow','PerfHelperUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').Component,j=c('PerfHelperUtils').RedBorderedInnerComponent;function k(n,o){var p,q;p=babelHelpers.inherits(r,i);q=p&&p.prototype;r.prototype.componentDidMount=function(){'use strict';o();};r.prototype.render=function(){'use strict';return c('React').createElement(n,this.props);};function r(){'use strict';p.apply(this,arguments);}return r;}function l(n,o,p){var q,r,s=10000,t=c('performanceNow')()-p;if(t<s)return n;var u=s/1000,v=Math.round(t)/1000;q=babelHelpers.inherits(w,i);r=q&&q.prototype;w.prototype.componentDidMount=function(){'use strict';};w.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_4ez8"},c('React').createElement(j,{moduleId:o,timeLimitSecs:u,timeSpentSecs:v},c('React').createElement(n,this.props)));};function w(){'use strict';q.apply(this,arguments);}return w;}var m={appendListener:k,markRedInDev:l};f.exports=m;}),null);
__d('BootloadedComponent.react',['DeferredComponent.react','JSResource','PerfUtils','React','TimeSlice','performanceNow'],(function a(b,c,d,e,f,g){var h,i,j=c('React').Component,k=c('PerfUtils').appendListener,l=c('PerfUtils').markRedInDev;h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$BootloadedComponent1=function(s){var t=this.props.isContinuation,u=void 0;c('TimeSlice').guard(c('JSResource').loadAll,'BootloadedComponent load all JSResource',{isContinuation:t})([this.props.bootloadLoader],function(v){v=this.props.onComponentDidMount?k(v,this.props.onComponentDidMount):v;s(v);}.bind(this));}.bind(this),o;}m.prototype.componentWillMount=function(){'use strict';this.props.onBootloaderWillMount&&this.props.onBootloaderWillMount();};m.prototype.render=function(){'use strict';var n=this.props,o=n.bootloadLoader,p=n.isContinuation,q=n.bootloadPlaceholder,r=n.bootloadForcePlaceholder,s=babelHelpers.objectWithoutProperties(n,['bootloadLoader','isContinuation','bootloadPlaceholder','bootloadForcePlaceholder']);return c('React').createElement(c('DeferredComponent.react'),babelHelpers['extends']({deferredPlaceholder:q,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:r},s));};m.defaultProps={isContinuation:true};f.exports=Object.assign(m,{create:function n(o){var p,q;p=babelHelpers.inherits(r,c('React').Component);q=p&&p.prototype;r.prototype.render=function(){'use strict';var s=this.props,t=s.bootloadLoader,u=babelHelpers.objectWithoutProperties(s,['bootloadLoader']);return c('React').createElement(m,babelHelpers['extends']({bootloadLoader:o,bootloadPlaceholder:c('React').createElement('div',null)},u));};function r(){'use strict';p.apply(this,arguments);}r.displayName='BootloadedComponent('+o.getModuleId()+')';return r;}});}),null);
__d('EmbeddedVideoFBIconControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','TooltipData','URI','VideoPlayerExperiments','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=2;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={iconColor:'white'};}n.prototype.onMouseOut=function(o){this.setState({iconColor:'white'});};n.prototype.onMouseOver=function(o){this.setState({iconColor:'blue'});};n.prototype.$EmbeddedVideoFBIconControl1=function(){return new (c('URI'))(this.props.permalinkURL).addQueryData('t',Math.max(0,Math.floor(this.props.playbackPosTimestamp)-m));};n.prototype.render=function(){var o=this.state.iconColor==='blue'?h("115830"):h("114229"),p=null;p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o});var q=c('VideoPlayerExperiments').embeddedPlayerEnhancements?this.$EmbeddedVideoFBIconControl1():this.props.permalinkURL;return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},c('TooltipData').propsFor(this.props.label,'above'),{className:"_3u33",href:q,image:p,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this),ref:'button',tabIndex:'0',target:'_blank',type:'button'}));};n.defaultProps={label:j._("Click to watch on Facebook"),labelIsHidden:true};f.exports=n;}),null);
__d("VideoWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control"});}),null);
__d('EmbeddedVideoFullscreenControl.react',['ix','cx','fbt','AbstractVideoFullscreenControl.react','Image.react','React','ReactDOM','VideoWebDriverIDs','VideoPlayerExperiments','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){var o=void 0;if(!c('VideoPlayerExperiments').fourArrowFullScreen){o=this.props.isFullscreen?h("115501"):h("115510");}else o=this.props.isFullscreen?h("115504"):h("115507");var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.props.isFullscreen?j._("Exit Fullscreen"):j._("Enter Fullscreen");return c('React').createElement(c('AbstractVideoFullscreenControl.react'),babelHelpers['extends']({},this.props,{className:"_3u33 _39ip",'data-testid':c('VideoWebDriverIDs').FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button',label:q,labelIsHidden:true}));};function n(){k.apply(this,arguments);}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','ReactDOM','TooltipData','VideoWebDriverIDs','VideoPlayerExperiments','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false};}n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.isPlaying=function(){if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;};n.prototype.onButtonClick=function(){var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();};n.prototype.componentWillReceiveProps=function(){this.setState({awaitingUpdate:false});};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){var o=null,p=null;if(this.props.finishedPlaying){o=h("115482");p=j._("Replay");}else{o=this.isPlaying()?h("115336"):h("115398");p=this.isPlaying()?j._("Pause"):j._("Play");}var q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o});if(c('VideoPlayerExperiments').embeddedPlayerEnhancements){return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},c('TooltipData').propsFor(p,'above'),{className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}));}else return c('React').createElement(c('AbstractButton.react'),{className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackRateControl.react',['cx','fbt','AbstractButton.react','React','ReactDOM','VideoPlayerExperiments','setImmediate','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;function m(o){return o.toFixed(2).replace(/\.0+/,'.0')+'x';}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);this.state={isFocus:false,isFocusMenuItem:false,rate:1};}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p);};n.prototype.onMouseOut=function(o){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.onButtonFocus=function(o){'use strict';this.setState({isFocus:true});};n.prototype.onButtonBlur=function(){'use strict';this.setState({isFocusMenuItem:false});c('setImmediate')(function(){if(!this.state.isFocusMenuItem)this.setState({isFocus:false});}.bind(this));};n.prototype.createRateItem=function(o,p,q){'use strict';var r=function u(v){q();v.preventDefault();},s=null;if(p)s=c('React').createElement('div',{className:"_25d1"});var t=c('React').createElement('div',{className:"_4v8w",style:{backgroundColor:'inherit'}},s);return c('React').createElement('a',{href:'#',key:o,className:"_4v8v",onBlur:this.onButtonBlur.bind(this),onClick:r,onFocus:function(){this.setState({isFocusMenuItem:true});}.bind(this),tabIndex:this.props.tabIndex},t,c('React').createElement('div',{className:"_4v8x _4trg"},o));};n.prototype.render=function(){'use strict';var o=m(this.state.rate),p=null;if(!this.props.disabled){var q=[.5,1,1.25,1.5,1.75,2,2.5,3],r=q.map(function(u){return this.createRateItem(m(u),this.state.rate==u,function(){if(this.props.onSelectPlaybackRate)this.props.onSelectPlaybackRate(u);this.setState({rate:u});}.bind(this));}.bind(this));p=c('React').createElement('div',{className:"_42fl"+(this.state.isFocus?' '+"_4v4":'')},c('React').createElement('div',{className:"_4v8y"},c('React').createElement('div',{className:"_28h1"},c('React').createElement('div',{className:"_4v8x"},i._("Play Speed")),r)),c('React').createElement('div',{className:"_4v8z"}));}var s="_3u33"+(' '+"_4irg")+(!c('VideoPlayerExperiments').embeddedPlayerEnhancements||!this.props.isEmbedded?' '+"_4t3m":''),t=c('React').createElement(c('AbstractButton.react'),{className:s,label:o,onBlur:this.onButtonBlur.bind(this),onFocus:this.onButtonFocus.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});return c('React').createElement('div',{className:"_1esn"},p,t);};n.propTypes={isEmbedded:l.bool,onSelectPlaybackRate:l.func,tabIndex:l.string};n.defaultProps={tabIndex:'-1'};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackTimer.react',['cx','DateConsts','React','VideoPlayerExperiments','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime});};l.prototype.getClock=function(m){'use strict';var n='';if(isNaN(m)){m=0;}else if(m<0){m*=-1;n='-';}var o=Math.floor(m/c('DateConsts').SEC_PER_HOUR),p=Math.floor((m-o*c('DateConsts').SEC_PER_HOUR)/c('DateConsts').SEC_PER_MIN),q=null;if(!this.props.displayMilliseconds){q=Math.ceil(m-o*c('DateConsts').SEC_PER_HOUR-p*c('DateConsts').SEC_PER_MIN);}else q=Math.floor(m-o*c('DateConsts').SEC_PER_HOUR-p*c('DateConsts').SEC_PER_MIN);if(q===c('DateConsts').SEC_PER_MIN){q=0;p++;}if(p===c('DateConsts').MIN_PER_HOUR){p=0;o++;}var r=m-o*c('DateConsts').SEC_PER_HOUR-p*c('DateConsts').SEC_PER_MIN-q,s=Math.round(r*c('DateConsts').MS_PER_SEC),t=('0'+p).slice(-2),u=('0'+q).slice(-2),v=('00'+s).slice(-3),w=n;if(o===0){w+=p+':'+u;}else w+=o+':'+t+':'+u;if(this.props.displayMilliseconds)w+='.'+v;return w;};l.prototype.onButtonClick=function(){'use strict';this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true});};l.prototype.render=function(){'use strict';var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg"+(!c('VideoPlayerExperiments').embeddedPlayerEnhancements||!this.props.isEmbedded?' '+"_4t3m":'');if(this.props.isInScrubberPreview)o="_5lde";var p=Object.assign({},this.props);delete p.displayElapsedTime;delete p.displayMilliseconds;delete p.isInScrubberPreview;delete p.playbackPosTimestamp;delete p.remainingTimestamp;return c('React').createElement('div',babelHelpers['extends']({},p,{className:c('joinClasses')(this.props.className,o),onClick:this.onButtonClick.bind(this),role:'button',tabIndex:'0'}),this.getClock(n));};l.propTypes={isEmbedded:k.bool,isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool,displayMilliseconds:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false,displayMilliseconds:false};f.exports=l;}),null);
__d('EmbeddedVideoScrubberPointOfInterestBar.react',['cx','EmbeddedVideoPlaybackTimer.react','React','ShimButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={visibility:'hidden'},q;}n.prototype.render=function(){'use strict';var p=this.props.timestamp,q=p*100/this.props.playbackDuration+'%',r=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:p,style:{left:q,visibility:this.state.visibility}});return c('React').createElement('div',null,c('React').createElement(c('ShimButton.react'),{className:"_2f0h"+(this.props.isActive?' '+"_3t5h":''),onClick:function(s){return this.props.onPointOfInterestSelect(p);}.bind(this),onMouseEnter:function(s){return this.setState({visibility:'visible'});}.bind(this),onMouseLeave:function(s){return this.setState({visibility:'hidden'});}.bind(this),style:{left:q}}),r);};n.propTypes={playbackDuration:m.number.isRequired,timestamp:m.number.isRequired,isActive:m.bool.isRequired,onPointOfInterestSelect:m.func.isRequired};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(u){return c('React').createElement(n,{key:'poi'+u,playbackDuration:this.props.playbackDuration,timestamp:u,isActive:u===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect});}.bind(this),q;}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return p.tabIndex!=this.props.tabIndex||p.currentPointOfInterest!==this.props.currentPointOfInterest||p.playbackDuration!=this.props.playbackDuration||p.pointsOfInterest.length!=this.props.pointsOfInterest.length||p.pointsOfInterest.some(function(r,s){return this.props.pointsOfInterest[s]!=r;}.bind(this));};o.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_2f0i",tabIndex:this.props.tabIndex},c('React').createElement('div',{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this)));};o.propTypes={tabIndex:m.string.isRequired,playbackDuration:m.number.isRequired,onPointOfInterestSelect:m.func.isRequired,currentPointOfInterest:m.number,pointsOfInterest:m.array.isRequired};f.exports=o;}),null);
__d('VideoInstreamUtils',['fbt','DateConsts','VideoInstreamAdsConstants'],(function a(b,c,d,e,f,g,h){var i={convertFormattedTimeToSeconds:function j(k){var l=0,m=k.split('.');if(m.length>2)return null;if(m.length===2){if(m[1].length===0)return null;var n=m[1];while(n.length<3)n+='0';var o=Number(n);if(isNaN(o)||o<0||o>=c('DateConsts').MS_PER_SEC)return null;l+=o/c('DateConsts').MS_PER_SEC;}var p=m[0].split(':');if(p.length>3)return null;for(var q=0;q<p.length;q++){if(p[q].length===0)return null;var r=Number(p[q]);if(isNaN(r)||r<0||r>=60)return null;l+=r*Math.pow(60,p.length-q-1);}return l;},convertTimestampToFormattedString:function j(k){k=Math.round(k*c('DateConsts').MS_PER_SEC)/c('DateConsts').MS_PER_SEC;var l=Math.floor(k/c('DateConsts').SEC_PER_HOUR),m=k-l*c('DateConsts').SEC_PER_HOUR,n=Math.floor(m/c('DateConsts').SEC_PER_MIN),o=Math.floor(m-n*c('DateConsts').SEC_PER_MIN),p=Math.round(m*c('DateConsts').MS_PER_SEC),q=('0'+l).slice(-2),r=('0'+n).slice(-2),s=('0'+o).slice(-2),t=('00'+p).slice(-3),u='';if(l>0)u+=q+':';return u+=r+':'+s+'.'+t;},getMaxPossibleAdBreaks:function j(k){var l=Math.ceil(k)*c('DateConsts').MS_PER_SEC;if(l<c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;var m=(l-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS-c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS)/c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(m)+1);},getEligibleTimeSegments:function j(k,l){if(i.getMaxPossibleAdBreaks(l)===0)return [];var m=c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,n=l-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,o=c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS/c('DateConsts').MS_PER_SEC;if(k.length===0)return [{start:m,end:n}];var p=[];k.forEach(function(q,r){if(r===0){var s=q.timeOffset-o;if(s>=m)p.push({start:m,end:s});}if(r-1>=0){var t=k[r-1].timeOffset+o,u=q.timeOffset-o;if(t<=u)p.push({start:t,end:u});}if(r===k.length-1){var v=q.timeOffset+o;if(v<=n)p.push({start:v,end:n});}});return p;},isInEligibleTimeSegments:function j(k,l,m){if(k===null||k===undefined)return false;var n=i.getEligibleTimeSegments(m,l);for(var o=0;o<n.length;o++)if(k>=n[o].start&&k<=n[o].end)return true;return false;},getAdBreakTabState:function j(k,l){if(i.getMaxPossibleAdBreaks(l)===0){return {disabled:true,errorMessageHeader:h._({"*":"Videos Must Be {insertion interval} Seconds or Longer"},[h.param('insertion interval',c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:h._("Your video is too short to include ad breaks.")};}else if(k)return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can't be used in this video because it contains tagged sponsors.")};return {disabled:false,errorMessageHeader:null,errorMessageContent:null};}};f.exports=i;}),null);
__d('VideoScrubberPreviewSpriteCalculation',[],(function a(b,c,d,e,f,g){var h={getImageCoordinatesInSpriteByTime:function i(j,k){var l=this.getTotalTimeInSprite(k.maxImagesPerSprite,k.timeIntervalBetweenImages),m=Math.floor(j%l/k.timeIntervalBetweenImages),n=Math.floor(m/k.imagesPerRow),o=m%k.imagesPerRow;return {x:o*k.previewScrubberWidth,y:n*k.previewScrubberHeight};},getSpriteIndex:function i(j,k,l){var m=this.getTotalTimeInSprite(k,l);return Math.floor(j/m)+1;},getTotalTimeInSprite:function i(j,k){return j*k;}};f.exports=h;}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"});}),null);
__d('EmbeddedVideoScrubber.react',['cx','fbt','DateConsts','EmbeddedVideoScrubberPointOfInterestBar.react','EventListener','Keys','Map','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','VideoScrubberPreviewSpriteCalculation','VideoStereoFormat','JSResource','BootloadedComponent.react','VideoInstreamUtils','emptyFunction','getElementPosition','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.$EmbeddedVideoScrubber4=new (c('Map'))();this.$EmbeddedVideoScrubber4.set(0,'');this.$EmbeddedVideoScrubber7=0;this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:false},lastSpriteDimension:{numRow:0,numColumn:0}};}m.prototype.shouldComponentUpdate=function(n,o){'use strict';return c('shallowCompare')(this,n,o);};m.prototype.onDragNubBegin=function(n){'use strict';if(n.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault();};m.prototype.componentWillReceiveProps=function(n){'use strict';this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({barCoords:o});this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(n.playbackDuration,n.playbackPosition));}};m.prototype.componentDidUpdate=function(n,o){'use strict';if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c('EventListener').listen(document,'mousemove',function(p){this.onDragNubUpdate(p);this.onTimecodeUpdate(p);}.bind(this));this.$EmbeddedVideoScrubber2=c('EventListener').listen(document,'mouseup',this.onDragNubRelease.bind(this));}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();}if(!o.mouseOver&&this.state.mouseOver){this.$EmbeddedVideoScrubber3=c('EventListener').listen(document,'mousemove',this.onTimecodeUpdate.bind(this));}else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove();};m.prototype.timecodeUpdate=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r});}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c('ReactDOM').unstable_batchedUpdates(function(){if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){this.updatePreviewThumbnailVideo(p,q,n);}else if(this.props.scrubberPreviewSprites)this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n);}.bind(this));}};m.prototype.onTimecodeUpdate=function(n){'use strict';this.timecodeUpdate(n.clientX);n.preventDefault();n.stopPropagation();};m.prototype.updatePreviewThumbnail=function(n,o,p,q){'use strict';this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber4;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber4=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s);}this.updatePreviewThumbnailLocation(p,q);};m.prototype.updatePreviewThumbnailVideo=function(n,o,p){'use strict';this.setState({timecodeTimestamp:n});var q=c('ReactDOM').findDOMNode(this.refs.previewThumbnailVideo);q.currentTime=n/30;this.updatePreviewThumbnailLocation(o,p);};m.prototype.updatePreviewThumbnailLocation=function(n,o){'use strict';var p=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:(this.$EmbeddedVideoScrubber6=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.previewThumbnailContainer)));this.$EmbeddedVideoScrubber6=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q});};m.prototype.updatePreviewThumbnailImage=function(n,o,p){var q,r=this;'use strict';var s=c('VideoScrubberPreviewSpriteCalculation').getImageCoordinatesInSpriteByTime(n,o),t=c('VideoScrubberPreviewSpriteCalculation').getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber4)(function(){var u=r.$EmbeddedVideoScrubber4.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height);};v.src=u;})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s});};m.prototype.onLastImageLoad=function(n,o){'use strict';this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}});};m.prototype.retrievePreviewThumbnailInfo=function(){'use strict';this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation});};m.prototype.isSpriteMapURIFetched=function(){'use strict';if(this.$EmbeddedVideoScrubber4){return this.$EmbeddedVideoScrubber4.size>1;}else return false;};m.prototype.getPositionRatio=function(n,o){'use strict';var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1);};m.prototype.onDragNubUpdate=function(n){'use strict';this.setState({scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});};m.prototype.onDragNubRelease=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true;}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation();};m.prototype.getPlayedRatio=function(n,o){'use strict';if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getBufferedRatio=function(){'use strict';var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getRangeLimitedRatio=function(n){'use strict';if(isNaN(n)||n<0||n>1)return 0;return n;};m.prototype.getNumberOfSprites=function(){'use strict';if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size;return 0;};m.prototype.getAdBreakIndicators=function(){'use strict';if(!this.props.playbackDuration||!this.props.adBreaks)return null;var n=[];for(var o=0;o<this.props.adBreaks.length;o++){var p=this.props.adBreaks[o],q=p.getTimeOffsetInMs();if(q===null||q===undefined)continue;q/=c('DateConsts').MS_PER_SEC;var r=!!p.getAutoInsertionVersion(),s=this.props.playbackDuration;if(q<0||q>s)continue;var t={left:q/s*100+'%'};n.push(c('React').createElement('div',{key:'ad_break_indicator_'+o,style:t,className:r?"_3mi6":"_5z5n"}));}return c('React').createElement('div',null,n);};m.prototype.getInsertedAdBreaks=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=[];this.props.insertedAdBreaks.map(function(o,p){var q=o.timeOffset,r=this.props.playbackDuration,s={left:q/r*100-1.4+'%'};n.push(c('React').createElement('div',{key:'inserted_ad_break'+p,style:s,className:"_2d49"+(this.props.isAdBreakDisabled?' '+"_9ob":'')},p+1));}.bind(this));return c('React').createElement('div',null,n);};m.prototype.getEligibleAdBreaksTimeSegments=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=0;if(this.state.awaitingUpdate){n=this.$EmbeddedVideoScrubber7;}else n=this.props.playbackPosition;var o=this.props.playbackDuration,p=c('VideoInstreamUtils').getEligibleTimeSegments(this.props.insertedAdBreaks,o);if(this.state.nubEngaged){this.$EmbeddedVideoScrubber7=this.state.timecodeTimestamp;}else this.$EmbeddedVideoScrubber7=n;var q=[];p.forEach(function(r,s){var t=Math.max(2,(r.end-r.start)/o*100),u=this.$EmbeddedVideoScrubber7>=r.start&&this.$EmbeddedVideoScrubber7<=r.end;if(u){var v={left:'calc('+r.start/o*100+'% - 12px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xts",style:v}));}else{var w={left:'calc('+r.start/o*100+'% - 10px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xtr",style:w}));}}.bind(this));return c('React').createElement('div',{className:"_44bi"},q);};m.prototype.onMouseEnter=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o});};m.prototype.onMouseLeave=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;c('ReactDOM').findDOMNode(this.refs.bar).blur();c('ReactDOM').unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}});}.bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='hidden';};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='visible';};m.prototype.onKeyDown=function(n){'use strict';var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c('Keys').RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01;}else if(n.keyCode===c('Keys').LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0;}else if(n.keyCode===c('Keys').HOME){n.preventDefault();n.stopPropagation();q=0;}else if(n.keyCode===c('Keys').END){n.preventDefault();n.stopPropagation();q=o-.01;}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q);};m.prototype.canShowHeatmap=function(){'use strict';return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null;};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_gn0"+(this.state.nubEngaged?' '+"_gn1":'')),o=(this.props.hasScrubberPreview?"_24wr":'')+(!this.props.hasScrubberPreview?' '+"_4irh":''),p={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+'%'},q={width:this.getBufferedRatio()*100+'%'},r={left:this.state.timecodeRatio*100+'%'},s={},t={},u=null,v=null,w=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){w=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:'timecode',remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,aa=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;aa*=this.state.previewThumbnailInformation.imagesPerColumn;}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;aa*=this.state.lastSpriteDimension.numColumn;}var ba=this.state.previewThumbnailInformation.stereoMode;if(ba===c('VideoStereoFormat').LEFT_RIGHT){x/=2;z*=2;}else if(ba===c('VideoStereoFormat').TOP_BOTTOM){y/=2;aa*=2;}var ca=1;if(this.props.isFullscreen)ca=2;if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){s={width:x*ca+'px',height:y*ca+'px'};v=c('React').createElement('video',{muted:'true',preload:'auto',ref:'previewThumbnailVideo',src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s});}else if(this.$EmbeddedVideoScrubber4){var da='';if(this.state.scrubberPreviewSpriteIndex){var ea=this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex);if(ea)da='url('+ea+')';}var fa=void 0;if(z>100){fa=z+'% '+aa+'%';}else da='';s={width:x*ca+'px',height:y*ca+'px',backgroundImage:da,backgroundPosition:'-'+this.state.scrubberPreviewBackgroundPosition.x*ca+'px '+'-'+this.state.scrubberPreviewBackgroundPosition.y*ca+'px',backgroundSize:fa};v=c('React').createElement('div',{className:"_24wt",ref:'previewThumbnail',style:s});}t={left:this.state.previewRatio*100+'%',display:this.props.alwaysShowThumbnail?'block':undefined};u=c('React').createElement('div',{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:'previewThumbnailContainer',style:t},v,w);}}var ga=null;if(this.props.pointsOfInterest.length>0)ga=c('React').createElement(c('EmbeddedVideoScrubberPointOfInterestBar.react'),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest});var ha=this.getAdBreakIndicators(),ia=null;if(this.canShowHeatmap()){var ja=this.props.hasScrubberPreview?u:w,ka=null;if(ja!=null)ka=this.refs[ja.ref];ia=c('React').createElement('div',{className:"_27ew"},c('React').createElement('div',{className:"_5h19",style:p},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('LiveHeatmap.react').__setRef('EmbeddedVideoScrubber.react'),bootloadPlaceholder:c('React').createElement('div',null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:ka,ref:'bar',tabIndex:this.props.tabIndex,'aria-label':i._("Change Position")}),ja,ha);}var la=this.props.playbackDuration>500?10:1,ma=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*la)/la,na=ma+'%',oa=c('React').createElement('div',{className:n,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),role:'presentation'},ia?ia:c('React').createElement('div',{tabIndex:this.props.tabIndex,role:'slider','aria-orientation':'horizontal','aria-valuemin':'0','aria-valuemax':this.props.playbackDuration,'aria-valuenow':this.props.playbackPosition,'aria-valuetext':na,'aria-label':i._("Change Position"),className:"_gn2",ref:'bar'},c('React').createElement('div',{className:"_gn3",style:q}),c('React').createElement('div',{style:p,className:"_gn4"},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),this.props.hasScrubberPreview?u:w,ha,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return c('React').createElement('div',null,oa,ga);};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:c('emptyFunction'),onScrubBegin:c('emptyFunction'),onScrubEnd:c('emptyFunction')};f.exports=m;}),null);
__d('EmbeddedVideoSidepaneToggleControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','TooltipData','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.onButtonClick=function(){this.props.onSidePaneToggle();}.bind(this),p;}n.prototype.render=function(){var o=this.props.isSidePaneOpen?j._("Click to hide details"):j._("Click to show details"),p=this.props.isSidePaneOpen?h("114795"):h("114783");return c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({className:"_3u33"},c('TooltipData').propsFor(o,'above'),{image:c('React').createElement(c('Image.react'),{className:"_345n",src:p}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:'button',tabIndex:this.props.tabIndex,type:'button'}));};n.defaultProps={label:j._("Toggle details"),labelIsHidden:true};n.propTypes={isSidePaneOpen:m.bool,label:m.string,onSidePaneToggle:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoVolumeSlider.react',['cx','EventListener','React','ReactDOM','getElementPosition','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';this.setState({awaitingUpdate:false});};l.prototype.componentDidUpdate=function(m,n){'use strict';if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c('EventListener').listen(document,'mousemove',this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c('EventListener').listen(document,'mouseup',this.onMouseUp.bind(this));}};l.prototype.onMouseDown=function(m){'use strict';if(m.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);if(this.props.isHorizontal){this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientX)});}else this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientY)});m.preventDefault();m.stopPropagation();};l.prototype.getClampedClickPositionVolume=function(m){'use strict';var n=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.slider)),o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var p=m+o/2-n.x;return Math.max(0,Math.min(1,p/n.width));}else{var q=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,q/n.height));}};l.prototype.onMouseUp=function(m){'use strict';this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation();};l.prototype.onMouseMove=function(m){'use strict';if(this.props.isHorizontal){this.setState({volume:this.getClampedClickPositionVolume(m.clientX)});}else this.setState({volume:this.getClampedClickPositionVolume(m.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation();};l.prototype.getVolume=function(){'use strict';if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;};l.prototype.render=function(){'use strict';var m=this.props.isHorizontal||false,n=m?{width:Math.round(this.getVolume()*100)+'%'}:{height:Math.round(this.getVolume()*100)+'%'},o="_2-ml"+(m?' '+"_3cxz":'')+(this.state.engaged?' '+"_gn1":'');return c('React').createElement('div',{className:o,onMouseDown:this.onMouseDown.bind(this)},c('React').createElement('div',{className:"_3ghu"},c('React').createElement('div',{className:"_2-mm",ref:'slider'},c('React').createElement('div',{className:"_2-mn",style:n},c('React').createElement('div',{className:"_2-mo _5ixx",ref:'nub'})))),c('React').createElement('div',{className:"_2-mp"}));};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function m(n){},onVolumeChangeBegin:function m(n){},onVolumeChangeEnd:function m(n){}};f.exports=l;}),null);
__d("XBasicFBNuxDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/megaphone\/dismiss_fbnux\/",{nux_id:{type:"Int",required:true}});}),null);
__d('SpatialAudioFeedNUX.react',['ix','fbt','cx','AsyncRequest','Image.react','React','XBasicFBNuxDismissController','XUIAmbientNUX.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i._("Experience more with Audio 360"),n=i._("Hear sound from all directions when you wear headphones"),o=4576;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:false});var r=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',o).getURI();new (c('AsyncRequest'))().setURI(r).send();}.bind(this);this.state={showNux:true};}p.prototype.render=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,shown:this.state.showNux,position:'below',alignment:'right',onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:'auto'},c('React').createElement('div',{className:"_4r0v"},c('React').createElement('div',{className:"_4r0w"},c('React').createElement('div',{className:"_4r0x"},c('React').createElement(c('Image.react'),{src:h("114375")}))),c('React').createElement('div',{className:"_4r0y"},c('React').createElement(c('XUIText.react'),{size:'medium',className:"_4r0z"},m),c('React').createElement(c('XUIText.react'),{size:'small',className:"_4r0-"},n))));};f.exports=p;}),null);
__d('EmbeddedVideoVolumeControl.react',['ix','cx','fbt','invariant','AbstractButton.react','Image.react','Keys','React','ReactDOM','SpatialAudioFeedNUX.react','VideoPlayerExperiments','VideoPlayerVolumeSettings','VideoWebDriverIDs','EmbeddedVideoVolumeSlider.react','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p){'use strict';m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1};}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return c('shallowCompare')(this,p,q);};o.prototype.onButtonClick=function(){'use strict';this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted();};o.prototype.onButtonFocus=function(){'use strict';this.setState({focused:true});};o.prototype.onButtonBlur=function(){'use strict';this.setState({focused:false});};o.prototype.onKeyDown=function(p){'use strict';var q=this.props.volume;if(p.keyCode===c('Keys').UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1;}else if(p.keyCode===c('Keys').DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0;}else return;this.onSliderVolumeChangeEnd(q);};o.prototype.onMouseOut=function(p){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};o.prototype.getVolume=function(){'use strict';if(this.props.isMuted)return 0;return this.props.volume;};o.prototype.onSliderVolumeChangeBegin=function(){'use strict';var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);}};o.prototype.onSliderVolumeChangeEnd=function(p){'use strict';if(p>0){this.setState({lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);this.onSliderVolumeChange(p);}else{this.props.onVolumeChange(this.state.lastVolumeBeforeMute);if(!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();}this.setState({nubEngaged:false});};o.prototype.onSliderVolumeChange=function(p){'use strict';if(p>0&&this.props.isMuted||p===0&&!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p);};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){'use strict';this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||k(0);};o.prototype.render=function(){'use strict';var p=Math.round(this.getVolume()*100),q=null;if(p==0){q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("115743")});}else{var r=null;if(p<=33){r=h("115737");}else if(p<=66){r=h("115740");}else r=h("115746");q=c('React').createElement('div',{className:"_44_"},c('React').createElement('div',{className:"_454"},c('React').createElement(c('Image.react'),{className:"_5i0o",src:r})));}var s="_3s02"+(this.state.nubEngaged?' '+"_gn1":'')+(this.state.focused?' '+"_4v4":''),t="_3u33"+(' '+"_3s03")+(!this.getVolume()&&!c('VideoPlayerExperiments').redesign?' '+"_17bp":''),u=!this.getVolume()?j._("Unmute"):j._("Mute"),v=c('React').createElement(c('EmbeddedVideoVolumeSlider.react'),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||false,volume:this.getVolume()}),w=c('React').createElement(c('AbstractButton.react'),{className:t,'data-testid':c('VideoWebDriverIDs').MUTE_UNMUTE_CONTROL,image:q,label:u,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}),x=this.props.showSpatialAudioNUX?c('React').createElement(c('SpatialAudioFeedNUX.react'),{contextRef:function(){return this.refs.button;}.bind(this)}):null;if(this.props.isHorizontal)return c('React').createElement('div',{className:s},w,v,x);return c('React').createElement('div',{className:s},v,w,x);};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number};f.exports=o;}),null);
__d('EmbeddedVideoControls.react',['ix','cx','fbt','AbstractButton.react','BootloadedComponent.react','EmbeddedVideoFBIconControl.react','EmbeddedVideoFullscreenControl.react','JSResource','Image.react','EmbeddedVideoPlaybackControl.react','EmbeddedVideoPlaybackRateControl.react','EmbeddedVideoPlaybackTimer.react','React','EmbeddedVideoScrubber.react','EmbeddedVideoSidepaneToggleControl.react','TooltipData','EmbeddedVideoVolumeControl.react','VideoPlayerExperiments','fbglyph','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o);}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p);};n.prototype.isHidden=function(){'use strict';return this.props.hidden;};n.prototype.isTransparent=function(){'use strict';return this.props.transparent;};n.prototype.render=function(){'use strict';var o=c('VideoPlayerExperiments').inlineSoundVisible,p=(!c('VideoPlayerExperiments').redesign?"_17l4":'')+(' '+"_2mbh")+(this.isHidden()?' '+"_2mbi":'')+(this.isTransparent()&&!o?' '+"_5744":''),q=(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noanim?"_fwi":'')+(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noshadow?' '+"_fwj":'')+(c('VideoPlayerExperiments').redesign?' '+"_i5q":'')+(this.props.showSidePaneToggle?' '+"_369t":''),r="_2mbj"+(' '+"_2mbk")+(this.isTransparent()&&o?' '+"_5744":''),s="_2mbj"+(' '+"_yaw")+(this.isTransparent()&&o?' '+"_5744":''),t="_2mbj"+(' '+"_2mbl")+(this.isTransparent()&&o?' '+"_5744":''),u="_2mbj"+(' '+"_4a9j")+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?' '+"_5744":''),v="_5rbl",w="_4lqt _4ubd",x="_4lqt"+(' '+"_4ubd")+(' '+"_3t0x")+(!this.props.isCommentAttachment?' '+"hidden_elem":''),y=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var z=this.props.playbackPosition-this.props.playbackDuration;y=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2"+(this.props.displayMilliseconds?' '+"_5ziu":''),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:z,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds});}var aa=null,ba=null,ca=null,da=null;if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c('VideoPlayerExperiments').redesign){ca=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoSettingsControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isSphericalVideo:this.props.isSphericalVideo,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:'0',availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat});}else{if(this.props.hasHD)aa=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoQualityControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:'0'});if(this.props.hasSubtitles)ba=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoClosedCaptionsControl.react').__setRef('EmbeddedVideoControls.react'),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:'0'});}if(this.props.isLive)if(c('VideoPlayerExperiments').hlsButton)da=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoToHLSControl.react').__setRef('EmbeddedVideoControls.react'),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:'0'});var ea=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&this.props.isInline){var fa=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("115510")}),ga=j._("Click to enlarge");ea=c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},c('TooltipData').propsFor(ga,'above'),{className:"_3u33",image:fa,label:ga,labelIsHidden:true,onClick:this.props.onEnterTahoe,tabIndex:'0'}));}else{var ha=this.props.isFullscreen?j._("Click to exit fullscreen"):j._("Click to enter fullscreen");ea=c('React').createElement(c('EmbeddedVideoFullscreenControl.react'),babelHelpers['extends']({},c('TooltipData').propsFor(ha,'above'),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:'0'}));}var ia=null;if(this.props.hasWatchAndScroll&&!this.props.isFullscreen)ia=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoWatchAndScrollControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX});var ja=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)ja=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoCastingControl.react').__setRef('EmbeddedVideoControls.react'),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var ka=null;if(c('VideoPlayerExperiments').embeddedPlayerEnhancements){ka=this.props.permalinkURL?c('React').createElement(c('EmbeddedVideoFBIconControl.react'),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;}else{var la=null;if(this.props.permalinkURL){la=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("114229")});ka=c('React').createElement(c('AbstractButton.react'),{className:"_3u33",href:this.props.permalinkURL,image:la,label:j._("Open in a new tab"),labelIsHidden:true,ref:'button',tabIndex:'0',target:'_blank',type:'button'});}}var ma=null,na=null,oa=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){na=c('React').createElement(c('EmbeddedVideoPlaybackControl.react'),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:'0'});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var pa=j._("Playback Rate");oa=c('React').createElement(c('EmbeddedVideoPlaybackRateControl.react'),babelHelpers['extends']({},c('TooltipData').propsFor(pa,'above'),{isEmbedded:this.props.isEmbedded,tabIndex:'0',onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}));}if(!this.props.hidePlaybackScrubber)ma=c('React').createElement(c('EmbeddedVideoScrubber.react'),{adBreaks:this.props.adBreaks,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:'0'});}var qa=null;if(this.props.showSidePaneToggle)qa=c('React').createElement(c('EmbeddedVideoSidepaneToggleControl.react'),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:'0'});var ra=null;if(c('VideoPlayerExperiments').redesign)ra=c('React').createElement('div',{className:"_4lqu"+(this.isTransparent()?' '+"_5744":'')});var sa=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:'0',showSpatialAudioNUX:this.props.showSpatialAudioNUX}),ta=null;if(this.props.useTwoRows){var ua=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:true,tabIndex:'0'});ta=c('React').createElement('div',{className:x},c('React').createElement('div',{className:v},c('React').createElement('div',{className:p},c('React').createElement('div',{className:r}),c('React').createElement('div',{className:s},ma),c('React').createElement('div',{className:t},y))),c('React').createElement('div',{className:v},c('React').createElement('div',{className:p},c('React').createElement('div',{className:r},na,oa,ua),c('React').createElement('div',{className:s}),c('React').createElement('div',{className:t},ba,da,aa,ca,ia,ja,ea,ka))));}var va=null;if((c('VideoPlayerExperiments').embeddedPlayerEnhancements||c('VideoPlayerExperiments').embeddedPlayerInlineChaining)&&this.props.isEmbedded){var wa=c('joinClasses')(p,(c('VideoPlayerExperiments').embeddedPlayerEnhancements?"_3yhc":'')+(this.props.finishedPlaying&&c('VideoPlayerExperiments').embeddedPlayerInlineChaining?' '+"_2mbi":'')),xa=c('joinClasses')(p,"_2cor");va=c('React').createElement('div',{className:wa},c('React').createElement('div',{className:v},c('React').createElement('div',{className:xa},c('React').createElement('div',{className:r},na,oa),c('React').createElement('div',{className:s},ma),c('React').createElement('div',{className:t},y)),c('React').createElement('div',{className:p},c('React').createElement('div',{className:r}),c('React').createElement('div',{className:s}),c('React').createElement('div',{className:t},o||sa,ba,da,aa,ca,ia,ja,qa,ea,ka),c('React').createElement('div',{className:u},!o||sa))));}else va=!this.props.useTwoRows||!this.props.isCommentAttachment?c('React').createElement('div',{className:w},c('React').createElement('div',{className:v},c('React').createElement('div',{className:p},c('React').createElement('div',{className:r},na,oa),c('React').createElement('div',{className:s},ma),c('React').createElement('div',{className:t},y,o||sa,ba,da,aa,ca,ia,ja,qa,ea,ka),c('React').createElement('div',{className:u},!o||sa)))):null;return c('React').createElement('div',{className:q},ra,va,ta);};n.propTypes={allowFullscreen:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hidePlaybackScrubber:m.bool,hideRemainingTime:m.bool,hideSettings:m.bool,isCommentAttachment:m.bool,isEmbedded:m.bool,isFullscreen:m.bool,isHD:m.bool,isInline:m.bool,isLive:m.bool,isSphericalVideo:m.bool,isMuted:m.bool,isPlaying:m.bool,isSidePaneOpen:m.bool,isSlidingWNSEligible:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onSetVideoPlaybackRate:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,displayMilliseconds:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string,useTwoRows:m.bool,adBreaks:m.array,showSidePaneToggle:m.bool,showWNSNUX:m.bool};n.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,displayMilliseconds:false,hidden:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,hideSettings:false,isCasting:false,isCastingSupported:false,isCommentAttachment:false,isMuted:false,isPlaying:false,isSphericalVideo:false,onSidePaneToggle:function o(){},onStartCast:function o(){},onStopCast:function o(){},playbackDuration:0,playbackPosition:0,showPlaybackRateControl:false,showSidePaneToggle:false,showWNSNUX:false,transparent:false,useTwoRows:false,volume:0};f.exports=n;}),null);
__d('Tahoe',[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h;},set:function j(k){h=k;}};f.exports=i;}),null);
__d('DOMContainer.react',['invariant','React','ReactDOM','isNode'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getDOMChild=function(){var r=this.props.children;c('isNode')(r)||h(0);return r;}.bind(this),n;}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return m.children!==this.props.children;};l.prototype.componentDidMount=function(){'use strict';c('ReactDOM').findDOMNode(this).appendChild(this.getDOMChild());};l.prototype.componentDidUpdate=function(){'use strict';var m=c('ReactDOM').findDOMNode(this);while(m.lastChild)m.removeChild(m.lastChild);m.appendChild(this.getDOMChild());};l.prototype.render=function(){'use strict';if(this.props.display==='block')return c('React').createElement('div',this.props,undefined);return c('React').createElement('span',this.props,undefined);};l.propTypes={display:k.oneOf(['inline','block'])};l.defaultProps={display:'inline'};f.exports=l;}),18);
__d('getVendorPrefixedEventName',['fbjs/lib/ExecutionEnvironment'],(function a(b,c,d,e,f,g){'use strict';function h(m,n){var o={};o[m.toLowerCase()]=n.toLowerCase();o['Webkit'+m]='webkit'+n;o['Moz'+m]='moz'+n;o['ms'+m]='MS'+n;o['O'+m]='o'+n.toLowerCase();return o;}var i={animationend:h('Animation','AnimationEnd'),animationiteration:h('Animation','AnimationIteration'),animationstart:h('Animation','AnimationStart'),transitionend:h('Transition','TransitionEnd')},j={},k={};if(c('fbjs/lib/ExecutionEnvironment').canUseDOM){k=document.createElement('div').style;if(!('AnimationEvent' in window)){delete i.animationend.animation;delete i.animationiteration.animation;delete i.animationstart.animation;}if(!('TransitionEvent' in window))delete i.transitionend.transition;}function l(m){if(j[m]){return j[m];}else if(!i[m])return m;var n=i[m];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&o in k)return j[m]=n[o];return '';}f.exports=l;}),null);
__d('ReactTransitionEvents',['fbjs/lib/ExecutionEnvironment','getVendorPrefixedEventName'],(function a(b,c,d,e,f,g){'use strict';var h=[];function i(){var m=c('getVendorPrefixedEventName')('animationend'),n=c('getVendorPrefixedEventName')('transitionend');if(m)h.push(m);if(n)h.push(n);}if(c('fbjs/lib/ExecutionEnvironment').canUseDOM)i();function j(m,n,o){m.addEventListener(n,o,false);}function k(m,n,o){m.removeEventListener(n,o,false);}var l={addEndEventListener:function m(n,o){if(h.length===0){window.setTimeout(o,0);return;}h.forEach(function(p){j(n,p,o);});},removeEndEventListener:function m(n,o){if(h.length===0)return;h.forEach(function(p){k(n,p,o);});}};f.exports=l;}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("CSSCore");}),null);
__d('ReactCSSTransitionGroupChild',['React','ReactDOM','ReactTransitionEvents','fbjs/lib/CSSCore'],(function a(b,c,d,e,f,g){'use strict';var h=17,i=c('React').createClass({displayName:'ReactCSSTransitionGroupChild',propTypes:{name:c('React').PropTypes.oneOfType([c('React').PropTypes.string,c('React').PropTypes.shape({enter:c('React').PropTypes.string,leave:c('React').PropTypes.string,active:c('React').PropTypes.string}),c('React').PropTypes.shape({enter:c('React').PropTypes.string,enterActive:c('React').PropTypes.string,leave:c('React').PropTypes.string,leaveActive:c('React').PropTypes.string,appear:c('React').PropTypes.string,appearActive:c('React').PropTypes.string})]).isRequired,appear:c('React').PropTypes.bool,enter:c('React').PropTypes.bool,leave:c('React').PropTypes.bool,appearTimeout:c('React').PropTypes.number,enterTimeout:c('React').PropTypes.number,leaveTimeout:c('React').PropTypes.number},transition:function j(k,l,m){var n=c('ReactDOM').findDOMNode(this);if(!n){if(l)l();return;}var o=this.props.name[k]||this.props.name+'-'+k,p=this.props.name[k+'Active']||o+'-active',q=null,r=function s(t){if(t&&t.target!==n)return;clearTimeout(q);c('fbjs/lib/CSSCore').removeClass(n,o);c('fbjs/lib/CSSCore').removeClass(n,p);c('ReactTransitionEvents').removeEndEventListener(n,s);if(l)l();};c('fbjs/lib/CSSCore').addClass(n,o);this.queueClassAndNode(p,n);if(m){q=setTimeout(r,m);this.transitionTimeouts.push(q);}else c('ReactTransitionEvents').addEndEventListener(n,r);},queueClassAndNode:function j(k,l){this.classNameAndNodeQueue.push({className:k,node:l});if(!this.timeout)this.timeout=setTimeout(this.flushClassNameAndNodeQueue,h);},flushClassNameAndNodeQueue:function j(){if(this.isMounted())this.classNameAndNodeQueue.forEach(function(k){c('fbjs/lib/CSSCore').addClass(k.node,k.className);});this.classNameAndNodeQueue.length=0;this.timeout=null;},componentWillMount:function j(){this.classNameAndNodeQueue=[];this.transitionTimeouts=[];},componentWillUnmount:function j(){if(this.timeout)clearTimeout(this.timeout);this.transitionTimeouts.forEach(function(k){clearTimeout(k);});this.classNameAndNodeQueue.length=0;},componentWillAppear:function j(k){if(this.props.appear){this.transition('appear',k,this.props.appearTimeout);}else k();},componentWillEnter:function j(k){if(this.props.enter){this.transition('enter',k,this.props.enterTimeout);}else k();},componentWillLeave:function j(k){if(this.props.leave){this.transition('leave',k,this.props.leaveTimeout);}else k();},render:function j(){return c('React').Children.only(this.props.children);}});f.exports=i;}),null);
__d('ReactTransitionChildMapping',['React','emptyFunction','warning'],(function a(b,c,d,e,f,g){'use strict';var h=c('emptyFunction'),i={getChildMapping:function j(k){if(!k)return k;var l={};c('React').Children.toArray(k).forEach(function(m){var n=m.key,o=l[n]===undefined;if(o)l[n]=m;});return l;},mergeChildMappings:function j(k,l){k=k||{};l=l||{};function m(u){if(Object.prototype.hasOwnProperty.call(l,u)){return l[u];}else return k[u];}var n={},o=[];for(var p in k)if(Object.prototype.hasOwnProperty.call(l,p)){if(o.length){n[p]=o;o=[];}}else o.push(p);var q,r={};for(var s in l){if(Object.prototype.hasOwnProperty.call(n,s))for(q=0;q<n[s].length;q++){var t=n[s][q];r[n[s][q]]=m(t);}r[s]=m(s);}for(q=0;q<o.length;q++)r[o[q]]=m(o[q]);return r;}};f.exports=i;}),null);
__d('ReactTransitionGroup',['React','ReactTransitionChildMapping','fbjs/lib/emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={children:c('ReactTransitionChildMapping').getChildMapping(this.props.children)},this.performAppear=function(p){this.currentlyTransitioningKeys[p]=true;var q=this.refs[p];if(q.componentWillAppear){q.componentWillAppear(this.$ReactTransitionGroup1.bind(this,p));}else this.$ReactTransitionGroup1(p);}.bind(this),this.$ReactTransitionGroup1=function(p){var q=this.refs[p];if(q.componentDidAppear)q.componentDidAppear();delete this.currentlyTransitioningKeys[p];var r=c('ReactTransitionChildMapping').getChildMapping(this.props.children);if(!r||!Object.prototype.hasOwnProperty.call(r,p))this.performLeave(p);}.bind(this),this.performEnter=function(p){this.currentlyTransitioningKeys[p]=true;var q=this.refs[p];if(q.componentWillEnter){q.componentWillEnter(this.$ReactTransitionGroup2.bind(this,p));}else this.$ReactTransitionGroup2(p);}.bind(this),this.$ReactTransitionGroup2=function(p){var q=this.refs[p];if(q.componentDidEnter)q.componentDidEnter();delete this.currentlyTransitioningKeys[p];var r=c('ReactTransitionChildMapping').getChildMapping(this.props.children);if(!r||!Object.prototype.hasOwnProperty.call(r,p))this.performLeave(p);}.bind(this),this.performLeave=function(p){this.currentlyTransitioningKeys[p]=true;var q=this.refs[p];if(q.componentWillLeave){q.componentWillLeave(this.$ReactTransitionGroup3.bind(this,p));}else this.$ReactTransitionGroup3(p);}.bind(this),this.$ReactTransitionGroup3=function(p){var q=this.refs[p];if(q.componentDidLeave)q.componentDidLeave();delete this.currentlyTransitioningKeys[p];var r=c('ReactTransitionChildMapping').getChildMapping(this.props.children);if(r&&Object.prototype.hasOwnProperty.call(r,p)){this.performEnter(p);}else this.setState(function(s){var t=Object.assign({},s.children);delete t[p];return {children:t};});}.bind(this),l;}j.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={};this.keysToEnter=[];this.keysToLeave=[];};j.prototype.componentDidMount=function(){var k=this.state.children;for(var l in k)if(k[l])this.performAppear(l);};j.prototype.componentWillReceiveProps=function(k){var l=c('ReactTransitionChildMapping').getChildMapping(k.children),m=this.state.children;this.setState({children:c('ReactTransitionChildMapping').mergeChildMappings(m,l)});var n;for(n in l){var o=m&&Object.prototype.hasOwnProperty.call(m,n);if(l[n]&&!o&&!this.currentlyTransitioningKeys[n])this.keysToEnter.push(n);}for(n in m){var p=l&&Object.prototype.hasOwnProperty.call(l,n);if(m[n]&&!p&&!this.currentlyTransitioningKeys[n])this.keysToLeave.push(n);}};j.prototype.componentDidUpdate=function(){var k=this.keysToEnter;this.keysToEnter=[];k.forEach(this.performEnter);var l=this.keysToLeave;this.keysToLeave=[];l.forEach(this.performLeave);};j.prototype.render=function(){var k=[];for(var l in this.state.children){var m=this.state.children[l];if(m)k.push(c('React').cloneElement(this.props.childFactory(m),{ref:l,key:l}));}var n=Object.assign({},this.props);delete n.transitionLeave;delete n.transitionName;delete n.transitionAppear;delete n.transitionEnter;delete n.childFactory;delete n.transitionLeaveTimeout;delete n.transitionEnterTimeout;delete n.transitionAppearTimeout;delete n.component;return c('React').createElement(this.props.component,n,k);};j.displayName='ReactTransitionGroup';j.propTypes={component:c('React').PropTypes.any,childFactory:c('React').PropTypes.func};j.defaultProps={component:'span',childFactory:c('fbjs/lib/emptyFunction').thatReturnsArgument};f.exports=j;}),null);
__d('ReactCSSTransitionGroup',['React','ReactCSSTransitionGroupChild','ReactTransitionGroup'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(l){var m='transition'+l+'Timeout',n='transition'+l;return function(o){if(o[n])if(o[m]==null){return new Error(m+" wasn't supplied to ReactCSSTransitionGroup: "+"this can cause unreliable animations and won't be supported in "+'a future version of React. See '+'https://fb.me/react-animation-transition-group-timeout for more '+'information.');}else if(typeof o[m]!=='number')return new Error(m+' must be a number (in milliseconds)');};}h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ReactCSSTransitionGroup1=function(q){return c('React').createElement(c('ReactCSSTransitionGroupChild'),{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},q);}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('ReactTransitionGroup'),Object.assign({},this.props,{childFactory:this.$ReactCSSTransitionGroup1}));};k.displayName='ReactCSSTransitionGroup';k.propTypes={transitionName:c('ReactCSSTransitionGroupChild').propTypes.name,transitionAppear:c('React').PropTypes.bool,transitionEnter:c('React').PropTypes.bool,transitionLeave:c('React').PropTypes.bool,transitionAppearTimeout:j('Appear'),transitionEnterTimeout:j('Enter'),transitionLeaveTimeout:j('Leave')};k.defaultProps={transitionAppear:false,transitionEnter:true,transitionLeave:true};f.exports=k;}),null);
__d('VideoWatchAndScrollDrawer.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_60a7"});};function k(){'use strict';i.apply(this,arguments);}k.propTypes={};f.exports=k;}),null);
__d('VideoWatchAndScrollEndScreen.react',['ix','fbt','cx','Image.react','PopoverMenu.react','React','ReactXUIMenu','ShimButton.react','TooltipData','VideoChannelProgressCircle.react','VideoChannelReplayImage.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes,n=function r(s){var t=s.onClose;return c('React').createElement(c('ShimButton.react'),{className:"_3r7h",onClick:t},c('React').createElement(c('Image.react'),{src:h("114710")}));},o=function r(s){var t=s.onCollapse;return c('React').createElement('div',babelHelpers['extends']({className:"_1dtq",onClick:t,role:'button',tabIndex:'1'},c('TooltipData').propsFor(i._("Collapse Video"))),c('React').createElement(c('Image.react'),{src:h("115705")}));},p=function r(s){var t=s.onClose,u=c('React').createElement(c('ReactXUIMenu'),{onItemClick:function v(w,x){var y=x.item;if(y.getValue()==='close')t();}},c('React').createElement(c('ReactXUIMenu').Item,{value:'close'},'Close'));return c('React').createElement(c('PopoverMenu.react'),{className:"_ivg",menu:u},c('React').createElement('a',{href:'#'},c('React').createElement(c('Image.react'),{src:h("114186")})));};k=babelHelpers.inherits(q,c('React').Component);l=k&&k.prototype;q.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_5qdn"+(' '+"_2se8")+(this.props.fadeOut?' '+"_2gud":'')+(' '+"_1s-2")},c('React').createElement('div',{className:"_1szz _2se8"},c('React').createElement('div',{className:"_1szy _ww8",onClick:this.props.onReplay,role:'presentation'},c('React').createElement(c('VideoChannelProgressCircle.react'),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:true},c('React').createElement(c('VideoChannelReplayImage.react'),{size:'small'})))),c('React').createElement('div',{className:"_ivh"},c('React').createElement(p,{onClose:this.props.onClose}),c('React').createElement(o,{onCollapse:this.props.onCollapse}),c('React').createElement(n,{onClose:this.props.onClose})));};function q(){'use strict';k.apply(this,arguments);}q.propTypes={endScreenDuration:m.number.isRequired,fadeOut:m.bool,makeProgress:m.bool.isRequired,onReplay:m.func.isRequired,onClose:m.func.isRequired};f.exports=q;}),null);
__d('shouldWNSRenderToRHC',['ge'],(function a(b,c,d,e,f,g){'use strict';function h(){return !!c('ge')('fbRHCVideoWNS-container');}f.exports=h;}),null);
__d('VideoWatchAndScrollContainer.react',['csx','cx','CSS','DOM','DOMContainer.react','DOMDimensions','Event','Locale','Parent','React','ReactCSSTransitionGroup','Rect','SubscriptionsHandler','VideoWatchAndScrollDrawer.react','VideoWatchAndScrollEndScreen.react','cancelAnimationFrame','getViewportDimensions','requestAnimationFrame','shallowCompare','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=10,n=230,o=476,p=300,q=3000,r={NW:'nw',NE:'ne',SE:'se',SW:'sw'};j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(t,u){k.constructor.call(this,t,u);this.state=this.$VideoWatchAndScrollContainer2(this.props);}s.prototype.$VideoWatchAndScrollContainer2=function(t){var u=this.$VideoWatchAndScrollContainer3(),v=this.$VideoWatchAndScrollContainer4(this.props.initialPosition,u);return {channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:u,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:false,endScreenShown:false,fadeOut:false,fadeOutPlaceholder:null,height:v.height,left:v.left,overlayShown:false,resizeDirection:null,top:v.top,width:v.width,videoIndex:0};};s.prototype.shouldComponentUpdate=function(t,u){return !this.state.fadeOut&&c('shallowCompare')(this,t,u);};s.prototype.componentDidUpdate=function(t,u){if(!u)return;if(!u.dragging&&this.state.dragging){this.documentSubscriptions=new (c('SubscriptionsHandler'))();this.documentSubscriptions.addSubscriptions(c('Event').listen(document,'mousemove',this.$VideoWatchAndScrollContainer5.bind(this)),c('Event').listen(document,'mouseup',this.$VideoWatchAndScrollContainer6.bind(this)));}else if(u.dragging&&!this.state.dragging)this.documentSubscriptions.release();if(u.endScreenShown!==this.state.endScreenShown){if(this.canPlayAnotherVideo()||!c('shouldWNSRenderToRHC')())if(this.state.endScreenShown){this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true});}.bind(this),q);}else{clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.setState({endScreenFadeOut:false});}}else if(this.state.endScreenShown&&this.state.videoIndex>=u.channelVideoElements.length-1&&this.state.videoIndex<this.state.channelVideoElements.length-1){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true});}.bind(this),q);}var v=["._23if","._23ig","._452w","._2i7a"],w=u.channelVideoElements||[];this.state.channelVideoElements.forEach(function(x){if(w.indexOf(x)!==-1)return;v.forEach(function(aa){var ba=c('DOM').scry(x,aa),ca=ba[0];if(ca)c('CSS').hide(ca);});var y=c('DOM').scry(x,"._3pay"),z=y[0];if(z){c('CSS').removeClass(z,"_3pay");c('CSS').addClass(z,"_2337");}});};s.prototype.componentDidMount=function(){this.resizeListener=c('Event').listen(window,'resize',c('throttle')(function(){var t=this.$VideoWatchAndScrollContainer3(),u=this.$VideoWatchAndScrollContainer4({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},t);this.setState({containerBoundingBox:t,height:u.height,left:u.left,top:u.top,width:u.width});}.bind(this),100));};s.prototype.componentWillUnmount=function(){if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.resizeListener)this.resizeListener.remove();this.$VideoWatchAndScrollContainer1&&clearTimeout(this.$VideoWatchAndScrollContainer1);};s.prototype.getFadeOutStatus=function(){return this.state.fadeOut;};s.prototype.getChannelVideoElements=function(){return this.state.channelVideoElements;};s.prototype.$VideoWatchAndScrollContainer7=function(t,event){this.$VideoWatchAndScrollContainer8(event,t);};s.prototype.$VideoWatchAndScrollContainer9=function(event){if(c('Parent').bySelector(event.target,"._5-32")||!c('Parent').bySelector(event.target,"._3t-6"))return;this.$VideoWatchAndScrollContainer8(event,null);};s.prototype.$VideoWatchAndScrollContainer10=function(event){return event.button!==0||c('Parent').bySelector(event.target,"._3t-6")||c('Parent').bySelector(event.target,"._2se8");};s.prototype.$VideoWatchAndScrollContainer11=function(event){if(this.$VideoWatchAndScrollContainer10(event))return;this.props.onClick&&this.props.onClick();};s.prototype.$VideoWatchAndScrollContainer12=function(event){if(this.$VideoWatchAndScrollContainer10(event))return;this.props.onDoubleClick&&this.props.onDoubleClick();};s.prototype.$VideoWatchAndScrollContainer8=function(event,t){var u=event.button,v=event.target;if(u!==0)return;if(c('Parent').bySelector(v,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer3(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:t});event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer3=function(){var t=0,u=c('DOM').scry(document.body,".fbChatSidebar");if(u.length===1)t=c('DOMDimensions').getElementDimensions(u[0]).width;var v=c('getViewportDimensions').withoutScrollbars(),w=43+m,x=v.height-m,y=m,z=v.width-m;if(c('Locale').isRTL()){y+=t;}else z-=t;return new (c('Rect'))(w,z,x,y);};s.prototype.$VideoWatchAndScrollContainer4=function(t,u){var v=new (c('Rect'))(t.top,t.left+t.width,t.top+t.height,t.left);v=v.boundWithin(u);return {height:v.h(),left:v.getLeft(),top:v.getTop(),width:v.w()};};s.prototype.$VideoWatchAndScrollContainer13=function(t,u,v){var w=t.top,x=u.getTop(),y=x-w;if(y>0){if(v===r.NE||v===r.NW)t.height-=y;t.top=x;}var z=t.left,aa=u.getLeft(),ba=aa-z;if(ba>0){if(v===r.NW||v===r.SW)t.width-=ba;t.left=aa;}var ca=t.top+t.height,da=u.getTop()+u.h(),ea=ca-da;if(ea>0)t.height=da-t.top;var fa=t.left+t.width,ga=u.getLeft()+u.w(),ha=fa-ga;if(ha>0)t.width=ga-t.left;};s.prototype.$VideoWatchAndScrollContainer14=function(t,u,v){if(t.width<n){if(v===r.NW||v===r.SW)t.left-=n-t.width;t.width=n;}if(t.height<n){if(v===r.NE||v===r.NW)t.top-=n-t.height;t.height=n;}};s.prototype.$VideoWatchAndScrollContainer15=function(t,u,v){if(t.width>o){if(v===r.NW||v===r.SW)t.left+=t.width-o;t.width=o;}if(t.height>o){if(v===r.NE||v===r.NW)t.top+=t.height-o;t.height=o;}};s.prototype.$VideoWatchAndScrollContainer16=function(t,u,v){var w=t.width/t.height,x=u.width/u.height;if(w>x){var y=t.height*x,z=t.height;if(y<n){z*=n/y;y=n;if(v===r.NE||v===r.NW)t.top+=t.height-z;}if(v===r.NW||v===r.SW)t.left+=t.width-y;t.width=y;t.height=z;}else if(w<x){var aa=t.width/x;if(v===r.NE||v===r.NW)t.top+=t.height-aa;t.height=aa;}};s.prototype.$VideoWatchAndScrollContainer17=function(t,u,v,w){this.$VideoWatchAndScrollContainer13(t,v,w);this.$VideoWatchAndScrollContainer14(t,u,w);this.$VideoWatchAndScrollContainer15(t,u,w);this.$VideoWatchAndScrollContainer16(t,u,w);return {height:t.height,left:t.left,top:t.top,width:t.width};};s.prototype.$VideoWatchAndScrollContainer5=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=c('requestAnimationFrame')(this.$VideoWatchAndScrollContainer18.bind(this,event));};s.prototype.$VideoWatchAndScrollContainer19=function(t){if(t.height!==this.state.height||t.width!==this.state.width)this.props.onInitialPositionUpdate(t);};s.prototype.$VideoWatchAndScrollContainer18=function(event){if(!this.state.dragging)return;var t=event.screenX-this.state.draggingStartMousePositionX,u=event.screenY-this.state.draggingStartMousePositionY,v=this.state.resizeDirection,w=void 0;if(!v){w=this.$VideoWatchAndScrollContainer4({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+t,top:this.state.draggingStartTop+u,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.$VideoWatchAndScrollContainer19(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width});}else{var x=this.state.draggingStartHeight,y=this.state.draggingStartLeft,z=this.state.draggingStartTop,aa=this.state.draggingStartWidth;if(v===r.NE||v===r.SE)aa+=t;if(v===r.NW||v===r.SW){y+=t;aa-=t;}if(v===r.SE||v===r.SW)x+=u;if(v===r.NE||v===r.NW){z+=u;x-=u;}w=this.$VideoWatchAndScrollContainer17({height:x,left:y,top:z,width:aa},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,v);this.$VideoWatchAndScrollContainer19(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width});}event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer6=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer20=function(t,u){if(t>this.state.channelVideoElements.length)return null;var v=this.state.channelVideoElements[t];if(!v)return null;return c('React').createElement('div',{className:"_2yq3"+(u==='left'?' '+"_2yq4":'')+(u==='center'?' '+"_2yq5":'')+(u==='right'?' '+"_2yq6":''),key:v.id},c('React').createElement(c('DOMContainer.react'),null,v));};s.prototype.$VideoWatchAndScrollContainer21=function(){if(c('shouldWNSRenderToRHC')())return [];return [c('React').createElement('div',{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.NW),key:r.NW}),c('React').createElement('div',{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.NE),key:r.NE}),c('React').createElement('div',{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.SE),key:r.SE}),c('React').createElement('div',{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.SW),key:r.SW})];};s.prototype.getWidth=function(){return this.state.width;};s.prototype.canPlayAnotherVideo=function(){var t=this.state.channelVideoElements;return this.state.videoIndex<t.length-1;};s.prototype.render=function(){var t=null;if(!this.props.isDrawerEnabled)t={height:Math.round(this.state.height)+'px',left:this.state.left+'px',top:this.state.top+'px',width:Math.round(this.state.width)+'px'};var u=this.state.channelVideoElements,v=u[this.state.videoIndex];if(v){c('CSS').addClass(v,"_1kfp");c('CSS').conditionClass(v,"_1blk",this.state.width<p);}var w=null;if(this.state.endScreenShown)w=c('React').createElement(c('VideoWatchAndScrollEndScreen.react'),{endScreenDuration:q/1000,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,onClose:function(){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.props.onClose();}.bind(this),onCollapse:this.props.onCollapse});var x=null;if(this.state.fadeOutPlaceholder){x=c('React').createElement(c('DOMContainer.react'),null,this.state.fadeOutPlaceholder);}else x=c('React').createElement('ul',{className:"_2yq7"},u.map(function(z,aa){if(aa>this.state.videoIndex+1||aa<this.state.videoIndex-1)c('CSS').removeClass(z,"_1kfp");if(aa<=this.state.videoIndex+1)return null;return c('React').createElement('li',{key:z.id},c('React').createElement(c('DOMContainer.react'),null,z));}.bind(this)));var y=null;if(this.props.isDrawerEnabled)y=c('React').createElement(c('VideoWatchAndScrollDrawer.react'),null);return c('React').createElement(c('ReactCSSTransitionGroup'),{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:{appear:"_tie",appearActive:"_tik"}},c('React').createElement('div',{className:"_360g"+(this.state.fadeOut?' '+"_473b":'')+(this.props.isDrawerEnabled?' '+"_60a6":'')+(this.props.isLiveVideo()?' '+"_29mh":''),style:t},w,c('React').createElement('div',{className:"_52u8",onClick:this.$VideoWatchAndScrollContainer11.bind(this),onDoubleClick:this.$VideoWatchAndScrollContainer12.bind(this),onMouseDown:this.$VideoWatchAndScrollContainer9.bind(this),role:'presentation'},this.$VideoWatchAndScrollContainer20(this.state.videoIndex-1,'left'),this.$VideoWatchAndScrollContainer20(this.state.videoIndex,'center'),this.$VideoWatchAndScrollContainer20(this.state.videoIndex+1,'right'),y),this.$VideoWatchAndScrollContainer21(),x));};s.propTypes={initialPosition:l.object.isRequired,initialVideoElement:l.instanceOf(HTMLElement).isRequired,onChannelNavigation:l.func.isRequired,onClick:l.func.isRequired,onClose:l.func.isRequired,onDoubleClick:l.func.isRequired,onDrop:l.func.isRequired,onGrab:l.func.isRequired,onInitialPositionUpdate:l.func.isRequired,onReplay:l.func.isRequired};f.exports=s;}),null);
__d("XVideoWNSSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/wns_survey\/",{__asyncDialog:{type:"Int"}});}),null);
__d('VideoWatchAndScrollController',['csx','cx','invariant','Arbiter','AsyncRequest','Bootloader','CSS','DOM','DOMDimensions','Event','EventListener','Locale','React','ReactDOM','SubscriptionsHandler','Tahoe','VideoAutoplayControllerX','VideoChannelLogger','VideoChannelStoryFetcher','VideoFrameBuffer','VideoPlayerExperiments','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerStates','VideoPlayerVolumeSettings','ViewportBounds','VideoWatchAndScrollContainer.react','VideoWatchAndScrollVariables','XVideoWNSSurveyController','cancelAnimationFrame','destroyOnUnload','getViewportDimensions','ifRequired','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i,j){var k=158,l=280,m=10,n=42,o=n+m,p=476,q=230,r=[c('VideoPlayerReason').AUTOPLAY,c('VideoPlayerReason').PAGE_VISIBILITY],s=750,t=308,u=null,v=c('VideoPlayerExperiments').persistentWNSEnabled;function w(){return Math.max(c('getViewportDimensions')().height,400)-n-80;}function x(y,z,aa,ba){var ca;'use strict';this.$VideoWatchAndScrollController30=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController34=aa;this.$VideoWatchAndScrollController37=false;this.$VideoWatchAndScrollController29=false;this.$VideoWatchAndScrollController47=ba;this.$VideoWatchAndScrollController48=ba;this.$VideoWatchAndScrollController33=new (c('VideoChannelStoryFetcher'))(z,y,this.$VideoWatchAndScrollController34,null);this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController5=k;this.$VideoWatchAndScrollController6=l;this.$VideoWatchAndScrollController10=window.document.getElementById('leftCol');this.$VideoWatchAndScrollController11=window.document.getElementById('rightCol');this.$VideoWatchAndScrollController12=window.document.getElementById('pagelet_bluebar');this.$VideoWatchAndScrollController43={};this.$VideoWatchAndScrollController46=null;this.$VideoWatchAndScrollController49();(ca=this.$VideoWatchAndScrollController30).addSubscriptions.apply(ca,this.$VideoWatchAndScrollController50());if(!v)c('destroyOnUnload')(function(){this.$VideoWatchAndScrollController51();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController52();if(this.$VideoWatchAndScrollController30)this.$VideoWatchAndScrollController30.release();if(this===u)u=null;}.bind(this));}x.prototype.$VideoWatchAndScrollController50=function(){var y,z=this;'use strict';var aa=[];aa.push(c('Arbiter').subscribe('VideoChannelView/opened',function(ba,ca){if(this.$VideoWatchAndScrollController4&&(!ca.controller||this.$VideoWatchAndScrollController16!==ca.controller))this.$VideoWatchAndScrollController52();}.bind(this)));if(c('VideoPlayerExperiments').rhcWNSEnabled){aa.push(c('Arbiter').subscribe('RHCVideoWNSController/collapseStart',function(){var ba=this.$VideoWatchAndScrollController14;if(!ba||!c('shouldWNSRenderToRHC')())return;ba.setState({endScreenFadeOut:true,endScreenShown:false});}.bind(this)),c('Arbiter').subscribe('RHCVideoWNSController/collapseEnd',function(){var ba=this.$VideoWatchAndScrollController14;if(!ba||!c('shouldWNSRenderToRHC')())return;this.pauseActiveVideo(c('VideoPlayerReason').USER);ba.setState({endScreenFadeOut:false});}.bind(this)),c('Arbiter').subscribe('RHCVideoWNSController/expandStart',function(){var ba=this.$VideoWatchAndScrollController14;if(!ba||!this.isActiveVideoDonePlaying()||!c('shouldWNSRenderToRHC')())return;ba.setState({endScreenShown:true});}.bind(this)));if(v)(function(){var ba=function(){var ca=this.$VideoWatchAndScrollController16.getVideoNode();ca instanceof HTMLVideoElement||j(0);ca.currentTime=ca.currentTime;}.bind(z);aa.push(c('Arbiter').subscribe('RHCVideoWNSController/eject',function(ca,da){if(!c('shouldWNSRenderToRHC')())return;this.$VideoWatchAndScrollController2=da;c('DOM').appendContent(document.body,da);ba();if(this.$VideoWatchAndScrollController16.isState(c('VideoPlayerStates').PLAYING))this.playActiveVideo(c('VideoPlayerReason').USER);}.bind(z)),c('Arbiter').subscribe('RHCVideoWNSController/dock',function(){if(!c('shouldWNSRenderToRHC')())return;ba();if(this.$VideoWatchAndScrollController16.isState(c('VideoPlayerStates').PLAYING))this.playActiveVideo(c('VideoPlayerReason').USER);}.bind(z)),c('Event').listen(window,'resize',c('throttle')(function(){if(!c('shouldWNSRenderToRHC')())return;this.$VideoWatchAndScrollController53();}.bind(z))),c('Arbiter').subscribe('RHCVideoWNSController/mount',function(){this.$VideoWatchAndScrollController53();}.bind(z)));})();}return aa;};x.prototype.$VideoWatchAndScrollController53=function(){'use strict';var y=this.$VideoWatchAndScrollController14;if(!y)return;var z=this.$VideoWatchAndScrollController16.getVideoNode(),aa=this.$VideoWatchAndScrollController54(z);this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(aa.width,aa.height);y.setState({width:aa.width,height:aa.height});this.$VideoWatchAndScrollController46=aa;c('Arbiter').inform('VideoWatchAndScrollController/resize');};x.prototype.isActiveVideoDonePlaying=function(){'use strict';var y=this.$VideoWatchAndScrollController16.getState();return y===c('VideoPlayerStates').FINISHED;};x.isActiveVideoDonePlaying=function(){'use strict';return u?u.isActiveVideoDonePlaying():false;};x.prototype.$VideoWatchAndScrollController55=function(y,z,aa){'use strict';y||j(0);z.length||j(0);this.$VideoWatchAndScrollController47=true;this.$VideoWatchAndScrollController37=false;this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController36=aa;this.$VideoWatchAndScrollController33=y;this.$VideoWatchAndScrollController38=y.getPreloadedData().thumbnails||[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController35=z.slice(0);this.$VideoWatchAndScrollController35.forEach(function(ca){this.$VideoWatchAndScrollController56(ca);this.$VideoWatchAndScrollController57(ca);ca.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);}.bind(this));var ba=this.$VideoWatchAndScrollController35.shift();this.$VideoWatchAndScrollController58(ba,c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController59=function(y,z,aa,ba,ca){'use strict';this.$VideoWatchAndScrollController9=ca;this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController54(ca.videoRootNode);this.$VideoWatchAndScrollController55(y,z,aa);if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({channelVideoElements:ba},function(){this.$VideoWatchAndScrollController60();}.bind(this));this.$VideoWatchAndScrollController9=null;};x.registerVideoController=function(y,z,aa,ba){'use strict';if(u==null)u=new x(y.getVideoChannelID(),y.getVideoID(),z,ba);u.$VideoWatchAndScrollController30.addSubscriptions(y.addListener('enterWatchAndScroll',function(){if(u)u.$VideoWatchAndScrollController61(y);}),y.addListener('crossfadeWatchAndScroll',function(){if(u){u.$VideoWatchAndScrollController62();var da=y.getVideoNode();u.$VideoWatchAndScrollController46=u.$VideoWatchAndScrollController54(da);u.$VideoWatchAndScrollController58(y,c('VideoPlayerReason').USER,false,true);y.unmute();}}),y.addListener('exitWatchAndScroll',function(){if(u&&u.$VideoWatchAndScrollController4)u.$VideoWatchAndScrollController52();}),y.addListener('VideoChannelController/enterChannel',function(){if(u)u.$VideoWatchAndScrollController37=true;}),y.addListener('VideoChannelController/exitChannel',function(){if(u)u.$VideoWatchAndScrollController37=false;}),y.addListener('WatchAndScroll/close',function(){if(u){u.$VideoWatchAndScrollController63();var da=c('XVideoWNSSurveyController').getURIBuilder().getURI(),ea=new (c('AsyncRequest'))().setURI(da);ea.send();}}));if(!aa)return;var ca=['beginPlayback','changeVolume','muteVideo','toggleFullscreen','unmuteVideo','VideoChannelController/enterChannel'];ca.forEach(function(event){if(u)u.$VideoWatchAndScrollController30.addSubscriptions(y.addListener(event,function(da){if(u)u.$VideoWatchAndScrollController64(y,event,da);}));});};x.isActive=function(){'use strict';if(!u)return false;return u.$VideoWatchAndScrollController4&&!u.$VideoWatchAndScrollController37;};x.updateSlidingCalculations=function(){'use strict';if(!u)return;if(u.$VideoWatchAndScrollController19)u.$VideoWatchAndScrollController65(u.$VideoWatchAndScrollController19);};x.registerChannelVideoController=function(y){'use strict';if(!u)return;y.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);u.$VideoWatchAndScrollController56(y);u.$VideoWatchAndScrollController57(y);u.$VideoWatchAndScrollController35.push(y);};x.getStoryFetcherData=function(){'use strict';return u&&u.$VideoWatchAndScrollController66();};x.prototype.$VideoWatchAndScrollController66=function(){'use strict';return {storyFetcher:this.$VideoWatchAndScrollController33,videoPlayerControllers:this.$VideoWatchAndScrollController35,channelVideoIndex:this.$VideoWatchAndScrollController36,rootVideoPlayerController:this.$VideoWatchAndScrollController17,channelInteractionsToRegister:this.$VideoWatchAndScrollController39,isFromWNS:true};};x.getVideoPlaceholder=function(){'use strict';if(!u)return null;return u.$VideoWatchAndScrollController18;};x.getReactContainer=function(){'use strict';if(!u)return null;return u.$VideoWatchAndScrollController14;};x.registerChannelInteraction=function(y){'use strict';if(u)u.$VideoWatchAndScrollController39.push(y);};x.onEnterTahoe=function(){'use strict';if(!u)return;u.$VideoWatchAndScrollController67();};x.prototype.$VideoWatchAndScrollController67=function(){'use strict';this.$VideoWatchAndScrollController37=true;this.$VideoWatchAndScrollController33.abandonRequest();};x.onEnterChannel=function(){'use strict';if(!u)return;u.$VideoWatchAndScrollController68();};x.prototype.$VideoWatchAndScrollController68=function(){'use strict';this.$VideoWatchAndScrollController37=true;this.$VideoWatchAndScrollController33.abandonRequest();var y=this.$VideoWatchAndScrollController14;if(!y)return;var z=["._23if","._23ig","._452w","._2i7a"];y.getChannelVideoElements().forEach(function(aa){z.forEach(function(da){var ea=c('DOM').scry(aa,da),fa=ea[0];if(fa)c('CSS').show(fa);});var ba=c('DOM').scry(aa,"._2337"),ca=ba[0];if(ca){c('CSS').removeClass(ca,"_2337");c('CSS').addClass(ca,"_3pay");}});};x.resetFromChannelView=function(y,z,aa){'use strict';if(!u)return;u.$VideoWatchAndScrollController55(y,z,aa);};x.startFromChannelView=function(y,z,aa,ba,ca){'use strict';if(!u)return;u.$VideoWatchAndScrollController59(y,z,aa,ba,ca);};x.prototype.$VideoWatchAndScrollController64=function(y,event,z){'use strict';if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController16===y)return;if(z&&r.includes(z.reason))return;if(!y.isIntentionallyViewing())return;var aa=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(aa){this.$VideoWatchAndScrollController16.mute();}else this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}if(event==='toggleFullscreen'&&y.isFullscreen()||event==='VideoChannelController/enterChannel'){if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController51();}else if((event!=='beginPlayback'||z&&z.reason===c('VideoPlayerReason').USER||y.getSource()===c('VideoPlayerLoggerSource').PERMALINK)&&y.isIntentionallyViewing()&&!y.isFullscreen()&&!y.getIsInChannel()){var ba=this.$VideoWatchAndScrollController69(y.getVideoNode()),ca=ba.top;if(ca>window.scrollY||event==='beginPlayback'&&z&&z.reason===c('VideoPlayerReason').AUTOPLAY)this.$VideoWatchAndScrollController65(y);}};x.prototype.$VideoWatchAndScrollController70=function(y){'use strict';if(this.$VideoWatchAndScrollController37||y!==this.$VideoWatchAndScrollController16)return;if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({endScreenShown:true});};x.prototype.$VideoWatchAndScrollController71=function(y){'use strict';return y.addListener('finishPlayback',function(){return this.$VideoWatchAndScrollController70(y);}.bind(this));};x.prototype.$VideoWatchAndScrollController65=function(y){'use strict';var z=y.getVideoNode();if(!z.offsetParent)return;this.$VideoWatchAndScrollController19=y;this.$VideoWatchAndScrollController25=c('throttle')(this.$VideoWatchAndScrollController72.bind(this),100);window.addEventListener('resize',this.$VideoWatchAndScrollController25);this.$VideoWatchAndScrollController73(z);this.$VideoWatchAndScrollController74();};x.prototype.$VideoWatchAndScrollController72=function(){'use strict';if(this.$VideoWatchAndScrollController19){this.$VideoWatchAndScrollController73(this.$VideoWatchAndScrollController18||this.$VideoWatchAndScrollController19.getVideoNode());this.$VideoWatchAndScrollController26&&this.$VideoWatchAndScrollController26();}};x.prototype.$VideoWatchAndScrollController75=function(y){'use strict';var z=this.$VideoWatchAndScrollController69(y),aa=y.scrollWidth,ba=y.scrollHeight,ca=q,da=p;if(aa<ba){ca*=aa/ba;da*=aa/ba;}var ea=ca;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var fa=this.$VideoWatchAndScrollController69(this.$VideoWatchAndScrollController10);if(fa.left<=z.left){ea=Math.min(fa.left-2*m,da);}else if(this.$VideoWatchAndScrollController11&&this.$VideoWatchAndScrollController11.children.length){var ga=this.$VideoWatchAndScrollController69(this.$VideoWatchAndScrollController11);ea=Math.min(ga.left-2*m,da);}}else{var ha=document.getElementById('timeline_tab_content');if(ha){var ia=this.$VideoWatchAndScrollController69(ha).left;ea=Math.min(ia-2*m,da);}}return Math.max(ea,ca);};x.prototype.$VideoWatchAndScrollController69=function(y){'use strict';var z={left:0,top:0};do{z.top+=y.offsetTop;z.left+=y.offsetLeft;}while(y=y.offsetParent);return z;};x.prototype.$VideoWatchAndScrollController76=function(){'use strict';if(c('VideoPlayerExperiments').rhcWNSEnabled)return t;var y=0;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var z=this.$VideoWatchAndScrollController69(this.$VideoWatchAndScrollController10),aa=window.getComputedStyle(this.$VideoWatchAndScrollController10),ba=parseInt(aa.width,10);if(v)ba=ba||l;y=ba+z.left-m;}else{var ca=document.getElementById('timeline_tab_content');if(!ca){var da=document.getElementById('pagelet_timeline_main_column');if(da){ca=da.parentNode;}else ca=document.getElementById('contentArea');}if(ca){var ea=this.$VideoWatchAndScrollController69(ca).left;y=ea-2*m;}}return y;};x.prototype.$VideoWatchAndScrollController54=function(y){'use strict';var z=!y&&this.$VideoWatchAndScrollController9,aa={left:0},ba=16,ca=9;if(!z){aa=this.$VideoWatchAndScrollController69(y);ca=1;ba=parseFloat(y.getAttribute('data-original-aspect-ratio'));var da=y.parentElement;if((!ba||ca===0)&&da){aa=this.$VideoWatchAndScrollController69(da);ba=da.scrollWidth;ca=da.scrollHeight;}}var ea=q,fa=p;if(ba<ca){ea*=ba/ca;fa*=ba/ca;}var ga=this.$VideoWatchAndScrollController76(),ha=m;if(this.$VideoWatchAndScrollController12)ha+=this.$VideoWatchAndScrollController12.scrollHeight;ha=Math.max(ha,o);var ia=c('VideoPlayerExperiments').rhcWNSEnabled?ga:Math.max(Math.min(ga,fa),q),ja=void 0;if(c('VideoPlayerExperiments').rhcWNSEnabled){ja=c('Locale').isRTL()?m+c('ViewportBounds').getRight():c('getViewportDimensions')().width-ia-m;}else{ja=ga>fa?ga-fa+m:m;ja=Math.max(ja,m);}var ka=ia*ca/ba;if(c('VideoPlayerExperiments').rhcWNSEnabled)ka=Math.min(ka,w());return {hasEnoughSpace:!!z||ga>=ea,height:ka,left:ja,top:ha,width:ia};};x.hasEnoughSpaceToEnter=function(y){'use strict';if(!u||!y||!y.getVideoNode())return false;var z=y.getVideoNode(),aa=1,ba=parseFloat(z.getAttribute('data-original-aspect-ratio')),ca=z.parentElement;if((!ba||aa===0)&&ca){ba=ca.scrollWidth;aa=ca.scrollHeight;}var da=q;if(ba<aa)da*=ba/aa;return u.$VideoWatchAndScrollController76()>da;};x.prototype.$VideoWatchAndScrollController73=function(y){'use strict';this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController69(y);this.$VideoWatchAndScrollController27=y.scrollWidth;this.$VideoWatchAndScrollController28=y.scrollHeight;var z=Math.max(this.$VideoWatchAndScrollController27,this.$VideoWatchAndScrollController28);if(z<q){var aa=q/z;this.$VideoWatchAndScrollController27*=aa;this.$VideoWatchAndScrollController28*=aa;}this.$VideoWatchAndScrollController20=this.$VideoWatchAndScrollController21.top+this.$VideoWatchAndScrollController28*.5-n;this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController54(y);this.$VideoWatchAndScrollController29=!this.$VideoWatchAndScrollController46.hasEnoughSpace;};x.prototype.$VideoWatchAndScrollController74=function(){'use strict';if(this.$VideoWatchAndScrollController19.isIntentionallyViewing()){this.$VideoWatchAndScrollController77(this.$VideoWatchAndScrollController78.bind(this));this.$VideoWatchAndScrollController78();}else this.$VideoWatchAndScrollController51();};x.isVideoAlmostFinished=function(y){'use strict';var z=y.getPlaybackDuration(),aa=y.getCurrentTimePosition(),ba=c('VideoWatchAndScrollVariables').noWNSRemainingTime;if(z*.2<ba){return aa/z>.8;}else return z-aa<ba;};x.isSlidingEnabled=function(y){'use strict';var z=u;if(z==null)return false;var aa=z.$VideoWatchAndScrollController19;if(aa==null||aa!==y)return false;if(z.$VideoWatchAndScrollController29||!y.isIntentionallyViewing()||!y.getVideoNode().offsetParent||x.isVideoAlmostFinished(y)||y.getSource()===c('VideoPlayerLoggerSource').TAHOE||y.hasLooped()){z.$VideoWatchAndScrollController51();return false;}return true;};x.prototype.$VideoWatchAndScrollController78=function(){'use strict';var y=this.$VideoWatchAndScrollController19;if(y==null)return;if(!y.isIntentionallyViewing()||!y.getVideoNode().offsetParent){this.$VideoWatchAndScrollController51();return;}if(window.scrollY>this.$VideoWatchAndScrollController20&&x.isSlidingEnabled(y)&&y!==this.$VideoWatchAndScrollController16){this.$VideoWatchAndScrollController62();this.$VideoWatchAndScrollController58(y,c('VideoPlayerReason').AUTOPLAY,false,true);this.$VideoWatchAndScrollController51();}};x.prototype.$VideoWatchAndScrollController62=function(){'use strict';this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController48;};x.prototype.$VideoWatchAndScrollController77=function(y){'use strict';window.removeEventListener('scroll',this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController26=y||null;window.addEventListener('scroll',this.$VideoWatchAndScrollController26);c('cancelAnimationFrame')(this.$VideoWatchAndScrollController32);delete this.$VideoWatchAndScrollController32;};x.prototype.$VideoWatchAndScrollController51=function(){'use strict';window.removeEventListener('resize',this.$VideoWatchAndScrollController25);this.$VideoWatchAndScrollController77();delete this.$VideoWatchAndScrollController19;this.$VideoWatchAndScrollController29=false;};x.prototype.$VideoWatchAndScrollController61=function(y){'use strict';this.$VideoWatchAndScrollController51();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController16!==y){this.$VideoWatchAndScrollController79(y);}else{this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController54(y.getVideoNode());this.$VideoWatchAndScrollController62();this.$VideoWatchAndScrollController58(y,c('VideoPlayerReason').USER);}};x.prototype.$VideoWatchAndScrollController79=function(y){'use strict';this.$VideoWatchAndScrollController22=y;this.$VideoWatchAndScrollController80();};x.prototype.$VideoWatchAndScrollController58=function(y,z,aa,ba){'use strict';if(y.getSource()===c('VideoPlayerLoggerSource').TAHOE){var ca=c('Tahoe').get();if(ca)ca.onExit();}var da=!!this.$VideoWatchAndScrollController45;if(this.$VideoWatchAndScrollController45){clearTimeout(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null;c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController81());this.$VideoWatchAndScrollController82();}var ea=this.$VideoWatchAndScrollController1&&(aa||ba)&&!!this.$VideoWatchAndScrollController17;if(ea){this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController17;this.$VideoWatchAndScrollController43=babelHelpers['extends']({},this.$VideoWatchAndScrollController8);this.$VideoWatchAndScrollController44=this.$VideoWatchAndScrollController18;this.$VideoWatchAndScrollController40=this.$VideoWatchAndScrollController14;this.$VideoWatchAndScrollController42=this.$VideoWatchAndScrollController2;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController13&&this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController31.release();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();}this.$VideoWatchAndScrollController17=y;this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController36>0?this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36):y);if(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController35.length>this.$VideoWatchAndScrollController36)this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var fa=!this.$VideoWatchAndScrollController1||!this.$VideoWatchAndScrollController16.isMuted(),ga=!this.$VideoWatchAndScrollController1||this.$VideoWatchAndScrollController16.isState('playing'),ha=this.$VideoWatchAndScrollController1&&this.$VideoWatchAndScrollController16.isState('finished');if(!this.$VideoWatchAndScrollController1||ea){if(!this.$VideoWatchAndScrollController9)c('VideoChannelLogger').startSession(this.$VideoWatchAndScrollController17.getVideoID(),this.$VideoWatchAndScrollController17.getVideoChannelID(),this.$VideoWatchAndScrollController34);if(!aa||da){if(da)this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController54(this.$VideoWatchAndScrollController15);this.$VideoWatchAndScrollController49(this.$VideoWatchAndScrollController15);}if(this.$VideoWatchAndScrollController9){this.$VideoWatchAndScrollController8=this.$VideoWatchAndScrollController9;if(this.$VideoWatchAndScrollController8.videoRootNode){this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController17.getVideoNode());c('DOM').appendContent(this.$VideoWatchAndScrollController8.videoRootNode,this.$VideoWatchAndScrollController18);var ia=c('DOM').scry(this.$VideoWatchAndScrollController8.videoRootNode,"._344x"),ja=ia[0];if(ja)c('DOM').remove(ja);}}else{this.$VideoWatchAndScrollController8={videoRootNode:this.$VideoWatchAndScrollController15.parentNode,dimensions:c('DOMDimensions').getElementDimensions(this.$VideoWatchAndScrollController15),source:this.$VideoWatchAndScrollController16.getSource()};this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController16.getVideoNode());c('DOM').insertAfter(this.$VideoWatchAndScrollController15,this.$VideoWatchAndScrollController18);}var ka=null;if(this.$VideoWatchAndScrollController9)ka=this.$VideoWatchAndScrollController9.videoRootNode;if(!ka&&this.$VideoWatchAndScrollController15)ka=this.$VideoWatchAndScrollController15.parentNode;if(ka)this.$VideoWatchAndScrollController13=c('EventListener').listen(ka,'click',function(){this.$VideoWatchAndScrollController63();y.play(c('VideoPlayerReason').USER);setTimeout(function(){this.$VideoWatchAndScrollController64(y,'beginPlayback',{reason:c('VideoPlayerReason').USER});}.bind(this),s);}.bind(this));this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16.isPlayerVersion('silvercity'))this.$VideoWatchAndScrollController16.detachRootNode();var la=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.width:this.$VideoWatchAndScrollController6,ma=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.height:this.$VideoWatchAndScrollController5;this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(la,ma);this.$VideoWatchAndScrollController4=true;if(ea)this.$VideoWatchAndScrollController86();this.$VideoWatchAndScrollController14=this.$VideoWatchAndScrollController87();}else{this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController60();}ga&&this.$VideoWatchAndScrollController16.play(z);if(fa){this.$VideoWatchAndScrollController16.unmute();if(this.$VideoWatchAndScrollController16.getVolume()===0){var na=c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute()||1;this.$VideoWatchAndScrollController16.setVolume(na);this.$VideoWatchAndScrollController16.emit('unmuteVideo');}}if(ha)this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController16);this.$VideoWatchAndScrollController16.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);var oa=this.$VideoWatchAndScrollController33;if((!this.$VideoWatchAndScrollController1||ea)&&oa){oa.abandonRequest();if(!this.$VideoWatchAndScrollController9)oa.reset(y.getVideoID(),y.getVideoChannelID());this.$VideoWatchAndScrollController88();this.$VideoWatchAndScrollController56(y);this.$VideoWatchAndScrollController57(y);}this.$VideoWatchAndScrollController1=true;if(c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/start');};x.prototype.$VideoWatchAndScrollController56=function(y){'use strict';if(!y.hasOption('WatchAndScroll','isActive'))y.registerOption('WatchAndScroll','isActive',x.isActive);};x.prototype.$VideoWatchAndScrollController57=function(y){'use strict';this.$VideoWatchAndScrollController31.addSubscriptions(this.$VideoWatchAndScrollController71(y),y.addListener('VideoChannelController/enterChannel',function(){this.$VideoWatchAndScrollController31.release();}.bind(this)),y.addListener('WatchAndScroll/close',function(){this.$VideoWatchAndScrollController63();var z=c('XVideoWNSSurveyController').getURIBuilder().getURI(),aa=new (c('AsyncRequest'))().setURI(z);aa.send();}.bind(this)));};x.prototype.$VideoWatchAndScrollController89=function(){'use strict';if(!this.$VideoWatchAndScrollController14)return;this.$VideoWatchAndScrollController14.setState({endScreenShown:false});if(this.$VideoWatchAndScrollController16)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController88=function(){'use strict';if(!this.$VideoWatchAndScrollController47)return;this.$VideoWatchAndScrollController33.fetchStories(true,function(y,z){var aa=this.$VideoWatchAndScrollController14;if(!y||!y.length||!aa)return;var ba=aa.getChannelVideoElements().concat(y);aa.setState({channelVideoElements:ba},function(){setTimeout(function(){this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();}.bind(this));}.bind(this));this.$VideoWatchAndScrollController38=this.$VideoWatchAndScrollController38.concat(z);}.bind(this));};x.prototype.$VideoWatchAndScrollController84=function(y){'use strict';var z=this.$VideoWatchAndScrollController14?this.$VideoWatchAndScrollController14.getChannelVideoElements():[],aa=[this.$VideoWatchAndScrollController17].concat(this.$VideoWatchAndScrollController35),ba=null;aa.forEach(function(ca){if(z[y].contains(ca.getRootNode()))ba=ca;});ba||j(0);return ba;};x.prototype.$VideoWatchAndScrollController60=function(){'use strict';var y=this.$VideoWatchAndScrollController16.isMuted();this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16!==this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController16.abortLoading();this.$VideoWatchAndScrollController83(this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36));this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var z=this.$VideoWatchAndScrollController16.getVideoNode(),aa=parseFloat(z.getAttribute('data-original-aspect-ratio'));if(!aa)aa=16/9;var ba=this.$VideoWatchAndScrollController46;if(!ba)ba=this.$VideoWatchAndScrollController54(z);this.$VideoWatchAndScrollController14&&(ba.width=this.$VideoWatchAndScrollController14.getWidth());ba.height=ba.width/aa;if(c('VideoPlayerExperiments').rhcWNSEnabled){ba.height=Math.min(ba.height,w());}else if(ba.height>p){ba.height=p;ba.width=ba.height*aa;}this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(ba.width,ba.height);this.$VideoWatchAndScrollController49(z);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({videoIndex:this.$VideoWatchAndScrollController36,width:ba.width,height:ba.height},function(){if(c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/resize');});this.$VideoWatchAndScrollController46=ba;this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').AUTOPLAY);y&&this.$VideoWatchAndScrollController16.mute();if(this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36){this.$VideoWatchAndScrollController88();}else this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();};x.prototype.$VideoWatchAndScrollController90=function(){'use strict';var y=m;if(this.$VideoWatchAndScrollController12)y+=this.$VideoWatchAndScrollController12.scrollHeight;return Math.max(y,o);};x.prototype.$VideoWatchAndScrollController49=function(y){'use strict';if(this.$VideoWatchAndScrollController46){this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController46.height,left:this.$VideoWatchAndScrollController46.left,top:this.$VideoWatchAndScrollController46.top,width:this.$VideoWatchAndScrollController46.width};return;}if(y){var z=y.scrollWidth,aa=y.scrollHeight,ba=this.$VideoWatchAndScrollController75(y),ca=ba*aa/z;this.$VideoWatchAndScrollController7.height=ca;this.$VideoWatchAndScrollController7.width=ba;}else this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController5,left:m,top:this.$VideoWatchAndScrollController90(),width:this.$VideoWatchAndScrollController6};};x.prototype.$VideoWatchAndScrollController85=function(y,z){'use strict';var aa=c('DOM').create('canvas',{className:"_57n6"});aa.height=y.height;aa.width=y.width;if(aa.getContext&&aa.getContext('2d'))if(z.scrollHeight===0){var ba=c('DOM').scry(z.parentNode,"._3t5i"),ca=ba[0];if(ca){var da=aa.getContext('2d');da.drawImage(ca,0,0);}}else if(z instanceof window.HTMLVideoElement){var ea=new (c('VideoFrameBuffer'))(aa,z);ea.updateFrameBuffer();}var fa=c('DOM').create('div');fa.appendChild(aa);var ga=c('DOM').create('i',{className:"_1jto _bsl _3htz"});fa.appendChild(ga);return fa;};x.prototype.$VideoWatchAndScrollController63=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController51();this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController80();};x.prototype.$VideoWatchAndScrollController91=function(){'use strict';this.$VideoWatchAndScrollController16.emit('WatchAndScroll/collapse');};x.prototype.$VideoWatchAndScrollController92=function(){'use strict';var y=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController7,this.$VideoWatchAndScrollController16.getVideoNode(),true);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({fadeOut:true,fadeOutPlaceholder:y});this.$VideoWatchAndScrollController93(this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController8);if(this.$VideoWatchAndScrollController18){c('DOM').remove(this.$VideoWatchAndScrollController18);this.$VideoWatchAndScrollController18=null;}if(this.$VideoWatchAndScrollController13){this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController13=null;}};x.prototype.$VideoWatchAndScrollController93=function(y,z,aa){'use strict';var ba=y.getOption('VideoWithLiveBroadcast','isLive');y.pause(c('VideoPlayerReason').USER);if(y.isPlayerVersion('silvercity'))y.detachRootNode();aa&&c('ReactDOM').unmountComponentAtNode(aa);if(z.dimensions&&z.dimensions.width&&z.dimensions.height){y.addOffsetStylings();y.setDimensions(z.dimensions.width,z.dimensions.height);}if(z.videoRootNode)c('DOM').prependContent(z.videoRootNode,y.getRootNode());y.emit('WatchAndScroll/positionUpdated');y.updateSource(z.source||c('VideoPlayerLoggerSource').INLINE);var ca=this.$VideoWatchAndScrollController69(y.getVideoNode()),da=ca.top,ea=c('getViewportDimensions')().height;if(y.getSource()!==c('VideoPlayerLoggerSource').PERMALINK)y.mute();if(da<window.scrollY||da>window.scrollY+ea){y.pause(c('VideoPlayerReason').AUTOPLAY);y.emit('resumeAutoplay');}else y.play(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController86=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController40||j(0);this.$VideoWatchAndScrollController40.setState({fadeOut:true});this.$VideoWatchAndScrollController45=setTimeout(function(){this.$VideoWatchAndScrollController41||j(0);this.$VideoWatchAndScrollController42||j(0);this.$VideoWatchAndScrollController93(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42);if(this.$VideoWatchAndScrollController44){c('DOM').remove(this.$VideoWatchAndScrollController44);this.$VideoWatchAndScrollController44=null;}this.$VideoWatchAndScrollController45=null;}.bind(this),s);};x.prototype.$VideoWatchAndScrollController52=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController14||j(0);if(!this.$VideoWatchAndScrollController22&&c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/exit');this.$VideoWatchAndScrollController35.forEach(function(y){return y.abortLoading();});this.$VideoWatchAndScrollController92();this.$VideoWatchAndScrollController45=setTimeout(function(){c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController81());this.$VideoWatchAndScrollController82();}.bind(this),s);};x.prototype.$VideoWatchAndScrollController82=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController33&&this.$VideoWatchAndScrollController33.abandonRequest();this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController31.release();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController8={};this.$VideoWatchAndScrollController16=null;this.$VideoWatchAndScrollController17=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController14=null;clearTimeout(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null;if(this.$VideoWatchAndScrollController41&&this.$VideoWatchAndScrollController42&&this.$VideoWatchAndScrollController43)this.$VideoWatchAndScrollController93(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42);this.$VideoWatchAndScrollController41=null;this.$VideoWatchAndScrollController43={};if(this.$VideoWatchAndScrollController44){c('DOM').remove(this.$VideoWatchAndScrollController44);this.$VideoWatchAndScrollController44=null;}c('VideoAutoplayControllerX').setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController22){this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController54(this.$VideoWatchAndScrollController22.getVideoNode());this.$VideoWatchAndScrollController62();this.$VideoWatchAndScrollController58(this.$VideoWatchAndScrollController22,c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController22=null;}this.$VideoWatchAndScrollController29=false;this.$VideoWatchAndScrollController46=null;c('VideoChannelLogger').endSession();};x.prototype.$VideoWatchAndScrollController87=function(){'use strict';return c('ReactDOM').render(c('React').createElement(c('VideoWatchAndScrollContainer.react'),{isDrawerEnabled:c('VideoPlayerExperiments').rhcWNSDrawerEnabled,isLiveVideo:function(){return this.$VideoWatchAndScrollController16.isLiveVideo();}.bind(this),initialPosition:this.$VideoWatchAndScrollController7,initialVideoElement:this.$VideoWatchAndScrollController15,onChannelNavigation:this.$VideoWatchAndScrollController94.bind(this),onClick:this.$VideoWatchAndScrollController95.bind(this),onClose:this.$VideoWatchAndScrollController63.bind(this),onCollapse:this.$VideoWatchAndScrollController91.bind(this),onDoubleClick:this.$VideoWatchAndScrollController96.bind(this),onDrop:this.$VideoWatchAndScrollController97.bind(this),onGrab:this.$VideoWatchAndScrollController98.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController99.bind(this),onReplay:this.$VideoWatchAndScrollController89.bind(this)}),this.$VideoWatchAndScrollController81());};x.prototype.$VideoWatchAndScrollController80=function(){'use strict';if(this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController17.emit('exitWatchAndScroll');};x.prototype.$VideoWatchAndScrollController94=function(y){'use strict';if(y>0&&this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36){if(!c('shouldWNSRenderToRHC')())this.$VideoWatchAndScrollController63();return;}this.$VideoWatchAndScrollController36+=y;this.$VideoWatchAndScrollController60();};x.prototype.$VideoWatchAndScrollController98=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController51();var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(y)return;this.$VideoWatchAndScrollController23=this.$VideoWatchAndScrollController16.isState('playing');this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController97=function(){'use strict';var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(y)return;if(this.$VideoWatchAndScrollController23)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController23=null;};x.prototype.$VideoWatchAndScrollController95=function(){'use strict';var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(this.$VideoWatchAndScrollController19||y)return;if(this.$VideoWatchAndScrollController16.isState('playing')){this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}else if(this.$VideoWatchAndScrollController16.isState('paused')||this.$VideoWatchAndScrollController16.isState('finished')||this.$VideoWatchAndScrollController16.isState('ready'))this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};x.prototype.$VideoWatchAndScrollController83=function(y){'use strict';if(this.$VideoWatchAndScrollController16===y)return;if(c('VideoPlayerExperiments').rhcWNSEnabled)y.addListener('WatchAndScroll/collapse',function(){if(y!=this.$VideoWatchAndScrollController16){y.removeCurrentListener();return;}if(!c('shouldWNSRenderToRHC')())return;c('Arbiter').inform('VideoWatchAndScrollController/collapse');}.bind(this));this.$VideoWatchAndScrollController16=y;};x.prototype.$VideoWatchAndScrollController96=function(){'use strict';if(this.$VideoWatchAndScrollController19)return;var y=this.$VideoWatchAndScrollController16.getOption('VideoWithClickToChannelView','isChannelEligible'),z=this.$VideoWatchAndScrollController16.getVideoID()===this.$VideoWatchAndScrollController17.getVideoID();if(z&&!y)return;c('Bootloader').loadModules(["VideoChannelController"],function(aa){this.$VideoWatchAndScrollController68();aa.openFromVideoPlayer(this.$VideoWatchAndScrollController16,this.$VideoWatchAndScrollController16.getVideoChannelID(),this.$VideoWatchAndScrollController34,this.$VideoWatchAndScrollController66());}.bind(this),'VideoWatchAndScrollController');};x.prototype.pauseActiveVideo=function(y){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.pause(y);};x.pauseActiveVideo=function(){var y=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!u)return;u.pauseActiveVideo(y);};x.prototype.playActiveVideo=function(y){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.play(y);};x.playActiveVideo=function(){var y=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!u)return;u.playActiveVideo(y);};x.prototype.$VideoWatchAndScrollController99=function(y){'use strict';this.$VideoWatchAndScrollController7=y;if(this.$VideoWatchAndScrollController14&&!this.$VideoWatchAndScrollController14.getFadeOutStatus()){this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(y.width,y.height);this.$VideoWatchAndScrollController16.emit('WatchAndScroll/positionUpdated');}};x.prototype.$VideoWatchAndScrollController100=function(){'use strict';var y=c('DOM').create('div');if(c('shouldWNSRenderToRHC')()){c('ifRequired')('RHCVideoWNSController',function(z){return z.mount(y);});}else c('DOM').appendContent(document.body,y);return y;};x.prototype.$VideoWatchAndScrollController81=function(){'use strict';if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController100();return this.$VideoWatchAndScrollController2;};f.exports=x;}),null);
__d("XBasicFBNuxGenShouldShowController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/megaphone\/should_show_fbnux\/",{nux_id:{type:"Int",required:true}});}),null);
__d('EmbeddedVideoControls',['cx','csx','Arbiter','AsyncRequest','CSS','DeferredComponent.react','EventListener','FullScreen','Parent','React','ReactDOM','Set','TahoeVariables','VideoChannelViewVariables','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerUIComponentDrawer','VideoPlayerVersions','VideoWatchAndScrollController','XBasicFBNuxGenShouldShowController','cancelAnimationFrame','containsNode','destroyOnUnload','getActiveElement','logVideosClickTracking','requestAnimationFrame','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i){var j=c('VideoChannelViewVariables').channelRedesign,k=new (c('Set'))([c('VideoPlayerLoggerSource').EMBEDDED,c('VideoPlayerLoggerSource').EMBEDDED_VIDEO,c('VideoPlayerLoggerSource').EMBEDDED_VIDEO_PREVIEW,c('VideoPlayerLoggerSource').EMBEDDED_PAGE_PLUGIN,c('VideoPlayerLoggerSource').EMBEDDED_VIDEO_FROM_UFI]),l=4936,m=c('VideoPlayerExperiments').persistentWNSEnabled;function n(o,p,q){'use strict';this.$EmbeddedVideoControls6=function(){this.$EmbeddedVideoControls48=false;this.scheduleRenderReactComponent();}.bind(this);this.$EmbeddedVideoControls7=o;this.$EmbeddedVideoControls44=p;this.$EmbeddedVideoControls5=0;this.$EmbeddedVideoControls39=0;this.$EmbeddedVideoControls38=0;this.$EmbeddedVideoControls12=0;this.$EmbeddedVideoControls54=false;this.$EmbeddedVideoControls23=q.hideOnEvents.autoplay;this.$EmbeddedVideoControls24=q.hideOnEvents.finish;this.$EmbeddedVideoControls18=q.hideOnEvents.pause;this.$EmbeddedVideoControls19=q.hidePlaybackControl;this.$EmbeddedVideoControls20=q.hidePlaybackScrubber;this.$EmbeddedVideoControls47=q.showPlaybackRateControl;this.$EmbeddedVideoControls21=q.hideRemainingTime;this.$EmbeddedVideoControls22=q.hideSettings;this.$EmbeddedVideoControls52=q.useTwoRows;this.$EmbeddedVideoControls26=q.isCommentAttachment;this.$EmbeddedVideoControls71=q.pointsOfInterestConfig||{};this.$EmbeddedVideoControls72=q.displayElapsedTime||false;this.$EmbeddedVideoControls73=q.adBreaks;this.$EmbeddedVideoControls74=q.showSpatialAudioNUX;this.$EmbeddedVideoControls34=false;this.$EmbeddedVideoControls46=q.shouldShowWNSNUX;this.$EmbeddedVideoControls48=false;this.$EmbeddedVideoControls49=false;var r=o.isPlayerVersion(c('VideoPlayerVersions').PLEASANTVILLE);this.$EmbeddedVideoControls16=q.showButtons.watchandscroll&&r;this.$EmbeddedVideoControls1=q.showButtons.casting;this.$EmbeddedVideoControls2=q.showButtons.fullscreen&&!!c('FullScreen').isSupported();this.$EmbeddedVideoControls37=q.permalinkURL;this.$EmbeddedVideoControls30=q.isLive;this.$EmbeddedVideoControls31=q.isSphericalVideo;this.$EmbeddedVideoControls42=c('VideoPlayerExperiments').redesign;this.$EmbeddedVideoControls17=false;this.$EmbeddedVideoControls68=q.showQualitySelector;this.$EmbeddedVideoControls69=q.qualitySelectorMinStreams;this.$EmbeddedVideoControls56=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls9=this.enterTahoe.bind(this);this.$EmbeddedVideoControls58=this.play.bind(this);this.$EmbeddedVideoControls57=this.pause.bind(this);this.$EmbeddedVideoControls59=this.scrubBegin.bind(this);this.$EmbeddedVideoControls60=this.scrubEnd.bind(this);this.$EmbeddedVideoControls50=this.startCasting.bind(this);this.$EmbeddedVideoControls51=this.stopCasting.bind(this);this.$EmbeddedVideoControls62=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls63=this.toggleHD.bind(this);this.$EmbeddedVideoControls64=this.toggleHLS.bind(this);this.$EmbeddedVideoControls65=this.toggleMuted.bind(this);this.$EmbeddedVideoControls66=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls55=this.changeVolume.bind(this);this.$EmbeddedVideoControls61=this.setVideoPlaybackRate.bind(this);this.$EmbeddedVideoControls67=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls70=this.$EmbeddedVideoControls7.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.EmbeddedControls,36);this.$EmbeddedVideoControls36=q.needsInitialVideoInfoUpdate;this.$EmbeddedVideoControls75=this.$EmbeddedVideoControls7.getSource();if(!m)c('destroyOnUnload')(function(){return c('ReactDOM').unmountComponentAtNode(p);});var s=this.$EmbeddedVideoControls7.getRootNode();c('EventListener').listen(this.$EmbeddedVideoControls44,'focusin',function(){this.$EmbeddedVideoControls11=true;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(this.$EmbeddedVideoControls44,'focusout',function(){if(!c('containsNode')(this.$EmbeddedVideoControls44,c('getActiveElement')())){this.$EmbeddedVideoControls11=false;this.scheduleRenderReactComponent();}}.bind(this));c('EventListener').listen(s,'click',function(u){if(this.$EmbeddedVideoControls11&&u.detail)c('getActiveElement')().blur();}.bind(this));c('EventListener').listen(s,'mouseleave',function(){this.$EmbeddedVideoControls35=false;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(s,'mouseenter',function(){this.$EmbeddedVideoControls35=true;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','acquireForceHideLock',function(){this.$EmbeddedVideoControls12++;return {release:function(){this.$EmbeddedVideoControls12--;this.scheduleRenderReactComponent();}.bind(this)};}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnFinish',function(){return this.$EmbeddedVideoControls24;}.bind(this),function(u){this.$EmbeddedVideoControls24=u;}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnPause',function(){return this.$EmbeddedVideoControls18;}.bind(this),function(u){this.$EmbeddedVideoControls18=u;}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','available',function(){return true;});this.$EmbeddedVideoControls7.registerOption('VideoControls','areControlsVisible',this.areControlsVisible.bind(this));['mousemove','mousedown','keydown'].forEach(function(u){c('EventListener').listen(this.$EmbeddedVideoControls7.getRootNode(),u,c('throttle')(this.flashControls.bind(this),200));}.bind(this));this.scheduleRenderReactComponent();var t=['changeVolume','loadedSubtitles','muteVideo','pausePlayback','stateChange','toggleFullscreen','toggleSubtitles','updateMetadata','unmuteVideo','qualityChange','casting/receiverStateChange','casting/supportStateChange','casting/castingStateChange','casting/playStateChange'];t.forEach(function(event){return this.$EmbeddedVideoControls7.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));}.bind(this));this.$EmbeddedVideoControls7.addListener('beginPlayback',function(){return this.$EmbeddedVideoControls76();}.bind(this));this.$EmbeddedVideoControls7.addListener('updateStatus',function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('casting/updateStatus',function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('updateBuffer',function(u){this.$EmbeddedVideoControls5=u.duration+u.offset;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('optionsChange',function(u){this.$EmbeddedVideoControls77();}.bind(this));this.$EmbeddedVideoControls7.addListener('resumeAutoplay',function(u){this.$EmbeddedVideoControls78();this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));this.$EmbeddedVideoControls7.addListener('turnOffAutoplay',function(u){this.$EmbeddedVideoControls25=false;}.bind(this));if(this.$EmbeddedVideoControls46){this.$EmbeddedVideoControls7.addListener('VideoWithStallRecovery/bufferingStateOn',function(){if(!this.$EmbeddedVideoControls49)this.$EmbeddedVideoControls79(l);}.bind(this));this.$EmbeddedVideoControls7.addListener('VideoWithStallRecovery/bufferingStateOff',function(){this.$EmbeddedVideoControls48=false;}.bind(this));}this.$EmbeddedVideoControls7.addListener('finishPlayback',function(){this.scheduleRenderReactComponent(true);}.bind(this));this.$EmbeddedVideoControls78();this.$EmbeddedVideoControls80();}n.prototype.$EmbeddedVideoControls81=function(){'use strict';return this.$EmbeddedVideoControls7.isState('playing')&&this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying');};n.prototype.$EmbeddedVideoControls80=function(){'use strict';this.$EmbeddedVideoControls45=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$EmbeddedVideoControls14=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$EmbeddedVideoControls40=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','previewThumbnailInformation');};n.prototype.$EmbeddedVideoControls78=function(){'use strict';this.$EmbeddedVideoControls25=this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying');};n.prototype.$EmbeddedVideoControls77=function(){'use strict';this.$EmbeddedVideoControls78();this.$EmbeddedVideoControls80();};n.prototype.$EmbeddedVideoControls76=function(){'use strict';this.flashControls();this.$EmbeddedVideoControls33=true;this.scheduleRenderReactComponentWithVideoInfoUpdate();};n.prototype.$EmbeddedVideoControls79=function(o){'use strict';var p=c('XBasicFBNuxGenShouldShowController').getURIBuilder().setInt('nux_id',o).getURI();new (c('AsyncRequest'))().setURI(p).setMethod('GET').setReadOnly(true).setHandler(function(q){var r=q.getPayload();this.$EmbeddedVideoControls48=r.should_show_nux;}.bind(this)).send();};n.prototype.updateConfig_DEPRECATED=function(o,p){'use strict';this.$EmbeddedVideoControls37=o.permalinkURL||null;this.$EmbeddedVideoControls1=o.showButtons?o.showButtons.casting:false;this.$EmbeddedVideoControls30=!!o.isLive;this.scheduleRenderReactComponent();};n.prototype.flashControls=function(){'use strict';if(!this.$EmbeddedVideoControls41){this.$EmbeddedVideoControls41=true;this.scheduleRenderReactComponent();}clearTimeout(this.$EmbeddedVideoControls10);this.$EmbeddedVideoControls10=setTimeout(function(){this.$EmbeddedVideoControls41=false;this.scheduleRenderReactComponent();}.bind(this),3000);};n.prototype.areControlsVisible=function(){'use strict';if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls48)return true;if(this.$EmbeddedVideoControls7.isState('playing')){if(this.$EmbeddedVideoControls23&&this.$EmbeddedVideoControls25)return false;return this.$EmbeddedVideoControls11||this.$EmbeddedVideoControls35&&this.$EmbeddedVideoControls41;}else if(this.$EmbeddedVideoControls7.isState('finished')){return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls24;}else if(this.$EmbeddedVideoControls7.isState('paused'))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls18;return false;};n.prototype.areControlsEnabled=function(){'use strict';if(this.$EmbeddedVideoControls12>0||this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback')||this.$EmbeddedVideoControls7.isState('finished')&&this.$EmbeddedVideoControls24&&!this.$EmbeddedVideoControls7.isFullscreen())return false;return true;};n.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){'use strict';this.$EmbeddedVideoControls36=true;this.scheduleRenderReactComponent(true);};n.prototype.shouldRenderComponent=function(){'use strict';if(this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback'))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls17=false;return true;}if(!this.$EmbeddedVideoControls17){this.$EmbeddedVideoControls17=true;return true;}return false;};n.prototype.scheduleRenderReactComponent=function(){var o=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(!o&&!this.shouldRenderComponent())return;c('cancelAnimationFrame')(this.$EmbeddedVideoControls43);this.$EmbeddedVideoControls43=c('requestAnimationFrame')(this.renderReactComponent.bind(this));};n.prototype.renderReactComponent=function(){'use strict';if(this.$EmbeddedVideoControls36)this.$EmbeddedVideoControls82();var o=this.areControlsVisible();if(this.$EmbeddedVideoControls54!==o){this.$EmbeddedVideoControls7.emit('VideoControls/visibilityUpdate',{areControlsVisible:o});if(o){this.$EmbeddedVideoControls70.reserve();}else this.$EmbeddedVideoControls70.release();c('CSS').conditionClass(this.$EmbeddedVideoControls7.getRootNode(),"_6103",!o);}this.$EmbeddedVideoControls54=o;var p=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),q=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),r=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),s=this.$EmbeddedVideoControls7.getStreamingFormat(),t=null;if(this.$EmbeddedVideoControls7.hasOption('LiveHeatmap','interestLevels'))t=this.$EmbeddedVideoControls7.getOption('LiveHeatmap','interestLevels');var u=this.$EmbeddedVideoControls34;this.$EmbeddedVideoControls34=c('VideoPlayerExperiments').slidingWNSv3&&this.$EmbeddedVideoControls16&&c('VideoWatchAndScrollController').isSlidingEnabled(this.$EmbeddedVideoControls7);if(u!==this.$EmbeddedVideoControls34)this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls34?c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_HIGHLIGHTED:c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);c('ReactDOM').render(c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function v(w){return e(['EmbeddedVideoControls.react'],w);},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,areSubtitlesActive:this.$EmbeddedVideoControls3,areHLSActive:this.$EmbeddedVideoControls4,bufferedPosition:this.$EmbeddedVideoControls5,finishedPlaying:this.$EmbeddedVideoControls7.isState('finished'),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls13,hasSubtitles:this.$EmbeddedVideoControls15,hasWatchAndScroll:this.$EmbeddedVideoControls16&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls26,isEmbedded:k.has(this.$EmbeddedVideoControls75),isFullscreen:this.$EmbeddedVideoControls27,isHD:this.$EmbeddedVideoControls28,isInline:this.$EmbeddedVideoControls29,isLive:this.$EmbeddedVideoControls30,isSphericalVideo:this.$EmbeddedVideoControls31,isMuted:this.$EmbeddedVideoControls32,isPlaying:this.$EmbeddedVideoControls33,isSidePaneOpen:this.getIsInChannel()&&!!c('Parent').bySelector(this.$EmbeddedVideoControls44,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls34,interestLevels:t,drawer:this.$EmbeddedVideoControls70,onEnterWatchAndScroll:this.$EmbeddedVideoControls56,onEnterTahoe:this.$EmbeddedVideoControls9,doesFullscreenEnterTahoe:this.$EmbeddedVideoControls8,onWNSNUXClose:this.$EmbeddedVideoControls6,onPause:this.$EmbeddedVideoControls57,onPlay:this.$EmbeddedVideoControls58,onScrubBegin:this.$EmbeddedVideoControls59,onScrubEnd:this.$EmbeddedVideoControls60,onSetVideoPlaybackRate:this.$EmbeddedVideoControls61,onSidePaneToggle:function v(){c('Arbiter').inform('VideoChannelView/sidePaneToggle',{});},onStartCast:this.$EmbeddedVideoControls50,onStopCast:this.$EmbeddedVideoControls51,onToggleFullscreen:this.$EmbeddedVideoControls62,onToggleHD:this.$EmbeddedVideoControls63,onToggleHLS:this.$EmbeddedVideoControls64,onToggleMuted:this.$EmbeddedVideoControls65,onToggleSubtitles:this.$EmbeddedVideoControls66,onVolumeChange:this.$EmbeddedVideoControls55,permalinkURL:this.$EmbeddedVideoControls37,playbackDuration:this.$EmbeddedVideoControls38,playbackPosition:this.$EmbeddedVideoControls39,transparent:!o,redesign:this.$EmbeddedVideoControls42,hidePlaybackControl:this.$EmbeddedVideoControls19,hidePlaybackScrubber:this.$EmbeddedVideoControls20,showPlaybackRateControl:this.$EmbeddedVideoControls47,hideRemainingTime:this.$EmbeddedVideoControls21,hideSettings:this.$EmbeddedVideoControls22,useTwoRows:this.$EmbeddedVideoControls52,volume:this.$EmbeddedVideoControls53,scrubberPreviewSprites:this.$EmbeddedVideoControls45,hasScrubberPreview:this.$EmbeddedVideoControls14,previewThumbnailInformation:this.$EmbeddedVideoControls40,availableQualities:p,selectedQuality:q,canAutoSelectVideoQuality:r,onSelectQuality:this.$EmbeddedVideoControls67,showQualitySelector:this.$EmbeddedVideoControls68,qualitySelectorMinStreams:this.$EmbeddedVideoControls69,streamingFormat:s,showSpatialAudioNUX:this.$EmbeddedVideoControls74,onPointOfInterestSelect:this.$EmbeddedVideoControls71.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls71.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls71.pointsOfInterest,displayElapsedTime:this.$EmbeddedVideoControls72,adBreaks:this.$EmbeddedVideoControls73,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls27&&j,showWNSNUX:this.$EmbeddedVideoControls48&&this.areControlsEnabled()&&this.$EmbeddedVideoControls46}),this.$EmbeddedVideoControls44);if(this.$EmbeddedVideoControls48&&this.areControlsEnabled()&&this.$EmbeddedVideoControls46)this.$EmbeddedVideoControls49=true;};n.prototype.$EmbeddedVideoControls82=function(){'use strict';var o=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(o){this.$EmbeddedVideoControls3=o.areSubtitlesActive;this.$EmbeddedVideoControls15=o.hasSubtitles;this.$EmbeddedVideoControls13=o.hasHD;this.$EmbeddedVideoControls28=o.isHD;this.$EmbeddedVideoControls32=o.isMuted;this.$EmbeddedVideoControls33=o.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls38=o.playbackDuration;this.$EmbeddedVideoControls53=o.volume;var p=this.$EmbeddedVideoControls7.getOption('CommercialBreakVideoAdOverlay','videoController');if(p){this.$EmbeddedVideoControls27=p.isFullscreen();}else this.$EmbeddedVideoControls27=this.$EmbeddedVideoControls7.isFullscreen();this.$EmbeddedVideoControls29=this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').INLINE||this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').CONTINUE_WATCHING_RECOMMENDATION;this.$EmbeddedVideoControls30=o.isLiveStream;this.$EmbeddedVideoControls4=o.areHLSActive;this.$EmbeddedVideoControls36=false;this.$EmbeddedVideoControls8=this.$EmbeddedVideoControls7.listeners('enterTahoe').length!==0&&c('TahoeVariables').fullscreenControlBehavior==='tahoe';}};n.prototype.toggleHD=function(){'use strict';this.$EmbeddedVideoControls7.toggleHD();};n.prototype.setPreferredVideoQuality=function(o){'use strict';if(o){this.$EmbeddedVideoControls7.setPreferredVideoQuality(o);}else this.$EmbeddedVideoControls7.unsetPreferredVideoQuality();};n.prototype.toggleHLS=function(){'use strict';this.$EmbeddedVideoControls7.switchToStreamType('hls');};n.prototype.enterWatchAndScroll=function(){'use strict';if(c('shouldWNSRenderToRHC')()){this.$EmbeddedVideoControls7.emit('crossfadeWatchAndScroll');}else this.$EmbeddedVideoControls7.emit('enterWatchAndScroll');};n.prototype.enterTahoe=function(){'use strict';this.$EmbeddedVideoControls7.emit('enterTahoe');};n.prototype.scrubBegin=function(){'use strict';if(!this.isCasting())this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').SEEK);};n.prototype.scrubEnd=function(o){'use strict';this.$EmbeddedVideoControls7.seek(o);this.$EmbeddedVideoControls39=o;if(!this.isCasting()&&this.$EmbeddedVideoControls33)this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').SEEK);};n.prototype.toggleMuted=function(){'use strict';if(this.$EmbeddedVideoControls7.isMuted()){c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.unmute();}else this.$EmbeddedVideoControls7.mute();};n.prototype.toggleFullscreen=function(){'use strict';if(!this.$EmbeddedVideoControls7.isFullscreen())c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.toggleFullscreen();};n.prototype.toggleSubtitles=function(){'use strict';this.$EmbeddedVideoControls7.toggleSubtitles();this.scheduleRenderReactComponent();};n.prototype.changeVolume=function(o){'use strict';this.$EmbeddedVideoControls7.setVolume(o);};n.prototype.play=function(){'use strict';c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',true);}else this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').USER);};n.prototype.pause=function(){'use strict';if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',false);}else this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').USER);};n.prototype.setVideoPlaybackRate=function(o){'use strict';this.$EmbeddedVideoControls7.setPlaybackRate(o);};n.prototype.startCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',true);};n.prototype.stopCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',false);};n.prototype.isCastPlaying=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isPlaying');};n.prototype.hasFoundReceiver=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','hasFoundReceiver');};n.prototype.isCasting=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isCasting');};n.prototype.isCastingSupported=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isSupported');};n.prototype.updatePointsOfInterestConfig=function(o){'use strict';Object.assign(this.$EmbeddedVideoControls71,o);this.scheduleRenderReactComponent();};n.prototype.updateDisplayElapsedTime=function(o){'use strict';this.$EmbeddedVideoControls72=o;this.scheduleRenderReactComponent();};n.prototype.getIsInChannel=function(){'use strict';return this.$EmbeddedVideoControls7.getIsInChannel();};f.exports=n;}),null);
__d("VideoPlayerFallbackEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENTER:"VideoPlayerFallbackEvents\/enter",RECOVER:"VideoPlayerFallbackEvents\/recover"});}),null);
__d('SphericalVideoFallback',['cx','CSS','VideoPlayerFallbackEvents','VideoPlayerLoggerEvent','VideoPlayerStates'],(function a(b,c,d,e,f,g,h){var i={setup:function j(k,l){var m,n=l.fallbackUriList,o=l.fallbackType,p=function q(){k.emit(c('VideoPlayerFallbackEvents').ENTER);var r=k.addListener('stateChange',function(){if(k.isState(c('VideoPlayerStates').PLAYING)){k.logEvent(c('VideoPlayerLoggerEvent').SPHERICAL_FALLBACK_ENTERED,{spherical_fallback_type:o});r.remove();}});k.setFallbackSources(n);c('CSS').removeClass(k.getRootNode(),"_3-n5");k.reset();k.emit(c('VideoPlayerFallbackEvents').RECOVER);};if(k.isState(c('VideoPlayerStates').FALLBACK)){p();}else (function(){var q=k.addListener('stateChange',function(){if(k.isState(c('VideoPlayerStates').FALLBACK)){p();q.remove();}});})();}};f.exports=i;}),null);
__d('VideoErrorOverlay',['SphericalVideoFallback'],(function a(b,c,d,e,f,g){function h(k,l){if('textContent' in k)k.textContent=l;k.innerText=l;}function i(k){if('textContent' in k)return k.textContent;if(!k.innerText)return '';return k.innerText;}function j(k,l,m,n,o){'use strict';this.$VideoErrorOverlay1=l;this.$VideoErrorOverlay2=m;this.$VideoErrorOverlay3=n;k.registerOption('VideoErrorOverlay','title',function(){return this.getTitle();}.bind(this),function(p){return this.setTitle(p);}.bind(this));k.registerOption('VideoErrorOverlay','message',function(){return this.getMessage();}.bind(this),function(p){return this.setMessage(p);}.bind(this));k.registerOption('VideoErrorOverlay','linkURL',function(){return this.getLinkURL();}.bind(this),function(p){return this.setLinkURL(p);}.bind(this));k.registerOption('VideoErrorOverlay','linkTitle',function(){return this.getLinkTitle();}.bind(this),function(p){return this.setLinkTitle(p);}.bind(this));k.registerOption('VideoErrorOverlay','available',function(){return true;});if(o)c('SphericalVideoFallback').setup(k,o);}j.prototype.getTitle=function(){'use strict';return this.$VideoErrorOverlay1?i(this.$VideoErrorOverlay1):'';};j.prototype.setTitle=function(k){'use strict';if(this.$VideoErrorOverlay1)h(this.$VideoErrorOverlay1,k);};j.prototype.getMessage=function(){'use strict';return i(this.$VideoErrorOverlay2);};j.prototype.setMessage=function(k){'use strict';h(this.$VideoErrorOverlay2,k);};j.prototype.getLinkURL=function(){'use strict';return this.$VideoErrorOverlay3.href;};j.prototype.setLinkURL=function(k){'use strict';this.$VideoErrorOverlay3.href=k;};j.prototype.getLinkTitle=function(){'use strict';return i(this.$VideoErrorOverlay3);};j.prototype.setLinkTitle=function(k){'use strict';h(this.$VideoErrorOverlay3,k);};f.exports=j;}),null);